"use strict";function cov_19ru92emq5(){var path="/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/prompt-resolver/select-prompt-resolver.ts";var hash="2bc4f351a9a11145c94a5a0f73ff11d9b9995e07";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/prompt-resolver/select-prompt-resolver.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:38}},"2":{start:{line:4,column:15},end:{line:4,column:36}},"3":{start:{line:5,column:26},end:{line:5,column:54}},"4":{start:{line:6,column:24},end:{line:6,column:73}},"5":{start:{line:7,column:23},end:{line:7,column:57}},"6":{start:{line:10,column:8},end:{line:13,column:9}},"7":{start:{line:11,column:27},end:{line:11,column:85}},"8":{start:{line:12,column:12},end:{line:12,column:74}},"9":{start:{line:16,column:23},end:{line:16,column:120}},"10":{start:{line:18,column:8},end:{line:22,column:9}},"11":{start:{line:20,column:52},end:{line:20,column:75}},"12":{start:{line:21,column:12},end:{line:21,column:29}},"13":{start:{line:23,column:25},end:{line:23,column:86}},"14":{start:{line:23,column:55},end:{line:23,column:85}},"15":{start:{line:24,column:21},end:{line:24,column:84}},"16":{start:{line:24,column:42},end:{line:24,column:83}},"17":{start:{line:25,column:26},end:{line:25,column:94}},"18":{start:{line:25,column:47},end:{line:25,column:93}},"19":{start:{line:26,column:8},end:{line:28,column:9}},"20":{start:{line:27,column:12},end:{line:27,column:21}},"21":{start:{line:29,column:8},end:{line:29,column:17}},"22":{start:{line:32,column:0},end:{line:32,column:52}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:9,column:4},end:{line:9,column:5}},loc:{start:{line:9,column:41},end:{line:14,column:5}},line:9},"1":{name:"(anonymous_1)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:58},end:{line:30,column:5}},line:15},"2":{name:"(anonymous_2)",decl:{start:{line:20,column:34},end:{line:20,column:35}},loc:{start:{line:20,column:52},end:{line:20,column:75}},line:20},"3":{name:"(anonymous_3)",decl:{start:{line:23,column:50},end:{line:23,column:51}},loc:{start:{line:23,column:55},end:{line:23,column:85}},line:23},"4":{name:"(anonymous_4)",decl:{start:{line:24,column:37},end:{line:24,column:38}},loc:{start:{line:24,column:42},end:{line:24,column:83}},line:24},"5":{name:"(anonymous_5)",decl:{start:{line:25,column:42},end:{line:25,column:43}},loc:{start:{line:25,column:47},end:{line:25,column:93}},line:25}},branchMap:{"0":{loc:{start:{line:10,column:8},end:{line:13,column:9}},type:"if",locations:[{start:{line:10,column:8},end:{line:13,column:9}},{start:{line:10,column:8},end:{line:13,column:9}}],line:10},"1":{loc:{start:{line:12,column:61},end:{line:12,column:72}},type:"binary-expr",locations:[{start:{line:12,column:61},end:{line:12,column:67}},{start:{line:12,column:71},end:{line:12,column:72}}],line:12},"2":{loc:{start:{line:18,column:8},end:{line:22,column:9}},type:"if",locations:[{start:{line:18,column:8},end:{line:22,column:9}},{start:{line:18,column:8},end:{line:22,column:9}}],line:18},"3":{loc:{start:{line:18,column:12},end:{line:20,column:76}},type:"binary-expr",locations:[{start:{line:18,column:12},end:{line:18,column:84}},{start:{line:19,column:15},end:{line:19,column:53}},{start:{line:20,column:15},end:{line:20,column:76}}],line:18},"4":{loc:{start:{line:26,column:8},end:{line:28,column:9}},type:"if",locations:[{start:{line:26,column:8},end:{line:28,column:9}},{start:{line:26,column:8},end:{line:28,column:9}}],line:26}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0,0],"4":[0,0]},inputSourceMap:{version:3,file:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/prompt-resolver/select-prompt-resolver.ts",sources:["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/prompt-resolver/select-prompt-resolver.ts"],names:[],mappings:";;;AAAA,qCAAsG;AACtG,uDAAmD;AACnD,0EAAsE;AACtE,0DAAsD;AAGtD,MAAa,oBAAqB,SAAQ,gCAAc;IAE/C,aAAa,CAAC,KAAY,EAAE,MAAc,EAAE,MAAmB;QACpE,IAAI,MAAM,YAAY,4BAAY,EAAE;YAClC,MAAM,MAAM,GAAG,IAAI,CAAC,8BAA8B,CAAC,KAAK,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;YAC1E,OAAO,IAAI,0BAAmB,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,IAAI,CAAC,CAAC,CAAC;SACxD;IACH,CAAC;IAEO,8BAA8B,CAAC,KAAY,EAAE,MAAc,EAAE,MAAoB;QACvF,MAAM,MAAM,GAAG,CAAE,0BAAW,CAAC,iBAAiB,EAAE,0BAAW,CAAC,sBAAsB,CAAE,CAAC;QAErF,uCAAuC;QACvC,IAAI,MAAM,CAAC,OAAO,KAAK,0BAAW,CAAC,0BAA0B;eACxD,MAAM,CAAC,MAAM,CAAC,MAAM,KAAK,MAAM,CAAC,MAAM;eACtC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE,CAAC,KAAK,KAAK,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE;YAClE,OAAO,SAAS,CAAC;SAClB;QAED,MAAM,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,YAAY,iBAAU,CAAiB,CAAC;QACxF,MAAM,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,eAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;QACtE,MAAM,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,eAAQ,CAAC,SAAS,CAAC,CAAC,CAAC;QAEhF,IAAI,SAAS,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,EAAE;YACnC,OAAO,CAAC,CAAC;SACV;QAED,OAAO,CAAC,CAAC;IACX,CAAC;CAEF;AA9BD,oDA8BC",sourcesContent:["import { Player, State, Action, ResolvePromptAction, Prompt, EnergyCard, CardType } from '../../game';\nimport { PromptResolver } from './prompt-resolver';\nimport { SelectPrompt } from '../../game/store/prompts/select-prompt';\nimport { GameMessage } from '../../game/game-message';\n\n\nexport class SelectPromptResolver extends PromptResolver {\n\n  public resolvePrompt(state: State, player: Player, prompt: Prompt<any>): Action | undefined {\n    if (prompt instanceof SelectPrompt) {\n      const result = this.handleDiscardAllEnergiesPrompt(state, player, prompt);\n      return new ResolvePromptAction(prompt.id, result || 0);\n    }\n  }\n\n  private handleDiscardAllEnergiesPrompt(state: State, player: Player, prompt: SelectPrompt): number | undefined {\n    const values = [ GameMessage.ALL_FIRE_ENERGIES, GameMessage.ALL_LIGHTNING_ENERGIES ];\n\n    // Different kind of the select message\n    if (prompt.message !== GameMessage.CHOOSE_ENERGIES_TO_DISCARD\n      || prompt.values.length !== values.length\n      || prompt.values.some((value, index) => value !== values[index])) {\n      return undefined;\n    }\n\n    const energies = player.hand.cards.filter(c => c instanceof EnergyCard) as EnergyCard[];\n    const fire = energies.filter(e => e.provides.includes(CardType.FIRE));\n    const lightning = energies.filter(e => e.provides.includes(CardType.LIGHTNING));\n\n    if (lightning.length >= fire.length) {\n      return 1;\n    }\n\n    return 0;\n  }\n\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2bc4f351a9a11145c94a5a0f73ff11d9b9995e07"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_19ru92emq5=function(){return actualCoverage;};}return actualCoverage;}cov_19ru92emq5();cov_19ru92emq5().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_19ru92emq5().s[1]++;exports.SelectPromptResolver=void 0;const game_1=(cov_19ru92emq5().s[2]++,require("../../game"));const prompt_resolver_1=(cov_19ru92emq5().s[3]++,require("./prompt-resolver"));const select_prompt_1=(cov_19ru92emq5().s[4]++,require("../../game/store/prompts/select-prompt"));const game_message_1=(cov_19ru92emq5().s[5]++,require("../../game/game-message"));class SelectPromptResolver extends(prompt_resolver_1.PromptResolver){resolvePrompt(state,player,prompt){cov_19ru92emq5().f[0]++;cov_19ru92emq5().s[6]++;if(prompt instanceof select_prompt_1.SelectPrompt){cov_19ru92emq5().b[0][0]++;const result=(cov_19ru92emq5().s[7]++,this.handleDiscardAllEnergiesPrompt(state,player,prompt));cov_19ru92emq5().s[8]++;return new game_1.ResolvePromptAction(prompt.id,(cov_19ru92emq5().b[1][0]++,result)||(cov_19ru92emq5().b[1][1]++,0));}else{cov_19ru92emq5().b[0][1]++;}}handleDiscardAllEnergiesPrompt(state,player,prompt){cov_19ru92emq5().f[1]++;const values=(cov_19ru92emq5().s[9]++,[game_message_1.GameMessage.ALL_FIRE_ENERGIES,game_message_1.GameMessage.ALL_LIGHTNING_ENERGIES]);// Different kind of the select message
cov_19ru92emq5().s[10]++;if((cov_19ru92emq5().b[3][0]++,prompt.message!==game_message_1.GameMessage.CHOOSE_ENERGIES_TO_DISCARD)||(cov_19ru92emq5().b[3][1]++,prompt.values.length!==values.length)||(cov_19ru92emq5().b[3][2]++,prompt.values.some((value,index)=>{cov_19ru92emq5().f[2]++;cov_19ru92emq5().s[11]++;return value!==values[index];}))){cov_19ru92emq5().b[2][0]++;cov_19ru92emq5().s[12]++;return undefined;}else{cov_19ru92emq5().b[2][1]++;}const energies=(cov_19ru92emq5().s[13]++,player.hand.cards.filter(c=>{cov_19ru92emq5().f[3]++;cov_19ru92emq5().s[14]++;return c instanceof game_1.EnergyCard;}));const fire=(cov_19ru92emq5().s[15]++,energies.filter(e=>{cov_19ru92emq5().f[4]++;cov_19ru92emq5().s[16]++;return e.provides.includes(game_1.CardType.FIRE);}));const lightning=(cov_19ru92emq5().s[17]++,energies.filter(e=>{cov_19ru92emq5().f[5]++;cov_19ru92emq5().s[18]++;return e.provides.includes(game_1.CardType.LIGHTNING);}));cov_19ru92emq5().s[19]++;if(lightning.length>=fire.length){cov_19ru92emq5().b[4][0]++;cov_19ru92emq5().s[20]++;return 1;}else{cov_19ru92emq5().b[4][1]++;}cov_19ru92emq5().s[21]++;return 0;}}cov_19ru92emq5().s[22]++;exports.SelectPromptResolver=SelectPromptResolver;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2pvZW15ZXJzY291Z2gvRG9jdW1lbnRzL0dpdEh1Yi9wdGNnLWVwc2QvcHRjZy1zZXJ2ZXIvc3JjL3NpbXBsZS1ib3QvcHJvbXB0LXJlc29sdmVyL3NlbGVjdC1wcm9tcHQtcmVzb2x2ZXIudHMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2VteWVyc2NvdWdoL0RvY3VtZW50cy9HaXRIdWIvcHRjZy1lcHNkL3B0Y2ctc2VydmVyL3NyYy9zaW1wbGUtYm90L3Byb21wdC1yZXNvbHZlci9zZWxlY3QtcHJvbXB0LXJlc29sdmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLHFDQUFzRztBQUN0Ryx1REFBbUQ7QUFDbkQsMEVBQXNFO0FBQ3RFLDBEQUFzRDtBQUd0RCxNQUFhLG9CQUFxQixTQUFRLGdDQUFjO0lBRS9DLGFBQWEsQ0FBQyxLQUFZLEVBQUUsTUFBYyxFQUFFLE1BQW1CO1FBQ3BFLElBQUksTUFBTSxZQUFZLDRCQUFZLEVBQUU7WUFDbEMsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLDhCQUE4QixDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDMUUsT0FBTyxJQUFJLDBCQUFtQixDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxJQUFJLENBQUMsQ0FBQyxDQUFDO1NBQ3hEO0lBQ0gsQ0FBQztJQUVPLDhCQUE4QixDQUFDLEtBQVksRUFBRSxNQUFjLEVBQUUsTUFBb0I7UUFDdkYsTUFBTSxNQUFNLEdBQUcsQ0FBRSwwQkFBVyxDQUFDLGlCQUFpQixFQUFFLDBCQUFXLENBQUMsc0JBQXNCLENBQUUsQ0FBQztRQUVyRix1Q0FBdUM7UUFDdkMsSUFBSSxNQUFNLENBQUMsT0FBTyxLQUFLLDBCQUFXLENBQUMsMEJBQTBCO2VBQ3hELE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxNQUFNO2VBQ3RDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUMsS0FBSyxLQUFLLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFO1lBQ2xFLE9BQU8sU0FBUyxDQUFDO1NBQ2xCO1FBRUQsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxZQUFZLGlCQUFVLENBQWlCLENBQUM7UUFDeEYsTUFBTSxJQUFJLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLGVBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ3RFLE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxlQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztRQUVoRixJQUFJLFNBQVMsQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNuQyxPQUFPLENBQUMsQ0FBQztTQUNWO1FBRUQsT0FBTyxDQUFDLENBQUM7SUFDWCxDQUFDO0NBRUY7QUE5QkQsb0RBOEJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGxheWVyLCBTdGF0ZSwgQWN0aW9uLCBSZXNvbHZlUHJvbXB0QWN0aW9uLCBQcm9tcHQsIEVuZXJneUNhcmQsIENhcmRUeXBlIH0gZnJvbSAnLi4vLi4vZ2FtZSc7XG5pbXBvcnQgeyBQcm9tcHRSZXNvbHZlciB9IGZyb20gJy4vcHJvbXB0LXJlc29sdmVyJztcbmltcG9ydCB7IFNlbGVjdFByb21wdCB9IGZyb20gJy4uLy4uL2dhbWUvc3RvcmUvcHJvbXB0cy9zZWxlY3QtcHJvbXB0JztcbmltcG9ydCB7IEdhbWVNZXNzYWdlIH0gZnJvbSAnLi4vLi4vZ2FtZS9nYW1lLW1lc3NhZ2UnO1xuXG5cbmV4cG9ydCBjbGFzcyBTZWxlY3RQcm9tcHRSZXNvbHZlciBleHRlbmRzIFByb21wdFJlc29sdmVyIHtcblxuICBwdWJsaWMgcmVzb2x2ZVByb21wdChzdGF0ZTogU3RhdGUsIHBsYXllcjogUGxheWVyLCBwcm9tcHQ6IFByb21wdDxhbnk+KTogQWN0aW9uIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAocHJvbXB0IGluc3RhbmNlb2YgU2VsZWN0UHJvbXB0KSB7XG4gICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmhhbmRsZURpc2NhcmRBbGxFbmVyZ2llc1Byb21wdChzdGF0ZSwgcGxheWVyLCBwcm9tcHQpO1xuICAgICAgcmV0dXJuIG5ldyBSZXNvbHZlUHJvbXB0QWN0aW9uKHByb21wdC5pZCwgcmVzdWx0IHx8IDApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlRGlzY2FyZEFsbEVuZXJnaWVzUHJvbXB0KHN0YXRlOiBTdGF0ZSwgcGxheWVyOiBQbGF5ZXIsIHByb21wdDogU2VsZWN0UHJvbXB0KTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCB2YWx1ZXMgPSBbIEdhbWVNZXNzYWdlLkFMTF9GSVJFX0VORVJHSUVTLCBHYW1lTWVzc2FnZS5BTExfTElHSFROSU5HX0VORVJHSUVTIF07XG5cbiAgICAvLyBEaWZmZXJlbnQga2luZCBvZiB0aGUgc2VsZWN0IG1lc3NhZ2VcbiAgICBpZiAocHJvbXB0Lm1lc3NhZ2UgIT09IEdhbWVNZXNzYWdlLkNIT09TRV9FTkVSR0lFU19UT19ESVNDQVJEXG4gICAgICB8fCBwcm9tcHQudmFsdWVzLmxlbmd0aCAhPT0gdmFsdWVzLmxlbmd0aFxuICAgICAgfHwgcHJvbXB0LnZhbHVlcy5zb21lKCh2YWx1ZSwgaW5kZXgpID0+IHZhbHVlICE9PSB2YWx1ZXNbaW5kZXhdKSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBjb25zdCBlbmVyZ2llcyA9IHBsYXllci5oYW5kLmNhcmRzLmZpbHRlcihjID0+IGMgaW5zdGFuY2VvZiBFbmVyZ3lDYXJkKSBhcyBFbmVyZ3lDYXJkW107XG4gICAgY29uc3QgZmlyZSA9IGVuZXJnaWVzLmZpbHRlcihlID0+IGUucHJvdmlkZXMuaW5jbHVkZXMoQ2FyZFR5cGUuRklSRSkpO1xuICAgIGNvbnN0IGxpZ2h0bmluZyA9IGVuZXJnaWVzLmZpbHRlcihlID0+IGUucHJvdmlkZXMuaW5jbHVkZXMoQ2FyZFR5cGUuTElHSFROSU5HKSk7XG5cbiAgICBpZiAobGlnaHRuaW5nLmxlbmd0aCA+PSBmaXJlLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG4gIH1cblxufVxuIl19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2VteWVyc2NvdWdoL0RvY3VtZW50cy9HaXRIdWIvcHRjZy1lcHNkL3B0Y2ctc2VydmVyL3NyYy9zaW1wbGUtYm90L3Byb21wdC1yZXNvbHZlci9zZWxlY3QtcHJvbXB0LXJlc29sdmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIrOU5BZ0JJO3dPQWhCSixLQUFBLENBQUEsTUFBQSwwQkFBQSxPQUFBLENBQUEsWUFBQSxDQUFBLENBQUEsQ0FDQSxLQUFBLENBQUEsaUJBQUEsMEJBQUEsT0FBQSxDQUFBLG1CQUFBLENBQUEsQ0FBQSxDQUNBLEtBQUEsQ0FBQSxlQUFBLDBCQUFBLE9BQUEsQ0FBQSx3Q0FBQSxDQUFBLENBQUEsQ0FDQSxLQUFBLENBQUEsY0FBQSwwQkFBQSxPQUFBLENBQUEseUJBQUEsQ0FBQSxDQUFBLENBR0EsS0FBYSxDQUFBLG9CQUFiLFNBQTBDLGlCQUFBLENBQUEsY0FBMUMsQ0FBd0QsQ0FFL0MsYUFBYSxDQUFDLEtBQUQsQ0FBZSxNQUFmLENBQStCLE1BQS9CLENBQWtELGlEQUNwRSxHQUFJLE1BQU0sV0FBWSxDQUFBLGVBQUEsQ0FBQSxZQUF0QixDQUFvQyw0QkFDbEMsS0FBTSxDQUFBLE1BQU0sMEJBQUcsS0FBSyw4QkFBTCxDQUFvQyxLQUFwQyxDQUEyQyxNQUEzQyxDQUFtRCxNQUFuRCxDQUFILENBQVosQ0FEa0Msd0JBRWxDLE1BQU8sSUFBSSxDQUFBLE1BQUEsQ0FBQSxtQkFBSixDQUF3QixNQUFNLENBQUMsRUFBL0IsQ0FBbUMsNEJBQUEsTUFBTSwrQkFBSSxDQUFKLENBQXpDLENBQVAsQ0FDRCxDQUhELGlDQUlELENBRU8sOEJBQThCLENBQUMsS0FBRCxDQUFlLE1BQWYsQ0FBK0IsTUFBL0IsQ0FBbUQseUJBQ3ZGLEtBQU0sQ0FBQSxNQUFNLDBCQUFHLENBQUUsY0FBQSxDQUFBLFdBQUEsQ0FBWSxpQkFBZCxDQUFpQyxjQUFBLENBQUEsV0FBQSxDQUFZLHNCQUE3QyxDQUFILENBQVosQ0FFQTtBQUh1Rix5QkFJdkYsR0FBSSw0QkFBQSxNQUFNLENBQUMsT0FBUCxHQUFtQixjQUFBLENBQUEsV0FBQSxDQUFZLDBCQUEvQiwrQkFDQyxNQUFNLENBQUMsTUFBUCxDQUFjLE1BQWQsR0FBeUIsTUFBTSxDQUFDLE1BRGpDLCtCQUVDLE1BQU0sQ0FBQyxNQUFQLENBQWMsSUFBZCxDQUFtQixDQUFDLEtBQUQsQ0FBUSxLQUFSLEdBQWtCLHdEQUFBLENBQUEsS0FBSyxHQUFLLE1BQU0sQ0FBQyxLQUFELENBQWhCLENBQXVCLENBQTVELENBRkQsQ0FBSixDQUVvRSxxREFDbEUsTUFBTyxDQUFBLFNBQVAsQ0FDRCxDQUpELGlDQU1BLEtBQU0sQ0FBQSxRQUFRLDJCQUFHLE1BQU0sQ0FBQyxJQUFQLENBQVksS0FBWixDQUFrQixNQUFsQixDQUF5QixDQUFDLEVBQUksd0RBQUEsQ0FBQSxDQUFDLFdBQVksQ0FBQSxNQUFBLENBQUEsVUFBYixDQUF1QixDQUFyRCxDQUFILENBQWQsQ0FDQSxLQUFNLENBQUEsSUFBSSwyQkFBRyxRQUFRLENBQUMsTUFBVCxDQUFnQixDQUFDLEVBQUksd0RBQUEsQ0FBQSxDQUFDLENBQUMsUUFBRixDQUFXLFFBQVgsQ0FBb0IsTUFBQSxDQUFBLFFBQUEsQ0FBUyxJQUE3QixFQUFrQyxDQUF2RCxDQUFILENBQVYsQ0FDQSxLQUFNLENBQUEsU0FBUywyQkFBRyxRQUFRLENBQUMsTUFBVCxDQUFnQixDQUFDLEVBQUksd0RBQUEsQ0FBQSxDQUFDLENBQUMsUUFBRixDQUFXLFFBQVgsQ0FBb0IsTUFBQSxDQUFBLFFBQUEsQ0FBUyxTQUE3QixFQUF1QyxDQUE1RCxDQUFILENBQWYsQ0FadUYseUJBY3ZGLEdBQUksU0FBUyxDQUFDLE1BQVYsRUFBb0IsSUFBSSxDQUFDLE1BQTdCLENBQXFDLHFEQUNuQyxNQUFPLEVBQVAsQ0FDRCxDQUZELGlDQWR1Rix5QkFrQnZGLE1BQU8sRUFBUCxDQUNELENBNUJxRCxDLHlCQUF4RCxPQUFBLENBQUEsb0JBQUEsQ0FBQSxvQkFBQSxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGxheWVyLCBTdGF0ZSwgQWN0aW9uLCBSZXNvbHZlUHJvbXB0QWN0aW9uLCBQcm9tcHQsIEVuZXJneUNhcmQsIENhcmRUeXBlIH0gZnJvbSAnLi4vLi4vZ2FtZSc7XG5pbXBvcnQgeyBQcm9tcHRSZXNvbHZlciB9IGZyb20gJy4vcHJvbXB0LXJlc29sdmVyJztcbmltcG9ydCB7IFNlbGVjdFByb21wdCB9IGZyb20gJy4uLy4uL2dhbWUvc3RvcmUvcHJvbXB0cy9zZWxlY3QtcHJvbXB0JztcbmltcG9ydCB7IEdhbWVNZXNzYWdlIH0gZnJvbSAnLi4vLi4vZ2FtZS9nYW1lLW1lc3NhZ2UnO1xuXG5cbmV4cG9ydCBjbGFzcyBTZWxlY3RQcm9tcHRSZXNvbHZlciBleHRlbmRzIFByb21wdFJlc29sdmVyIHtcblxuICBwdWJsaWMgcmVzb2x2ZVByb21wdChzdGF0ZTogU3RhdGUsIHBsYXllcjogUGxheWVyLCBwcm9tcHQ6IFByb21wdDxhbnk+KTogQWN0aW9uIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAocHJvbXB0IGluc3RhbmNlb2YgU2VsZWN0UHJvbXB0KSB7XG4gICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmhhbmRsZURpc2NhcmRBbGxFbmVyZ2llc1Byb21wdChzdGF0ZSwgcGxheWVyLCBwcm9tcHQpO1xuICAgICAgcmV0dXJuIG5ldyBSZXNvbHZlUHJvbXB0QWN0aW9uKHByb21wdC5pZCwgcmVzdWx0IHx8IDApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlRGlzY2FyZEFsbEVuZXJnaWVzUHJvbXB0KHN0YXRlOiBTdGF0ZSwgcGxheWVyOiBQbGF5ZXIsIHByb21wdDogU2VsZWN0UHJvbXB0KTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCB2YWx1ZXMgPSBbIEdhbWVNZXNzYWdlLkFMTF9GSVJFX0VORVJHSUVTLCBHYW1lTWVzc2FnZS5BTExfTElHSFROSU5HX0VORVJHSUVTIF07XG5cbiAgICAvLyBEaWZmZXJlbnQga2luZCBvZiB0aGUgc2VsZWN0IG1lc3NhZ2VcbiAgICBpZiAocHJvbXB0Lm1lc3NhZ2UgIT09IEdhbWVNZXNzYWdlLkNIT09TRV9FTkVSR0lFU19UT19ESVNDQVJEXG4gICAgICB8fCBwcm9tcHQudmFsdWVzLmxlbmd0aCAhPT0gdmFsdWVzLmxlbmd0aFxuICAgICAgfHwgcHJvbXB0LnZhbHVlcy5zb21lKCh2YWx1ZSwgaW5kZXgpID0+IHZhbHVlICE9PSB2YWx1ZXNbaW5kZXhdKSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBjb25zdCBlbmVyZ2llcyA9IHBsYXllci5oYW5kLmNhcmRzLmZpbHRlcihjID0+IGMgaW5zdGFuY2VvZiBFbmVyZ3lDYXJkKSBhcyBFbmVyZ3lDYXJkW107XG4gICAgY29uc3QgZmlyZSA9IGVuZXJnaWVzLmZpbHRlcihlID0+IGUucHJvdmlkZXMuaW5jbHVkZXMoQ2FyZFR5cGUuRklSRSkpO1xuICAgIGNvbnN0IGxpZ2h0bmluZyA9IGVuZXJnaWVzLmZpbHRlcihlID0+IGUucHJvdmlkZXMuaW5jbHVkZXMoQ2FyZFR5cGUuTElHSFROSU5HKSk7XG5cbiAgICBpZiAobGlnaHRuaW5nLmxlbmd0aCA+PSBmaXJlLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG4gIH1cblxufVxuIl19