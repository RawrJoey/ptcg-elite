{"version":3,"file":"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/state-score/score.ts","sources":["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/state-score/score.ts"],"names":[],"mappings":";;;AAAA,qCAAoF;AAGpF,MAAsB,WAAW;IAE/B,YAAsB,OAAyB;QAAzB,YAAO,GAAP,OAAO,CAAkB;IAAI,CAAC;IAI1C,SAAS,CAAC,KAAY,EAAE,QAAgB;QAChD,MAAM,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,QAAQ,CAAC,CAAC;QAC1D,IAAI,MAAM,KAAK,SAAS,EAAE;YACxB,MAAM,IAAI,gBAAS,CAAC,kBAAW,CAAC,kBAAkB,CAAC,CAAC;SACrD;QACD,OAAO,MAAM,CAAC;IAChB,CAAC;IAES,iBAAiB,CAAC,MAAqB,EAAE,QAAyB;QAC1E,MAAM,IAAI,GAAG,QAAQ,CAAC,cAAc,EAAE,CAAC;QAEvC,IAAI,IAAI,KAAK,SAAS,EAAE;YACtB,OAAO,CAAC,CAAC;SACV;QAED,IAAI,MAAM,GAAG,CAAC,CAAC;QACf,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC;QAE9C,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,KAAK,IAAI,MAAM,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;QAC7B,KAAK,IAAI,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;QAChC,KAAK,IAAI,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;QAC7C,KAAK,IAAI,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;QAC9C,OAAO,KAAK,CAAC;IACf,CAAC;CAEF;AAhCD,kCAgCC","sourcesContent":["import { State, GameError, GameMessage, Player, PokemonCardList } from '../../game';\nimport { SimpleBotOptions, PokemonScores } from '../simple-bot-options';\n\nexport abstract class SimpleScore {\n\n  constructor(protected options: SimpleBotOptions) { }\n\n  public abstract getScore(state: State, playerId: number): number;\n\n  protected getPlayer(state: State, playerId: number): Player {\n    const player = state.players.find(p => p.id === playerId);\n    if (player === undefined) {\n      throw new GameError(GameMessage.INVALID_GAME_STATE);\n    }\n    return player;\n  }\n\n  protected getPokemonScoreBy(scores: PokemonScores, cardList: PokemonCardList): number {\n    const card = cardList.getPokemonCard();\n\n    if (card === undefined) {\n      return 0;\n    }\n\n    let damage = 0;\n    card.attacks.forEach(a => damage += a.damage);\n\n    let score = 0;\n    score += scores.hp * card.hp;\n    score += scores.damage * damage;\n    score += scores.ability * card.powers.length;\n    score += scores.retreat * card.retreat.length;\n    return score;\n  }\n\n}\n"]}