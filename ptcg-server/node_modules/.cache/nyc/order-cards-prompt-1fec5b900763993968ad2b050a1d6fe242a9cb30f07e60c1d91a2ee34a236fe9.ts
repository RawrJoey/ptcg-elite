"use strict";function cov_185ni4hqmx(){var path="/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/prompts/order-cards-prompt.ts";var hash="39ecf615c66d4d8f16912b09a02ed741c3ce668d";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/prompts/order-cards-prompt.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:65}},"2":{start:{line:4,column:17},end:{line:4,column:36}},"3":{start:{line:5,column:0},end:{line:5,column:45}},"4":{start:{line:8,column:8},end:{line:8,column:24}},"5":{start:{line:9,column:8},end:{line:9,column:31}},"6":{start:{line:10,column:8},end:{line:10,column:27}},"7":{start:{line:11,column:8},end:{line:11,column:49}},"8":{start:{line:13,column:8},end:{line:15,column:20}},"9":{start:{line:18,column:8},end:{line:20,column:9}},"10":{start:{line:19,column:12},end:{line:19,column:44}},"11":{start:{line:21,column:8},end:{line:23,column:9}},"12":{start:{line:22,column:12},end:{line:22,column:25}},"13":{start:{line:24,column:18},end:{line:24,column:32}},"14":{start:{line:25,column:8},end:{line:25,column:17}},"15":{start:{line:26,column:8},end:{line:30,column:9}},"16":{start:{line:26,column:21},end:{line:26,column:22}},"17":{start:{line:27,column:12},end:{line:29,column:13}},"18":{start:{line:28,column:16},end:{line:28,column:29}},"19":{start:{line:31,column:8},end:{line:31,column:20}},"20":{start:{line:34,column:0},end:{line:34,column:44}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:51},end:{line:16,column:5}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:21},end:{line:32,column:5}},line:17}},branchMap:{"0":{loc:{start:{line:18,column:8},end:{line:20,column:9}},type:"if",locations:[{start:{line:18,column:8},end:{line:20,column:9}},{start:{line:18,column:8},end:{line:20,column:9}}],line:18},"1":{loc:{start:{line:21,column:8},end:{line:23,column:9}},type:"if",locations:[{start:{line:21,column:8},end:{line:23,column:9}},{start:{line:21,column:8},end:{line:23,column:9}}],line:21},"2":{loc:{start:{line:27,column:12},end:{line:29,column:13}},type:"if",locations:[{start:{line:27,column:12},end:{line:29,column:13}},{start:{line:27,column:12},end:{line:29,column:13}}],line:27}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},inputSourceMap:{version:3,file:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/prompts/order-cards-prompt.ts",sources:["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/prompts/order-cards-prompt.ts"],names:[],mappings:";;;AAEA,qCAAkC;AAErB,QAAA,oBAAoB,GAAG,aAAa,CAAC;AAMlD,MAAa,gBAAiB,SAAQ,eAAgB;IAMpD,YACE,QAAgB,EACT,OAAoB,EACpB,KAAe,EACtB,OAAoC;QAEpC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAJT,YAAO,GAAP,OAAO,CAAa;QACpB,UAAK,GAAL,KAAK,CAAU;QAPf,SAAI,GAAW,4BAAoB,CAAC;QAY3C,kBAAkB;QAClB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE;YAC/B,WAAW,EAAE,IAAI;SAClB,EAAE,OAAO,CAAC,CAAC;IACd,CAAC;IAEM,QAAQ,CAAC,MAAuB;QACrC,IAAI,MAAM,KAAK,IAAI,EAAE;YACnB,OAAO,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC;SACjC;QACD,IAAI,MAAM,CAAC,MAAM,KAAK,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE;YAC7C,OAAO,KAAK,CAAC;SACd;QACD,MAAM,CAAC,GAAG,MAAM,CAAC,KAAK,EAAE,CAAC;QACzB,CAAC,CAAC,IAAI,EAAE,CAAC;QACT,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACjC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;gBACd,OAAO,KAAK,CAAC;aACd;SACF;QACD,OAAO,IAAI,CAAC;IACd,CAAC;CAEF;AArCD,4CAqCC",sourcesContent:["import { CardList } from '../state/card-list';\nimport { GameMessage } from '../../game-message';\nimport { Prompt } from './prompt';\n\nexport const OrderCardsPromptType = 'Order cards';\n\nexport interface OrderCardsOptions {\n  allowCancel: boolean;\n}\n\nexport class OrderCardsPrompt extends Prompt<number[]> {\n\n  readonly type: string = OrderCardsPromptType;\n  \n  public options: OrderCardsOptions;\n\n  constructor(\n    playerId: number,\n    public message: GameMessage,\n    public cards: CardList,\n    options?: Partial<OrderCardsOptions>\n  ) {\n    super(playerId);\n\n    // Default options\n    this.options = Object.assign({}, {\n      allowCancel: true\n    }, options);\n  }\n\n  public validate(result: number[] | null): boolean {\n    if (result === null) {\n      return this.options.allowCancel;\n    }\n    if (result.length !== this.cards.cards.length) {\n      return false;\n    }\n    const s = result.slice();\n    s.sort();\n    for (let i = 0; i < s.length; i++) {\n      if (s[i] !== i) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"39ecf615c66d4d8f16912b09a02ed741c3ce668d"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_185ni4hqmx=function(){return actualCoverage;};}return actualCoverage;}cov_185ni4hqmx();cov_185ni4hqmx().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_185ni4hqmx().s[1]++;exports.OrderCardsPrompt=exports.OrderCardsPromptType=void 0;const prompt_1=(cov_185ni4hqmx().s[2]++,require("./prompt"));cov_185ni4hqmx().s[3]++;exports.OrderCardsPromptType='Order cards';class OrderCardsPrompt extends(prompt_1.Prompt){constructor(playerId,message,cards,options){cov_185ni4hqmx().f[0]++;cov_185ni4hqmx().s[4]++;super(playerId);cov_185ni4hqmx().s[5]++;this.message=message;cov_185ni4hqmx().s[6]++;this.cards=cards;cov_185ni4hqmx().s[7]++;this.type=exports.OrderCardsPromptType;// Default options
cov_185ni4hqmx().s[8]++;this.options=Object.assign({},{allowCancel:true},options);}validate(result){cov_185ni4hqmx().f[1]++;cov_185ni4hqmx().s[9]++;if(result===null){cov_185ni4hqmx().b[0][0]++;cov_185ni4hqmx().s[10]++;return this.options.allowCancel;}else{cov_185ni4hqmx().b[0][1]++;}cov_185ni4hqmx().s[11]++;if(result.length!==this.cards.cards.length){cov_185ni4hqmx().b[1][0]++;cov_185ni4hqmx().s[12]++;return false;}else{cov_185ni4hqmx().b[1][1]++;}const s=(cov_185ni4hqmx().s[13]++,result.slice());cov_185ni4hqmx().s[14]++;s.sort();cov_185ni4hqmx().s[15]++;for(let i=(cov_185ni4hqmx().s[16]++,0);i<s.length;i++){cov_185ni4hqmx().s[17]++;if(s[i]!==i){cov_185ni4hqmx().b[2][0]++;cov_185ni4hqmx().s[18]++;return false;}else{cov_185ni4hqmx().b[2][1]++;}}cov_185ni4hqmx().s[19]++;return true;}}cov_185ni4hqmx().s[20]++;exports.OrderCardsPrompt=OrderCardsPrompt;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2pvZW15ZXJzY291Z2gvRG9jdW1lbnRzL0dpdEh1Yi9wdGNnLWVwc2QvcHRjZy1zZXJ2ZXIvc3JjL2dhbWUvc3RvcmUvcHJvbXB0cy9vcmRlci1jYXJkcy1wcm9tcHQudHMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2VteWVyc2NvdWdoL0RvY3VtZW50cy9HaXRIdWIvcHRjZy1lcHNkL3B0Y2ctc2VydmVyL3NyYy9nYW1lL3N0b3JlL3Byb21wdHMvb3JkZXItY2FyZHMtcHJvbXB0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBLHFDQUFrQztBQUVyQixRQUFBLG9CQUFvQixHQUFHLGFBQWEsQ0FBQztBQU1sRCxNQUFhLGdCQUFpQixTQUFRLGVBQWdCO0lBTXBELFlBQ0UsUUFBZ0IsRUFDVCxPQUFvQixFQUNwQixLQUFlLEVBQ3RCLE9BQW9DO1FBRXBDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUpULFlBQU8sR0FBUCxPQUFPLENBQWE7UUFDcEIsVUFBSyxHQUFMLEtBQUssQ0FBVTtRQVBmLFNBQUksR0FBVyw0QkFBb0IsQ0FBQztRQVkzQyxrQkFBa0I7UUFDbEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRTtZQUMvQixXQUFXLEVBQUUsSUFBSTtTQUNsQixFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ2QsQ0FBQztJQUVNLFFBQVEsQ0FBQyxNQUF1QjtRQUNyQyxJQUFJLE1BQU0sS0FBSyxJQUFJLEVBQUU7WUFDbkIsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQztTQUNqQztRQUNELElBQUksTUFBTSxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUU7WUFDN0MsT0FBTyxLQUFLLENBQUM7U0FDZDtRQUNELE1BQU0sQ0FBQyxHQUFHLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUN6QixDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDVCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNqQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUU7Z0JBQ2QsT0FBTyxLQUFLLENBQUM7YUFDZDtTQUNGO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0NBRUY7QUFyQ0QsNENBcUNDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2FyZExpc3QgfSBmcm9tICcuLi9zdGF0ZS9jYXJkLWxpc3QnO1xuaW1wb3J0IHsgR2FtZU1lc3NhZ2UgfSBmcm9tICcuLi8uLi9nYW1lLW1lc3NhZ2UnO1xuaW1wb3J0IHsgUHJvbXB0IH0gZnJvbSAnLi9wcm9tcHQnO1xuXG5leHBvcnQgY29uc3QgT3JkZXJDYXJkc1Byb21wdFR5cGUgPSAnT3JkZXIgY2FyZHMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIE9yZGVyQ2FyZHNPcHRpb25zIHtcbiAgYWxsb3dDYW5jZWw6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjbGFzcyBPcmRlckNhcmRzUHJvbXB0IGV4dGVuZHMgUHJvbXB0PG51bWJlcltdPiB7XG5cbiAgcmVhZG9ubHkgdHlwZTogc3RyaW5nID0gT3JkZXJDYXJkc1Byb21wdFR5cGU7XG4gIFxuICBwdWJsaWMgb3B0aW9uczogT3JkZXJDYXJkc09wdGlvbnM7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcGxheWVySWQ6IG51bWJlcixcbiAgICBwdWJsaWMgbWVzc2FnZTogR2FtZU1lc3NhZ2UsXG4gICAgcHVibGljIGNhcmRzOiBDYXJkTGlzdCxcbiAgICBvcHRpb25zPzogUGFydGlhbDxPcmRlckNhcmRzT3B0aW9ucz5cbiAgKSB7XG4gICAgc3VwZXIocGxheWVySWQpO1xuXG4gICAgLy8gRGVmYXVsdCBvcHRpb25zXG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgYWxsb3dDYW5jZWw6IHRydWVcbiAgICB9LCBvcHRpb25zKTtcbiAgfVxuXG4gIHB1YmxpYyB2YWxpZGF0ZShyZXN1bHQ6IG51bWJlcltdIHwgbnVsbCk6IGJvb2xlYW4ge1xuICAgIGlmIChyZXN1bHQgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYWxsb3dDYW5jZWw7XG4gICAgfVxuICAgIGlmIChyZXN1bHQubGVuZ3RoICE9PSB0aGlzLmNhcmRzLmNhcmRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBzID0gcmVzdWx0LnNsaWNlKCk7XG4gICAgcy5zb3J0KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoc1tpXSAhPT0gaSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbn1cbiJdfQ==
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2VteWVyc2NvdWdoL0RvY3VtZW50cy9HaXRIdWIvcHRjZy1lcHNkL3B0Y2ctc2VydmVyL3NyYy9nYW1lL3N0b3JlL3Byb21wdHMvb3JkZXItY2FyZHMtcHJvbXB0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJraEtBNEJHO2lRQTFCSCxLQUFBLENBQUEsUUFBQSwwQkFBQSxPQUFBLENBQUEsVUFBQSxDQUFBLENBQUEsQyx3QkFFYSxPQUFBLENBQUEsb0JBQUEsQ0FBdUIsYUFBdkIsQ0FNYixLQUFhLENBQUEsZ0JBQWIsU0FBc0MsUUFBQSxDQUFBLE1BQXRDLENBQXNELENBTXBELFdBQUEsQ0FDRSxRQURGLENBRVMsT0FGVCxDQUdTLEtBSFQsQ0FJRSxPQUpGLENBSXNDLGlEQUVwQyxNQUFNLFFBQU4sRUFGb0Msd0JBRjdCLEtBQUEsT0FBQSxDQUFBLE9BQUEsQ0FFNkIsd0JBRDdCLEtBQUEsS0FBQSxDQUFBLEtBQUEsQ0FDNkIsd0JBUjdCLEtBQUEsSUFBQSxDQUFlLE9BQUEsQ0FBQSxvQkFBZixDQVlQO0FBSm9DLHdCQUtwQyxLQUFLLE9BQUwsQ0FBZSxNQUFNLENBQUMsTUFBUCxDQUFjLEVBQWQsQ0FBa0IsQ0FDL0IsV0FBVyxDQUFFLElBRGtCLENBQWxCLENBRVosT0FGWSxDQUFmLENBR0QsQ0FFTSxRQUFRLENBQUMsTUFBRCxDQUF3QixpREFDckMsR0FBSSxNQUFNLEdBQUssSUFBZixDQUFxQixxREFDbkIsTUFBTyxNQUFLLE9BQUwsQ0FBYSxXQUFwQixDQUNELENBRkQsaUNBRHFDLHlCQUlyQyxHQUFJLE1BQU0sQ0FBQyxNQUFQLEdBQWtCLEtBQUssS0FBTCxDQUFXLEtBQVgsQ0FBaUIsTUFBdkMsQ0FBK0MscURBQzdDLE1BQU8sTUFBUCxDQUNELENBRkQsaUNBR0EsS0FBTSxDQUFBLENBQUMsMkJBQUcsTUFBTSxDQUFDLEtBQVAsRUFBSCxDQUFQLENBUHFDLHlCQVFyQyxDQUFDLENBQUMsSUFBRixHQVJxQyx5QkFTckMsSUFBSyxHQUFJLENBQUEsQ0FBQywyQkFBRyxDQUFILENBQVYsQ0FBZ0IsQ0FBQyxDQUFHLENBQUMsQ0FBQyxNQUF0QixDQUE4QixDQUFDLEVBQS9CLENBQW1DLDBCQUNqQyxHQUFJLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBUyxDQUFiLENBQWdCLHFEQUNkLE1BQU8sTUFBUCxDQUNELENBRkQsaUNBR0QsQ0Fib0MseUJBY3JDLE1BQU8sS0FBUCxDQUNELENBbkNtRCxDLHlCQUF0RCxPQUFBLENBQUEsZ0JBQUEsQ0FBQSxnQkFBQSxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2FyZExpc3QgfSBmcm9tICcuLi9zdGF0ZS9jYXJkLWxpc3QnO1xuaW1wb3J0IHsgR2FtZU1lc3NhZ2UgfSBmcm9tICcuLi8uLi9nYW1lLW1lc3NhZ2UnO1xuaW1wb3J0IHsgUHJvbXB0IH0gZnJvbSAnLi9wcm9tcHQnO1xuXG5leHBvcnQgY29uc3QgT3JkZXJDYXJkc1Byb21wdFR5cGUgPSAnT3JkZXIgY2FyZHMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIE9yZGVyQ2FyZHNPcHRpb25zIHtcbiAgYWxsb3dDYW5jZWw6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjbGFzcyBPcmRlckNhcmRzUHJvbXB0IGV4dGVuZHMgUHJvbXB0PG51bWJlcltdPiB7XG5cbiAgcmVhZG9ubHkgdHlwZTogc3RyaW5nID0gT3JkZXJDYXJkc1Byb21wdFR5cGU7XG4gIFxuICBwdWJsaWMgb3B0aW9uczogT3JkZXJDYXJkc09wdGlvbnM7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcGxheWVySWQ6IG51bWJlcixcbiAgICBwdWJsaWMgbWVzc2FnZTogR2FtZU1lc3NhZ2UsXG4gICAgcHVibGljIGNhcmRzOiBDYXJkTGlzdCxcbiAgICBvcHRpb25zPzogUGFydGlhbDxPcmRlckNhcmRzT3B0aW9ucz5cbiAgKSB7XG4gICAgc3VwZXIocGxheWVySWQpO1xuXG4gICAgLy8gRGVmYXVsdCBvcHRpb25zXG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgYWxsb3dDYW5jZWw6IHRydWVcbiAgICB9LCBvcHRpb25zKTtcbiAgfVxuXG4gIHB1YmxpYyB2YWxpZGF0ZShyZXN1bHQ6IG51bWJlcltdIHwgbnVsbCk6IGJvb2xlYW4ge1xuICAgIGlmIChyZXN1bHQgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYWxsb3dDYW5jZWw7XG4gICAgfVxuICAgIGlmIChyZXN1bHQubGVuZ3RoICE9PSB0aGlzLmNhcmRzLmNhcmRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBzID0gcmVzdWx0LnNsaWNlKCk7XG4gICAgcy5zb3J0KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoc1tpXSAhPT0gaSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbn1cbiJdfQ==