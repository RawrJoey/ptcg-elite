{"version":3,"file":"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/effects/attack-effects.ts","sources":["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/effects/attack-effects.ts"],"names":[],"mappings":"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","sourcesContent":["import { Attack } from '../card/pokemon-types';\nimport { AttackEffect } from './game-effects';\nimport { Card } from '../card/card';\nimport { Effect } from './effect';\nimport { Player } from '../state/player';\nimport { PokemonCardList } from '../state/pokemon-card-list';\nimport { SpecialCondition } from '../card/card-types';\n\nexport enum AttackEffects {\n  APPLY_WEAKNESS_EFFECT = 'APPLY_WEAKNESS_EFFECT',\n  DEAL_DAMAGE_EFFECT = 'DEAL_DAMAGE_EFFECT',\n  PUT_DAMAGE_EFFECT = 'PUT_DAMAGE_EFFECT',\n  AFTER_DAMAGE_EFFECT = 'AFTER_DAMAGE_EFFECT',\n  PUT_COUNTERS_EFFECT = 'PUT_COUNTERS_EFFECT',\n  DISCARD_CARD_EFFECT = 'DISCARD_CARD_EFFECT',\n  ADD_MARKER_EFFECT = 'ADD_MARKER_EFFECT',\n  ADD_SPECIAL_CONDITIONS_EFFECT = 'ADD_SPECIAL_CONDITIONS_EFFECT'\n}\n\nexport abstract class AbstractAttackEffect {\n  public attackEffect: AttackEffect;\n  public attack: Attack;\n  public player: Player;\n  public opponent: Player;\n  public target: PokemonCardList;\n  public source: PokemonCardList;\n\n  constructor(base: AttackEffect) {\n    this.attackEffect = base;\n    this.player = base.player;\n    this.opponent = base.opponent;\n    this.attack = base.attack;\n    this.source = base.player.active;\n    this.target = base.opponent.active;\n  }\n}\n\nexport class ApplyWeaknessEffect extends AbstractAttackEffect implements Effect {\n  readonly type: string = AttackEffects.APPLY_WEAKNESS_EFFECT;\n  public preventDefault = false;\n  public damage: number;\n  public ignoreResistance = false;\n  public ignoreWeakness = false;\n\n  constructor(base: AttackEffect, damage: number) {\n    super(base);\n    this.damage = damage;\n  }\n}\n\nexport class DealDamageEffect extends AbstractAttackEffect implements Effect {\n  readonly type: string = AttackEffects.DEAL_DAMAGE_EFFECT;\n  public preventDefault = false;\n  public damage: number;\n\n  constructor(base: AttackEffect, damage: number) {\n    super(base);\n    this.damage = damage;\n  }\n}\n\nexport class PutDamageEffect extends AbstractAttackEffect implements Effect {\n  readonly type: string = AttackEffects.PUT_DAMAGE_EFFECT;\n  public preventDefault = false;\n  public damage: number;\n\n  constructor(base: AttackEffect, damage: number) {\n    super(base);\n    this.damage = damage;\n  }\n}\n\nexport class AfterDamageEffect extends AbstractAttackEffect implements Effect {\n  readonly type: string = AttackEffects.AFTER_DAMAGE_EFFECT;\n  public preventDefault = false;\n  public damage: number;\n\n  constructor(base: AttackEffect, damage: number) {\n    super(base);\n    this.damage = damage;\n  }\n}\n\nexport class PutCountersEffect extends AbstractAttackEffect implements Effect {\n  readonly type: string = AttackEffects.PUT_COUNTERS_EFFECT;\n  public preventDefault = false;\n  public damage: number;\n\n  constructor(base: AttackEffect, damage: number) {\n    super(base);\n    this.damage = damage;\n  }\n}\n\nexport class DiscardCardsEffect extends AbstractAttackEffect implements Effect {\n  readonly type: string = AttackEffects.DISCARD_CARD_EFFECT;\n  public preventDefault = false;\n  public cards: Card[];\n\n  constructor(base: AttackEffect, energyCards: Card[]) {\n    super(base);\n    this.cards = energyCards;\n  }\n}\n\nexport class AddMarkerEffect extends AbstractAttackEffect implements Effect {\n  readonly type: string = AttackEffects.ADD_MARKER_EFFECT;\n  public preventDefault = false;\n  public markerName: string;\n  public markerSource: Card;\n\n  constructor(base: AttackEffect, markerName: string, markerSource: Card) {\n    super(base);\n    this.markerName = markerName;\n    this.markerSource = markerSource;\n  }\n}\n\nexport class AddSpecialConditionsEffect extends AbstractAttackEffect implements Effect {\n  readonly type: string = AttackEffects.ADD_SPECIAL_CONDITIONS_EFFECT;\n  public preventDefault = false;\n  public poisonDamage?: number;\n  public specialConditions: SpecialCondition[];\n\n  constructor(base: AttackEffect, specialConditions: SpecialCondition[]) {\n    super(base);\n    this.specialConditions = specialConditions;\n  }\n}\n\nexport class RemoveSpecialConditionsEffect extends AbstractAttackEffect implements Effect {\n  readonly type: string = AttackEffects.ADD_SPECIAL_CONDITIONS_EFFECT;\n  public preventDefault = false;\n  public specialConditions: SpecialCondition[];\n\n  constructor(base: AttackEffect, specialConditions: SpecialCondition[] | undefined) {\n    super(base);\n    if (specialConditions === undefined) {\n      specialConditions = [\n        SpecialCondition.PARALYZED,\n        SpecialCondition.CONFUSED,\n        SpecialCondition.ASLEEP,\n        SpecialCondition.POISONED,\n        SpecialCondition.BURNED\n      ];\n    }\n    this.specialConditions = specialConditions;\n  }\n}\n\nexport class HealTargetEffect extends AbstractAttackEffect implements Effect {\n  readonly type: string = AttackEffects.ADD_MARKER_EFFECT;\n  public preventDefault = false;\n  public damage: number;\n\n  constructor(base: AttackEffect, damage: number) {\n    super(base);\n    this.damage = damage;\n  }\n}\n"]}