"use strict";function cov_nbwzyxceu(){var path="/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/effect-reducers/play-energy-effect.ts";var hash="4802f7f40aed098f8225f01c0dd5d539e25757bc";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/effect-reducers/play-energy-effect.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:35}},"2":{start:{line:4,column:28},end:{line:4,column:67}},"3":{start:{line:5,column:21},end:{line:5,column:48}},"4":{start:{line:6,column:23},end:{line:6,column:52}},"5":{start:{line:9,column:4},end:{line:21,column:5}},"6":{start:{line:10,column:28},end:{line:10,column:58}},"7":{start:{line:11,column:8},end:{line:13,column:9}},"8":{start:{line:12,column:12},end:{line:12,column:88}},"9":{start:{line:14,column:8},end:{line:18,column:11}},"10":{start:{line:19,column:8},end:{line:19,column:72}},"11":{start:{line:20,column:8},end:{line:20,column:21}},"12":{start:{line:22,column:4},end:{line:22,column:17}},"13":{start:{line:24,column:0},end:{line:24,column:46}}},fnMap:{"0":{name:"playEnergyReducer",decl:{start:{line:7,column:9},end:{line:7,column:26}},loc:{start:{line:7,column:49},end:{line:23,column:1}},line:7}},branchMap:{"0":{loc:{start:{line:9,column:4},end:{line:21,column:5}},type:"if",locations:[{start:{line:9,column:4},end:{line:21,column:5}},{start:{line:9,column:4},end:{line:21,column:5}}],line:9},"1":{loc:{start:{line:11,column:8},end:{line:13,column:9}},type:"if",locations:[{start:{line:11,column:8},end:{line:13,column:9}},{start:{line:11,column:8},end:{line:13,column:9}}],line:11}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},f:{"0":0},b:{"0":[0,0],"1":[0,0]},inputSourceMap:{version:3,file:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/effect-reducers/play-energy-effect.ts",sources:["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/effect-reducers/play-energy-effect.ts"],names:[],mappings:";;;AAAA,oEAAkE;AAClE,iDAA6C;AAC7C,qDAA0D;AAM1D,SAAgB,iBAAiB,CAAC,KAAgB,EAAE,KAAY,EAAE,MAAc;IAG9E,sBAAsB;IACtB,IAAI,MAAM,YAAY,sCAAkB,EAAE;QACxC,MAAM,WAAW,GAAG,MAAM,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC;QACnD,IAAI,WAAW,KAAK,SAAS,EAAE;YAC7B,MAAM,IAAI,sBAAS,CAAC,0BAAW,CAAC,cAAc,CAAC,CAAC;SACjD;QAED,KAAK,CAAC,GAAG,CAAC,KAAK,EAAE,sBAAO,CAAC,wBAAwB,EAAE;YACjD,IAAI,EAAE,MAAM,CAAC,MAAM,CAAC,IAAI;YACxB,IAAI,EAAE,MAAM,CAAC,UAAU,CAAC,IAAI;YAC5B,OAAO,EAAE,WAAW,CAAC,IAAI;SAC1B,CAAC,CAAC;QACH,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,UAAU,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QAChE,OAAO,KAAK,CAAC;KACd;IAED,OAAO,KAAK,CAAC;AACf,CAAC;AApBD,8CAoBC",sourcesContent:["import { AttachEnergyEffect } from '../effects/play-card-effects';\nimport { GameError } from '../../game-error';\nimport { GameMessage, GameLog } from '../../game-message';\nimport { Effect } from '../effects/effect';\nimport { State } from '../state/state';\nimport { StoreLike } from '../store-like';\n\n\nexport function playEnergyReducer(store: StoreLike, state: State, effect: Effect): State {\n\n\n  /* Play energy card */\n  if (effect instanceof AttachEnergyEffect) {\n    const pokemonCard = effect.target.getPokemonCard();\n    if (pokemonCard === undefined) {\n      throw new GameError(GameMessage.INVALID_TARGET);\n    }\n\n    store.log(state, GameLog.LOG_PLAYER_ATTACHES_CARD, {\n      name: effect.player.name,\n      card: effect.energyCard.name,\n      pokemon: pokemonCard.name\n    });\n    effect.player.hand.moveCardTo(effect.energyCard, effect.target);\n    return state;\n  }\n\n  return state;\n}\n\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4802f7f40aed098f8225f01c0dd5d539e25757bc"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_nbwzyxceu=function(){return actualCoverage;};}return actualCoverage;}cov_nbwzyxceu();cov_nbwzyxceu().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_nbwzyxceu().s[1]++;exports.playEnergyReducer=void 0;const play_card_effects_1=(cov_nbwzyxceu().s[2]++,require("../effects/play-card-effects"));const game_error_1=(cov_nbwzyxceu().s[3]++,require("../../game-error"));const game_message_1=(cov_nbwzyxceu().s[4]++,require("../../game-message"));function playEnergyReducer(store,state,effect){cov_nbwzyxceu().f[0]++;cov_nbwzyxceu().s[5]++;/* Play energy card */if(effect instanceof play_card_effects_1.AttachEnergyEffect){cov_nbwzyxceu().b[0][0]++;const pokemonCard=(cov_nbwzyxceu().s[6]++,effect.target.getPokemonCard());cov_nbwzyxceu().s[7]++;if(pokemonCard===undefined){cov_nbwzyxceu().b[1][0]++;cov_nbwzyxceu().s[8]++;throw new game_error_1.GameError(game_message_1.GameMessage.INVALID_TARGET);}else{cov_nbwzyxceu().b[1][1]++;}cov_nbwzyxceu().s[9]++;store.log(state,game_message_1.GameLog.LOG_PLAYER_ATTACHES_CARD,{name:effect.player.name,card:effect.energyCard.name,pokemon:pokemonCard.name});cov_nbwzyxceu().s[10]++;effect.player.hand.moveCardTo(effect.energyCard,effect.target);cov_nbwzyxceu().s[11]++;return state;}else{cov_nbwzyxceu().b[0][1]++;}cov_nbwzyxceu().s[12]++;return state;}cov_nbwzyxceu().s[13]++;exports.playEnergyReducer=playEnergyReducer;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2pvZW15ZXJzY291Z2gvRG9jdW1lbnRzL0dpdEh1Yi9wdGNnLWVwc2QvcHRjZy1zZXJ2ZXIvc3JjL2dhbWUvc3RvcmUvZWZmZWN0LXJlZHVjZXJzL3BsYXktZW5lcmd5LWVmZmVjdC50cyIsInNvdXJjZXMiOlsiL1VzZXJzL2pvZW15ZXJzY291Z2gvRG9jdW1lbnRzL0dpdEh1Yi9wdGNnLWVwc2QvcHRjZy1zZXJ2ZXIvc3JjL2dhbWUvc3RvcmUvZWZmZWN0LXJlZHVjZXJzL3BsYXktZW5lcmd5LWVmZmVjdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxvRUFBa0U7QUFDbEUsaURBQTZDO0FBQzdDLHFEQUEwRDtBQU0xRCxTQUFnQixpQkFBaUIsQ0FBQyxLQUFnQixFQUFFLEtBQVksRUFBRSxNQUFjO0lBRzlFLHNCQUFzQjtJQUN0QixJQUFJLE1BQU0sWUFBWSxzQ0FBa0IsRUFBRTtRQUN4QyxNQUFNLFdBQVcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ25ELElBQUksV0FBVyxLQUFLLFNBQVMsRUFBRTtZQUM3QixNQUFNLElBQUksc0JBQVMsQ0FBQywwQkFBVyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1NBQ2pEO1FBRUQsS0FBSyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsc0JBQU8sQ0FBQyx3QkFBd0IsRUFBRTtZQUNqRCxJQUFJLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJO1lBQ3hCLElBQUksRUFBRSxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUk7WUFDNUIsT0FBTyxFQUFFLFdBQVcsQ0FBQyxJQUFJO1NBQzFCLENBQUMsQ0FBQztRQUNILE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNoRSxPQUFPLEtBQUssQ0FBQztLQUNkO0lBRUQsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDO0FBcEJELDhDQW9CQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEF0dGFjaEVuZXJneUVmZmVjdCB9IGZyb20gJy4uL2VmZmVjdHMvcGxheS1jYXJkLWVmZmVjdHMnO1xuaW1wb3J0IHsgR2FtZUVycm9yIH0gZnJvbSAnLi4vLi4vZ2FtZS1lcnJvcic7XG5pbXBvcnQgeyBHYW1lTWVzc2FnZSwgR2FtZUxvZyB9IGZyb20gJy4uLy4uL2dhbWUtbWVzc2FnZSc7XG5pbXBvcnQgeyBFZmZlY3QgfSBmcm9tICcuLi9lZmZlY3RzL2VmZmVjdCc7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4uL3N0YXRlL3N0YXRlJztcbmltcG9ydCB7IFN0b3JlTGlrZSB9IGZyb20gJy4uL3N0b3JlLWxpa2UnO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBwbGF5RW5lcmd5UmVkdWNlcihzdG9yZTogU3RvcmVMaWtlLCBzdGF0ZTogU3RhdGUsIGVmZmVjdDogRWZmZWN0KTogU3RhdGUge1xuXG5cbiAgLyogUGxheSBlbmVyZ3kgY2FyZCAqL1xuICBpZiAoZWZmZWN0IGluc3RhbmNlb2YgQXR0YWNoRW5lcmd5RWZmZWN0KSB7XG4gICAgY29uc3QgcG9rZW1vbkNhcmQgPSBlZmZlY3QudGFyZ2V0LmdldFBva2Vtb25DYXJkKCk7XG4gICAgaWYgKHBva2Vtb25DYXJkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBHYW1lRXJyb3IoR2FtZU1lc3NhZ2UuSU5WQUxJRF9UQVJHRVQpO1xuICAgIH1cblxuICAgIHN0b3JlLmxvZyhzdGF0ZSwgR2FtZUxvZy5MT0dfUExBWUVSX0FUVEFDSEVTX0NBUkQsIHtcbiAgICAgIG5hbWU6IGVmZmVjdC5wbGF5ZXIubmFtZSxcbiAgICAgIGNhcmQ6IGVmZmVjdC5lbmVyZ3lDYXJkLm5hbWUsXG4gICAgICBwb2tlbW9uOiBwb2tlbW9uQ2FyZC5uYW1lXG4gICAgfSk7XG4gICAgZWZmZWN0LnBsYXllci5oYW5kLm1vdmVDYXJkVG8oZWZmZWN0LmVuZXJneUNhcmQsIGVmZmVjdC50YXJnZXQpO1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuXG4gIHJldHVybiBzdGF0ZTtcbn1cblxuIl19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2VteWVyc2NvdWdoL0RvY3VtZW50cy9HaXRIdWIvcHRjZy1lcHNkL3B0Y2ctc2VydmVyL3NyYy9nYW1lL3N0b3JlL2VmZmVjdC1yZWR1Y2Vycy9wbGF5LWVuZXJneS1lZmZlY3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjI1SEFvQk07aU9BcEJOLEtBQUEsQ0FBQSxtQkFBQSx5QkFBQSxPQUFBLENBQUEsOEJBQUEsQ0FBQSxDQUFBLENBQ0EsS0FBQSxDQUFBLFlBQUEseUJBQUEsT0FBQSxDQUFBLGtCQUFBLENBQUEsQ0FBQSxDQUNBLEtBQUEsQ0FBQSxjQUFBLHlCQUFBLE9BQUEsQ0FBQSxvQkFBQSxDQUFBLENBQUEsQ0FNQSxRQUFnQixDQUFBLGlCQUFoQixDQUFrQyxLQUFsQyxDQUFvRCxLQUFwRCxDQUFrRSxNQUFsRSxDQUFnRiwrQ0FHOUUsc0JBQ0EsR0FBSSxNQUFNLFdBQVksQ0FBQSxtQkFBQSxDQUFBLGtCQUF0QixDQUEwQywyQkFDeEMsS0FBTSxDQUFBLFdBQVcseUJBQUcsTUFBTSxDQUFDLE1BQVAsQ0FBYyxjQUFkLEVBQUgsQ0FBakIsQ0FEd0MsdUJBRXhDLEdBQUksV0FBVyxHQUFLLFNBQXBCLENBQStCLGtEQUM3QixLQUFNLElBQUksQ0FBQSxZQUFBLENBQUEsU0FBSixDQUFjLGNBQUEsQ0FBQSxXQUFBLENBQVksY0FBMUIsQ0FBTixDQUNELENBRkQsZ0NBRndDLHVCQU14QyxLQUFLLENBQUMsR0FBTixDQUFVLEtBQVYsQ0FBaUIsY0FBQSxDQUFBLE9BQUEsQ0FBUSx3QkFBekIsQ0FBbUQsQ0FDakQsSUFBSSxDQUFFLE1BQU0sQ0FBQyxNQUFQLENBQWMsSUFENkIsQ0FFakQsSUFBSSxDQUFFLE1BQU0sQ0FBQyxVQUFQLENBQWtCLElBRnlCLENBR2pELE9BQU8sQ0FBRSxXQUFXLENBQUMsSUFINEIsQ0FBbkQsRUFOd0Msd0JBV3hDLE1BQU0sQ0FBQyxNQUFQLENBQWMsSUFBZCxDQUFtQixVQUFuQixDQUE4QixNQUFNLENBQUMsVUFBckMsQ0FBaUQsTUFBTSxDQUFDLE1BQXhELEVBWHdDLHdCQVl4QyxNQUFPLENBQUEsS0FBUCxDQUNELENBYkQsZ0NBSjhFLHdCQW1COUUsTUFBTyxDQUFBLEtBQVAsQ0FDRCxDLHdCQXBCRCxPQUFBLENBQUEsaUJBQUEsQ0FBQSxpQkFBQSxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXR0YWNoRW5lcmd5RWZmZWN0IH0gZnJvbSAnLi4vZWZmZWN0cy9wbGF5LWNhcmQtZWZmZWN0cyc7XG5pbXBvcnQgeyBHYW1lRXJyb3IgfSBmcm9tICcuLi8uLi9nYW1lLWVycm9yJztcbmltcG9ydCB7IEdhbWVNZXNzYWdlLCBHYW1lTG9nIH0gZnJvbSAnLi4vLi4vZ2FtZS1tZXNzYWdlJztcbmltcG9ydCB7IEVmZmVjdCB9IGZyb20gJy4uL2VmZmVjdHMvZWZmZWN0JztcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSAnLi4vc3RhdGUvc3RhdGUnO1xuaW1wb3J0IHsgU3RvcmVMaWtlIH0gZnJvbSAnLi4vc3RvcmUtbGlrZSc7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHBsYXlFbmVyZ3lSZWR1Y2VyKHN0b3JlOiBTdG9yZUxpa2UsIHN0YXRlOiBTdGF0ZSwgZWZmZWN0OiBFZmZlY3QpOiBTdGF0ZSB7XG5cblxuICAvKiBQbGF5IGVuZXJneSBjYXJkICovXG4gIGlmIChlZmZlY3QgaW5zdGFuY2VvZiBBdHRhY2hFbmVyZ3lFZmZlY3QpIHtcbiAgICBjb25zdCBwb2tlbW9uQ2FyZCA9IGVmZmVjdC50YXJnZXQuZ2V0UG9rZW1vbkNhcmQoKTtcbiAgICBpZiAocG9rZW1vbkNhcmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEdhbWVFcnJvcihHYW1lTWVzc2FnZS5JTlZBTElEX1RBUkdFVCk7XG4gICAgfVxuXG4gICAgc3RvcmUubG9nKHN0YXRlLCBHYW1lTG9nLkxPR19QTEFZRVJfQVRUQUNIRVNfQ0FSRCwge1xuICAgICAgbmFtZTogZWZmZWN0LnBsYXllci5uYW1lLFxuICAgICAgY2FyZDogZWZmZWN0LmVuZXJneUNhcmQubmFtZSxcbiAgICAgIHBva2Vtb246IHBva2Vtb25DYXJkLm5hbWVcbiAgICB9KTtcbiAgICBlZmZlY3QucGxheWVyLmhhbmQubW92ZUNhcmRUbyhlZmZlY3QuZW5lcmd5Q2FyZCwgZWZmZWN0LnRhcmdldCk7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG5cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG4iXX0=