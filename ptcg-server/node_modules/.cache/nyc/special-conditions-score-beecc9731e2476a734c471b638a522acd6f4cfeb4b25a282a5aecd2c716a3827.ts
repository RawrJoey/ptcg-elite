"use strict";function cov_2f3x7dgtz8(){var path="/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/state-score/special-conditions-score.ts";var hash="7b50c7f06e1b2cbc615ab41cc4abd4038643d259";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/state-score/special-conditions-score.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:40}},"2":{start:{line:4,column:15},end:{line:4,column:36}},"3":{start:{line:5,column:16},end:{line:5,column:34}},"4":{start:{line:6,column:21},end:{line:6,column:64}},"5":{start:{line:9,column:23},end:{line:9,column:54}},"6":{start:{line:10,column:25},end:{line:10,column:69}},"7":{start:{line:11,column:20},end:{line:11,column:21}},"8":{start:{line:12,column:8},end:{line:12,column:48}},"9":{start:{line:13,column:8},end:{line:13,column:50}},"10":{start:{line:14,column:8},end:{line:14,column:21}},"11":{start:{line:17,column:23},end:{line:17,column:60}},"12":{start:{line:18,column:20},end:{line:18,column:21}},"13":{start:{line:19,column:8},end:{line:37,column:11}},"14":{start:{line:20,column:12},end:{line:36,column:13}},"15":{start:{line:22,column:20},end:{line:22,column:46}},"16":{start:{line:23,column:20},end:{line:23,column:26}},"17":{start:{line:25,column:20},end:{line:25,column:45}},"18":{start:{line:26,column:20},end:{line:26,column:26}},"19":{start:{line:28,column:20},end:{line:28,column:43}},"20":{start:{line:29,column:20},end:{line:29,column:26}},"21":{start:{line:31,column:20},end:{line:31,column:45}},"22":{start:{line:32,column:20},end:{line:32,column:26}},"23":{start:{line:34,column:20},end:{line:34,column:45}},"24":{start:{line:35,column:20},end:{line:35,column:26}},"25":{start:{line:38,column:8},end:{line:38,column:21}},"26":{start:{line:41,column:0},end:{line:41,column:56}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:8,column:4},end:{line:8,column:5}},loc:{start:{line:8,column:30},end:{line:15,column:5}},line:8},"1":{name:"(anonymous_1)",decl:{start:{line:16,column:4},end:{line:16,column:5}},loc:{start:{line:16,column:30},end:{line:39,column:5}},line:16},"2":{name:"(anonymous_2)",decl:{start:{line:19,column:48},end:{line:19,column:49}},loc:{start:{line:19,column:61},end:{line:37,column:9}},line:19}},branchMap:{"0":{loc:{start:{line:20,column:12},end:{line:36,column:13}},type:"switch",locations:[{start:{line:21,column:16},end:{line:23,column:26}},{start:{line:24,column:16},end:{line:26,column:26}},{start:{line:27,column:16},end:{line:29,column:26}},{start:{line:30,column:16},end:{line:32,column:26}},{start:{line:33,column:16},end:{line:35,column:26}}],line:20}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0,0,0,0]},inputSourceMap:{version:3,file:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/state-score/special-conditions-score.ts",sources:["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/state-score/special-conditions-score.ts"],names:[],mappings:";;;AAAA,qCAAuD;AACvD,mCAAsC;AACtC,iEAAoE;AAGpE,MAAa,sBAAuB,SAAQ,mBAAW;IAE9C,QAAQ,CAAC,KAAY,EAAE,QAAgB;QAC5C,MAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QAC/C,MAAM,QAAQ,GAAG,iBAAU,CAAC,WAAW,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QAEvD,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,KAAK,IAAI,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;QACxC,KAAK,IAAI,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;QAE1C,OAAO,KAAK,CAAC;IACf,CAAC;IAEO,iBAAiB,CAAC,MAAc;QACtC,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,iBAAiB,CAAC;QACrD,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,MAAM,CAAC,MAAM,CAAC,iBAAiB,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;YAClD,QAAQ,SAAS,EAAE;gBACjB,KAAK,6BAAgB,CAAC,SAAS;oBAC7B,KAAK,IAAI,MAAM,CAAC,SAAS,CAAC;oBAC1B,MAAM;gBACR,KAAK,6BAAgB,CAAC,QAAQ;oBAC5B,KAAK,IAAI,MAAM,CAAC,QAAQ,CAAC;oBACzB,MAAM;gBACR,KAAK,6BAAgB,CAAC,MAAM;oBAC1B,KAAK,IAAI,MAAM,CAAC,MAAM,CAAC;oBACvB,MAAM;gBACR,KAAK,6BAAgB,CAAC,QAAQ;oBAC5B,KAAK,IAAI,MAAM,CAAC,QAAQ,CAAC;oBACzB,MAAM;gBACR,KAAK,6BAAgB,CAAC,MAAM;oBAC1B,KAAK,IAAI,MAAM,CAAC,QAAQ,CAAC;oBACzB,MAAM;aACT;QACH,CAAC,CAAC,CAAC;QACH,OAAO,KAAK,CAAC;IACf,CAAC;CAEF;AAtCD,wDAsCC",sourcesContent:["import { State, StateUtils, Player } from '../../game';\nimport { SimpleScore } from './score';\nimport { SpecialCondition } from '../../game/store/card/card-types';\n\n\nexport class SpecialConditionsScore extends SimpleScore {\n\n  public getScore(state: State, playerId: number): number {\n    const player = this.getPlayer(state, playerId);\n    const opponent = StateUtils.getOpponent(state, player);\n\n    let score = 0;\n    score += this.getScoreForPlayer(player);\n    score -= this.getScoreForPlayer(opponent);\n\n    return score;\n  }\n\n  private getScoreForPlayer(player: Player): number {\n    const scores = this.options.scores.specialConditions;\n    let score = 0;\n    player.active.specialConditions.forEach(condition => {\n      switch (condition) {\n        case SpecialCondition.PARALYZED:\n          score += scores.paralyzed;\n          break;\n        case SpecialCondition.CONFUSED:\n          score += scores.confused;\n          break;\n        case SpecialCondition.ASLEEP:\n          score += scores.asleep;\n          break;\n        case SpecialCondition.POISONED:\n          score += scores.poisoned;\n          break;\n        case SpecialCondition.BURNED:\n          score += scores.confused;\n          break;\n      }\n    });\n    return score;\n  }\n\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7b50c7f06e1b2cbc615ab41cc4abd4038643d259"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2f3x7dgtz8=function(){return actualCoverage;};}return actualCoverage;}cov_2f3x7dgtz8();cov_2f3x7dgtz8().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_2f3x7dgtz8().s[1]++;exports.SpecialConditionsScore=void 0;const game_1=(cov_2f3x7dgtz8().s[2]++,require("../../game"));const score_1=(cov_2f3x7dgtz8().s[3]++,require("./score"));const card_types_1=(cov_2f3x7dgtz8().s[4]++,require("../../game/store/card/card-types"));class SpecialConditionsScore extends(score_1.SimpleScore){getScore(state,playerId){cov_2f3x7dgtz8().f[0]++;const player=(cov_2f3x7dgtz8().s[5]++,this.getPlayer(state,playerId));const opponent=(cov_2f3x7dgtz8().s[6]++,game_1.StateUtils.getOpponent(state,player));let score=(cov_2f3x7dgtz8().s[7]++,0);cov_2f3x7dgtz8().s[8]++;score+=this.getScoreForPlayer(player);cov_2f3x7dgtz8().s[9]++;score-=this.getScoreForPlayer(opponent);cov_2f3x7dgtz8().s[10]++;return score;}getScoreForPlayer(player){cov_2f3x7dgtz8().f[1]++;const scores=(cov_2f3x7dgtz8().s[11]++,this.options.scores.specialConditions);let score=(cov_2f3x7dgtz8().s[12]++,0);cov_2f3x7dgtz8().s[13]++;player.active.specialConditions.forEach(condition=>{cov_2f3x7dgtz8().f[2]++;cov_2f3x7dgtz8().s[14]++;switch(condition){case card_types_1.SpecialCondition.PARALYZED:cov_2f3x7dgtz8().b[0][0]++;cov_2f3x7dgtz8().s[15]++;score+=scores.paralyzed;cov_2f3x7dgtz8().s[16]++;break;case card_types_1.SpecialCondition.CONFUSED:cov_2f3x7dgtz8().b[0][1]++;cov_2f3x7dgtz8().s[17]++;score+=scores.confused;cov_2f3x7dgtz8().s[18]++;break;case card_types_1.SpecialCondition.ASLEEP:cov_2f3x7dgtz8().b[0][2]++;cov_2f3x7dgtz8().s[19]++;score+=scores.asleep;cov_2f3x7dgtz8().s[20]++;break;case card_types_1.SpecialCondition.POISONED:cov_2f3x7dgtz8().b[0][3]++;cov_2f3x7dgtz8().s[21]++;score+=scores.poisoned;cov_2f3x7dgtz8().s[22]++;break;case card_types_1.SpecialCondition.BURNED:cov_2f3x7dgtz8().b[0][4]++;cov_2f3x7dgtz8().s[23]++;score+=scores.confused;cov_2f3x7dgtz8().s[24]++;break;}});cov_2f3x7dgtz8().s[25]++;return score;}}cov_2f3x7dgtz8().s[26]++;exports.SpecialConditionsScore=SpecialConditionsScore;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2pvZW15ZXJzY291Z2gvRG9jdW1lbnRzL0dpdEh1Yi9wdGNnLWVwc2QvcHRjZy1zZXJ2ZXIvc3JjL3NpbXBsZS1ib3Qvc3RhdGUtc2NvcmUvc3BlY2lhbC1jb25kaXRpb25zLXNjb3JlLnRzIiwic291cmNlcyI6WyIvVXNlcnMvam9lbXllcnNjb3VnaC9Eb2N1bWVudHMvR2l0SHViL3B0Y2ctZXBzZC9wdGNnLXNlcnZlci9zcmMvc2ltcGxlLWJvdC9zdGF0ZS1zY29yZS9zcGVjaWFsLWNvbmRpdGlvbnMtc2NvcmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEscUNBQXVEO0FBQ3ZELG1DQUFzQztBQUN0QyxpRUFBb0U7QUFHcEUsTUFBYSxzQkFBdUIsU0FBUSxtQkFBVztJQUU5QyxRQUFRLENBQUMsS0FBWSxFQUFFLFFBQWdCO1FBQzVDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQy9DLE1BQU0sUUFBUSxHQUFHLGlCQUFVLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztRQUV2RCxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDZCxLQUFLLElBQUksSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3hDLEtBQUssSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLENBQUM7UUFFMUMsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0lBRU8saUJBQWlCLENBQUMsTUFBYztRQUN0QyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQztRQUNyRCxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDZCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUNsRCxRQUFRLFNBQVMsRUFBRTtnQkFDakIsS0FBSyw2QkFBZ0IsQ0FBQyxTQUFTO29CQUM3QixLQUFLLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQztvQkFDMUIsTUFBTTtnQkFDUixLQUFLLDZCQUFnQixDQUFDLFFBQVE7b0JBQzVCLEtBQUssSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDO29CQUN6QixNQUFNO2dCQUNSLEtBQUssNkJBQWdCLENBQUMsTUFBTTtvQkFDMUIsS0FBSyxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUM7b0JBQ3ZCLE1BQU07Z0JBQ1IsS0FBSyw2QkFBZ0IsQ0FBQyxRQUFRO29CQUM1QixLQUFLLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQztvQkFDekIsTUFBTTtnQkFDUixLQUFLLDZCQUFnQixDQUFDLE1BQU07b0JBQzFCLEtBQUssSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDO29CQUN6QixNQUFNO2FBQ1Q7UUFDSCxDQUFDLENBQUMsQ0FBQztRQUNILE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztDQUVGO0FBdENELHdEQXNDQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN0YXRlLCBTdGF0ZVV0aWxzLCBQbGF5ZXIgfSBmcm9tICcuLi8uLi9nYW1lJztcbmltcG9ydCB7IFNpbXBsZVNjb3JlIH0gZnJvbSAnLi9zY29yZSc7XG5pbXBvcnQgeyBTcGVjaWFsQ29uZGl0aW9uIH0gZnJvbSAnLi4vLi4vZ2FtZS9zdG9yZS9jYXJkL2NhcmQtdHlwZXMnO1xuXG5cbmV4cG9ydCBjbGFzcyBTcGVjaWFsQ29uZGl0aW9uc1Njb3JlIGV4dGVuZHMgU2ltcGxlU2NvcmUge1xuXG4gIHB1YmxpYyBnZXRTY29yZShzdGF0ZTogU3RhdGUsIHBsYXllcklkOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IHBsYXllciA9IHRoaXMuZ2V0UGxheWVyKHN0YXRlLCBwbGF5ZXJJZCk7XG4gICAgY29uc3Qgb3Bwb25lbnQgPSBTdGF0ZVV0aWxzLmdldE9wcG9uZW50KHN0YXRlLCBwbGF5ZXIpO1xuXG4gICAgbGV0IHNjb3JlID0gMDtcbiAgICBzY29yZSArPSB0aGlzLmdldFNjb3JlRm9yUGxheWVyKHBsYXllcik7XG4gICAgc2NvcmUgLT0gdGhpcy5nZXRTY29yZUZvclBsYXllcihvcHBvbmVudCk7XG5cbiAgICByZXR1cm4gc2NvcmU7XG4gIH1cblxuICBwcml2YXRlIGdldFNjb3JlRm9yUGxheWVyKHBsYXllcjogUGxheWVyKTogbnVtYmVyIHtcbiAgICBjb25zdCBzY29yZXMgPSB0aGlzLm9wdGlvbnMuc2NvcmVzLnNwZWNpYWxDb25kaXRpb25zO1xuICAgIGxldCBzY29yZSA9IDA7XG4gICAgcGxheWVyLmFjdGl2ZS5zcGVjaWFsQ29uZGl0aW9ucy5mb3JFYWNoKGNvbmRpdGlvbiA9PiB7XG4gICAgICBzd2l0Y2ggKGNvbmRpdGlvbikge1xuICAgICAgICBjYXNlIFNwZWNpYWxDb25kaXRpb24uUEFSQUxZWkVEOlxuICAgICAgICAgIHNjb3JlICs9IHNjb3Jlcy5wYXJhbHl6ZWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgU3BlY2lhbENvbmRpdGlvbi5DT05GVVNFRDpcbiAgICAgICAgICBzY29yZSArPSBzY29yZXMuY29uZnVzZWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgU3BlY2lhbENvbmRpdGlvbi5BU0xFRVA6XG4gICAgICAgICAgc2NvcmUgKz0gc2NvcmVzLmFzbGVlcDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBTcGVjaWFsQ29uZGl0aW9uLlBPSVNPTkVEOlxuICAgICAgICAgIHNjb3JlICs9IHNjb3Jlcy5wb2lzb25lZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBTcGVjaWFsQ29uZGl0aW9uLkJVUk5FRDpcbiAgICAgICAgICBzY29yZSArPSBzY29yZXMuY29uZnVzZWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHNjb3JlO1xuICB9XG5cbn1cbiJdfQ==
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2VteWVyc2NvdWdoL0RvY3VtZW50cy9HaXRIdWIvcHRjZy1lcHNkL3B0Y2ctc2VydmVyL3NyYy9zaW1wbGUtYm90L3N0YXRlLXNjb3JlL3NwZWNpYWwtY29uZGl0aW9ucy1zY29yZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiMHhMQWtCVTswT0FsQlYsS0FBQSxDQUFBLE1BQUEsMEJBQUEsT0FBQSxDQUFBLFlBQUEsQ0FBQSxDQUFBLENBQ0EsS0FBQSxDQUFBLE9BQUEsMEJBQUEsT0FBQSxDQUFBLFNBQUEsQ0FBQSxDQUFBLENBQ0EsS0FBQSxDQUFBLFlBQUEsMEJBQUEsT0FBQSxDQUFBLGtDQUFBLENBQUEsQ0FBQSxDQUdBLEtBQWEsQ0FBQSxzQkFBYixTQUE0QyxPQUFBLENBQUEsV0FBNUMsQ0FBdUQsQ0FFOUMsUUFBUSxDQUFDLEtBQUQsQ0FBZSxRQUFmLENBQStCLHlCQUM1QyxLQUFNLENBQUEsTUFBTSwwQkFBRyxLQUFLLFNBQUwsQ0FBZSxLQUFmLENBQXNCLFFBQXRCLENBQUgsQ0FBWixDQUNBLEtBQU0sQ0FBQSxRQUFRLDBCQUFHLE1BQUEsQ0FBQSxVQUFBLENBQVcsV0FBWCxDQUF1QixLQUF2QixDQUE4QixNQUE5QixDQUFILENBQWQsQ0FFQSxHQUFJLENBQUEsS0FBSywwQkFBRyxDQUFILENBQVQsQ0FKNEMsd0JBSzVDLEtBQUssRUFBSSxLQUFLLGlCQUFMLENBQXVCLE1BQXZCLENBQVQsQ0FMNEMsd0JBTTVDLEtBQUssRUFBSSxLQUFLLGlCQUFMLENBQXVCLFFBQXZCLENBQVQsQ0FONEMseUJBUTVDLE1BQU8sQ0FBQSxLQUFQLENBQ0QsQ0FFTyxpQkFBaUIsQ0FBQyxNQUFELENBQWUseUJBQ3RDLEtBQU0sQ0FBQSxNQUFNLDJCQUFHLEtBQUssT0FBTCxDQUFhLE1BQWIsQ0FBb0IsaUJBQXZCLENBQVosQ0FDQSxHQUFJLENBQUEsS0FBSywyQkFBRyxDQUFILENBQVQsQ0FGc0MseUJBR3RDLE1BQU0sQ0FBQyxNQUFQLENBQWMsaUJBQWQsQ0FBZ0MsT0FBaEMsQ0FBd0MsU0FBUyxFQUFHLGtEQUNsRCxPQUFRLFNBQVIsRUFDRSxJQUFLLENBQUEsWUFBQSxDQUFBLGdCQUFBLENBQWlCLFNBQXRCLHFEQUNFLEtBQUssRUFBSSxNQUFNLENBQUMsU0FBaEIsQ0FERix5QkFFRSxNQUNGLElBQUssQ0FBQSxZQUFBLENBQUEsZ0JBQUEsQ0FBaUIsUUFBdEIscURBQ0UsS0FBSyxFQUFJLE1BQU0sQ0FBQyxRQUFoQixDQURGLHlCQUVFLE1BQ0YsSUFBSyxDQUFBLFlBQUEsQ0FBQSxnQkFBQSxDQUFpQixNQUF0QixxREFDRSxLQUFLLEVBQUksTUFBTSxDQUFDLE1BQWhCLENBREYseUJBRUUsTUFDRixJQUFLLENBQUEsWUFBQSxDQUFBLGdCQUFBLENBQWlCLFFBQXRCLHFEQUNFLEtBQUssRUFBSSxNQUFNLENBQUMsUUFBaEIsQ0FERix5QkFFRSxNQUNGLElBQUssQ0FBQSxZQUFBLENBQUEsZ0JBQUEsQ0FBaUIsTUFBdEIscURBQ0UsS0FBSyxFQUFJLE1BQU0sQ0FBQyxRQUFoQixDQURGLHlCQUVFLE1BZkosQ0FpQkQsQ0FsQkQsRUFIc0MseUJBc0J0QyxNQUFPLENBQUEsS0FBUCxDQUNELENBcENvRCxDLHlCQUF2RCxPQUFBLENBQUEsc0JBQUEsQ0FBQSxzQkFBQSxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3RhdGUsIFN0YXRlVXRpbHMsIFBsYXllciB9IGZyb20gJy4uLy4uL2dhbWUnO1xuaW1wb3J0IHsgU2ltcGxlU2NvcmUgfSBmcm9tICcuL3Njb3JlJztcbmltcG9ydCB7IFNwZWNpYWxDb25kaXRpb24gfSBmcm9tICcuLi8uLi9nYW1lL3N0b3JlL2NhcmQvY2FyZC10eXBlcyc7XG5cblxuZXhwb3J0IGNsYXNzIFNwZWNpYWxDb25kaXRpb25zU2NvcmUgZXh0ZW5kcyBTaW1wbGVTY29yZSB7XG5cbiAgcHVibGljIGdldFNjb3JlKHN0YXRlOiBTdGF0ZSwgcGxheWVySWQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5nZXRQbGF5ZXIoc3RhdGUsIHBsYXllcklkKTtcbiAgICBjb25zdCBvcHBvbmVudCA9IFN0YXRlVXRpbHMuZ2V0T3Bwb25lbnQoc3RhdGUsIHBsYXllcik7XG5cbiAgICBsZXQgc2NvcmUgPSAwO1xuICAgIHNjb3JlICs9IHRoaXMuZ2V0U2NvcmVGb3JQbGF5ZXIocGxheWVyKTtcbiAgICBzY29yZSAtPSB0aGlzLmdldFNjb3JlRm9yUGxheWVyKG9wcG9uZW50KTtcblxuICAgIHJldHVybiBzY29yZTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U2NvcmVGb3JQbGF5ZXIocGxheWVyOiBQbGF5ZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IHNjb3JlcyA9IHRoaXMub3B0aW9ucy5zY29yZXMuc3BlY2lhbENvbmRpdGlvbnM7XG4gICAgbGV0IHNjb3JlID0gMDtcbiAgICBwbGF5ZXIuYWN0aXZlLnNwZWNpYWxDb25kaXRpb25zLmZvckVhY2goY29uZGl0aW9uID0+IHtcbiAgICAgIHN3aXRjaCAoY29uZGl0aW9uKSB7XG4gICAgICAgIGNhc2UgU3BlY2lhbENvbmRpdGlvbi5QQVJBTFlaRUQ6XG4gICAgICAgICAgc2NvcmUgKz0gc2NvcmVzLnBhcmFseXplZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBTcGVjaWFsQ29uZGl0aW9uLkNPTkZVU0VEOlxuICAgICAgICAgIHNjb3JlICs9IHNjb3Jlcy5jb25mdXNlZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBTcGVjaWFsQ29uZGl0aW9uLkFTTEVFUDpcbiAgICAgICAgICBzY29yZSArPSBzY29yZXMuYXNsZWVwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFNwZWNpYWxDb25kaXRpb24uUE9JU09ORUQ6XG4gICAgICAgICAgc2NvcmUgKz0gc2NvcmVzLnBvaXNvbmVkO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFNwZWNpYWxDb25kaXRpb24uQlVSTkVEOlxuICAgICAgICAgIHNjb3JlICs9IHNjb3Jlcy5jb25mdXNlZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gc2NvcmU7XG4gIH1cblxufVxuIl19