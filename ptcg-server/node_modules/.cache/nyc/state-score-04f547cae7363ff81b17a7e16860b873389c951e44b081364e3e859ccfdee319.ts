"use strict";function cov_ekz3wjj6o(){var path="/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/state-score/state-score.ts";var hash="089a88d247136510f296c3fd2962c45b359a9642";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/state-score/state-score.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:28}},"2":{start:{line:4,column:16},end:{line:4,column:34}},"3":{start:{line:5,column:21},end:{line:5,column:44}},"4":{start:{line:6,column:25},end:{line:6,column:52}},"5":{start:{line:7,column:23},end:{line:7,column:48}},"6":{start:{line:8,column:35},end:{line:8,column:72}},"7":{start:{line:9,column:23},end:{line:9,column:48}},"8":{start:{line:10,column:22},end:{line:10,column:46}},"9":{start:{line:11,column:23},end:{line:11,column:48}},"10":{start:{line:12,column:23},end:{line:12,column:48}},"11":{start:{line:13,column:22},end:{line:13,column:46}},"12":{start:{line:16,column:8},end:{line:16,column:23}},"13":{start:{line:17,column:8},end:{line:17,column:31}},"14":{start:{line:18,column:8},end:{line:18,column:61}},"15":{start:{line:19,column:8},end:{line:19,column:73}},"16":{start:{line:20,column:8},end:{line:20,column:67}},"17":{start:{line:21,column:8},end:{line:21,column:101}},"18":{start:{line:22,column:8},end:{line:22,column:67}},"19":{start:{line:23,column:8},end:{line:23,column:64}},"20":{start:{line:24,column:8},end:{line:24,column:67}},"21":{start:{line:25,column:8},end:{line:25,column:67}},"22":{start:{line:26,column:8},end:{line:26,column:64}},"23":{start:{line:29,column:26},end:{line:29,column:66}},"24":{start:{line:30,column:30},end:{line:30,column:74}},"25":{start:{line:31,column:28},end:{line:31,column:70}},"26":{start:{line:32,column:39},end:{line:32,column:92}},"27":{start:{line:33,column:28},end:{line:33,column:70}},"28":{start:{line:34,column:27},end:{line:34,column:68}},"29":{start:{line:35,column:28},end:{line:35,column:70}},"30":{start:{line:36,column:28},end:{line:36,column:70}},"31":{start:{line:37,column:27},end:{line:37,column:68}},"32":{start:{line:38,column:22},end:{line:46,column:24}},"33":{start:{line:47,column:8},end:{line:47,column:21}},"34":{start:{line:50,column:23},end:{line:50,column:54}},"35":{start:{line:51,column:22},end:{line:51,column:72}},"36":{start:{line:51,column:55},end:{line:51,column:71}},"37":{start:{line:52,column:26},end:{line:52,column:66}},"38":{start:{line:53,column:25},end:{line:53,column:34}},"39":{start:{line:55,column:8},end:{line:65,column:9}},"40":{start:{line:56,column:12},end:{line:56,column:41}},"41":{start:{line:57,column:12},end:{line:57,column:66}},"42":{start:{line:58,column:12},end:{line:58,column:36}},"43":{start:{line:62,column:22},end:{line:62,column:56}},"44":{start:{line:63,column:12},end:{line:63,column:66}},"45":{start:{line:64,column:12},end:{line:64,column:53}},"46":{start:{line:66,column:8},end:{line:66,column:38}},"47":{start:{line:69,column:8},end:{line:69,column:76}},"48":{start:{line:72,column:0},end:{line:72,column:32}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:25},end:{line:27,column:5}},line:15},"1":{name:"(anonymous_1)",decl:{start:{line:28,column:4},end:{line:28,column:5}},loc:{start:{line:28,column:30},end:{line:48,column:5}},line:28},"2":{name:"(anonymous_2)",decl:{start:{line:49,column:4},end:{line:49,column:5}},loc:{start:{line:49,column:40},end:{line:67,column:5}},line:49},"3":{name:"(anonymous_3)",decl:{start:{line:51,column:50},end:{line:51,column:51}},loc:{start:{line:51,column:55},end:{line:51,column:71}},line:51},"4":{name:"(anonymous_4)",decl:{start:{line:68,column:4},end:{line:68,column:5}},loc:{start:{line:68,column:30},end:{line:70,column:5}},line:68}},branchMap:{"0":{loc:{start:{line:55,column:8},end:{line:65,column:9}},type:"if",locations:[{start:{line:55,column:8},end:{line:65,column:9}},{start:{line:55,column:8},end:{line:65,column:9}}],line:55}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0]},inputSourceMap:{version:3,file:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/state-score/state-score.ts",sources:["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/state-score/state-score.ts"],names:[],mappings:"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",sourcesContent:["import { State, PokemonCardList, Card } from '../../game';\nimport { SimpleScore } from './score';\nimport { SimpleBotOptions } from '../simple-bot-options';\nimport { HandScore } from './hand-score';\nimport { OpponentScore } from './opponent-score';\nimport { PlayerScore } from './player-score';\nimport { SpecialConditionsScore } from './special-conditions-score';\nimport { ActiveScore } from './active-score';\nimport { BenchScore } from './bench-score';\nimport { EnergyScore } from './energy-score';\nimport { DamageScore } from './damage-score';\nimport { ToolsScore } from './tools-score';\n\nexport class StateScore extends SimpleScore {\n\n  private handScore: HandScore;\n  private opponentScore: OpponentScore;\n  private playerScore: PlayerScore;\n  private specialConditionsScore: SpecialConditionsScore;\n  private activeScore: ActiveScore;\n  private benchScore: BenchScore;\n  private energyScore: EnergyScore;\n  private damageScore: DamageScore;\n  private toolsScore: ToolsScore;\n\n  constructor(protected options: SimpleBotOptions) {\n    super(options);\n    this.handScore = new HandScore(options);\n    this.opponentScore = new OpponentScore(options);\n    this.playerScore = new PlayerScore(options);\n    this.specialConditionsScore = new SpecialConditionsScore(options);\n    this.activeScore = new ActiveScore(options);\n    this.benchScore = new BenchScore(options);\n    this.energyScore = new EnergyScore(options);\n    this.damageScore = new DamageScore(options);\n    this.toolsScore = new ToolsScore(options);\n  }\n\n  public getScore(state: State, playerId: number): number {\n    const handScore = this.handScore.getScore(state, playerId);\n    const opponentScore = this.opponentScore.getScore(state, playerId);\n    const playerScore = this.playerScore.getScore(state, playerId);\n    const specialConditionsScore = this.specialConditionsScore.getScore(state, playerId);\n    const activeScore = this.activeScore.getScore(state, playerId);\n    const benchScore = this.benchScore.getScore(state, playerId);\n    const energyScore = this.energyScore.getScore(state, playerId);\n    const damageScore = this.damageScore.getScore(state, playerId);\n    const toolsScore = this.toolsScore.getScore(state, playerId);\n\n    const score = handScore\n      + opponentScore\n      + playerScore\n      + specialConditionsScore\n      + activeScore\n      + benchScore\n      + energyScore\n      + damageScore\n      + toolsScore;\n\n    return score;\n  }\n\n  public getCardScore(state: State, playerId: number, card: Card): number {\n    const player = this.getPlayer(state, playerId);\n    const index = player.hand.cards.findIndex(c => c.id === card.id);\n\n    const baseScore = this.handScore.getScore(state, playerId);\n    let afterScore = baseScore;\n\n    // Card is not in the hand, what if we have it?\n    if (index === -1) {\n      player.hand.cards.push(card);\n      afterScore = this.handScore.getScore(state, playerId);\n      player.hand.cards.pop();\n    // Card is in our hand, what if we loses it?\n    } else {\n      const c = player.hand.cards.splice(index, 1);\n      afterScore = this.handScore.getScore(state, playerId);\n      player.hand.cards.splice(index, 0, c[0]);\n    }\n\n    return afterScore - baseScore;\n  }\n\n  public getPokemonScore(cardList: PokemonCardList): number {\n    return this.getPokemonScoreBy(this.options.scores.active, cardList);\n  }\n\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"089a88d247136510f296c3fd2962c45b359a9642"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_ekz3wjj6o=function(){return actualCoverage;};}return actualCoverage;}cov_ekz3wjj6o();cov_ekz3wjj6o().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_ekz3wjj6o().s[1]++;exports.StateScore=void 0;const score_1=(cov_ekz3wjj6o().s[2]++,require("./score"));const hand_score_1=(cov_ekz3wjj6o().s[3]++,require("./hand-score"));const opponent_score_1=(cov_ekz3wjj6o().s[4]++,require("./opponent-score"));const player_score_1=(cov_ekz3wjj6o().s[5]++,require("./player-score"));const special_conditions_score_1=(cov_ekz3wjj6o().s[6]++,require("./special-conditions-score"));const active_score_1=(cov_ekz3wjj6o().s[7]++,require("./active-score"));const bench_score_1=(cov_ekz3wjj6o().s[8]++,require("./bench-score"));const energy_score_1=(cov_ekz3wjj6o().s[9]++,require("./energy-score"));const damage_score_1=(cov_ekz3wjj6o().s[10]++,require("./damage-score"));const tools_score_1=(cov_ekz3wjj6o().s[11]++,require("./tools-score"));class StateScore extends(score_1.SimpleScore){constructor(options){cov_ekz3wjj6o().f[0]++;cov_ekz3wjj6o().s[12]++;super(options);cov_ekz3wjj6o().s[13]++;this.options=options;cov_ekz3wjj6o().s[14]++;this.handScore=new hand_score_1.HandScore(options);cov_ekz3wjj6o().s[15]++;this.opponentScore=new opponent_score_1.OpponentScore(options);cov_ekz3wjj6o().s[16]++;this.playerScore=new player_score_1.PlayerScore(options);cov_ekz3wjj6o().s[17]++;this.specialConditionsScore=new special_conditions_score_1.SpecialConditionsScore(options);cov_ekz3wjj6o().s[18]++;this.activeScore=new active_score_1.ActiveScore(options);cov_ekz3wjj6o().s[19]++;this.benchScore=new bench_score_1.BenchScore(options);cov_ekz3wjj6o().s[20]++;this.energyScore=new energy_score_1.EnergyScore(options);cov_ekz3wjj6o().s[21]++;this.damageScore=new damage_score_1.DamageScore(options);cov_ekz3wjj6o().s[22]++;this.toolsScore=new tools_score_1.ToolsScore(options);}getScore(state,playerId){cov_ekz3wjj6o().f[1]++;const handScore=(cov_ekz3wjj6o().s[23]++,this.handScore.getScore(state,playerId));const opponentScore=(cov_ekz3wjj6o().s[24]++,this.opponentScore.getScore(state,playerId));const playerScore=(cov_ekz3wjj6o().s[25]++,this.playerScore.getScore(state,playerId));const specialConditionsScore=(cov_ekz3wjj6o().s[26]++,this.specialConditionsScore.getScore(state,playerId));const activeScore=(cov_ekz3wjj6o().s[27]++,this.activeScore.getScore(state,playerId));const benchScore=(cov_ekz3wjj6o().s[28]++,this.benchScore.getScore(state,playerId));const energyScore=(cov_ekz3wjj6o().s[29]++,this.energyScore.getScore(state,playerId));const damageScore=(cov_ekz3wjj6o().s[30]++,this.damageScore.getScore(state,playerId));const toolsScore=(cov_ekz3wjj6o().s[31]++,this.toolsScore.getScore(state,playerId));const score=(cov_ekz3wjj6o().s[32]++,handScore+opponentScore+playerScore+specialConditionsScore+activeScore+benchScore+energyScore+damageScore+toolsScore);cov_ekz3wjj6o().s[33]++;return score;}getCardScore(state,playerId,card){cov_ekz3wjj6o().f[2]++;const player=(cov_ekz3wjj6o().s[34]++,this.getPlayer(state,playerId));const index=(cov_ekz3wjj6o().s[35]++,player.hand.cards.findIndex(c=>{cov_ekz3wjj6o().f[3]++;cov_ekz3wjj6o().s[36]++;return c.id===card.id;}));const baseScore=(cov_ekz3wjj6o().s[37]++,this.handScore.getScore(state,playerId));let afterScore=(cov_ekz3wjj6o().s[38]++,baseScore);// Card is not in the hand, what if we have it?
cov_ekz3wjj6o().s[39]++;if(index===-1){cov_ekz3wjj6o().b[0][0]++;cov_ekz3wjj6o().s[40]++;player.hand.cards.push(card);cov_ekz3wjj6o().s[41]++;afterScore=this.handScore.getScore(state,playerId);cov_ekz3wjj6o().s[42]++;player.hand.cards.pop();// Card is in our hand, what if we loses it?
}else{cov_ekz3wjj6o().b[0][1]++;const c=(cov_ekz3wjj6o().s[43]++,player.hand.cards.splice(index,1));cov_ekz3wjj6o().s[44]++;afterScore=this.handScore.getScore(state,playerId);cov_ekz3wjj6o().s[45]++;player.hand.cards.splice(index,0,c[0]);}cov_ekz3wjj6o().s[46]++;return afterScore-baseScore;}getPokemonScore(cardList){cov_ekz3wjj6o().f[4]++;cov_ekz3wjj6o().s[47]++;return this.getPokemonScoreBy(this.options.scores.active,cardList);}}cov_ekz3wjj6o().s[48]++;exports.StateScore=StateScore;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2pvZW15ZXJzY291Z2gvRG9jdW1lbnRzL0dpdEh1Yi9wdGNnLWVwc2QvcHRjZy1zZXJ2ZXIvc3JjL3NpbXBsZS1ib3Qvc3RhdGUtc2NvcmUvc3RhdGUtc2NvcmUudHMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2VteWVyc2NvdWdoL0RvY3VtZW50cy9HaXRIdWIvcHRjZy1lcHNkL3B0Y2ctc2VydmVyL3NyYy9zaW1wbGUtYm90L3N0YXRlLXNjb3JlL3N0YXRlLXNjb3JlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLG1DQUFzQztBQUV0Qyw2Q0FBeUM7QUFDekMscURBQWlEO0FBQ2pELGlEQUE2QztBQUM3Qyx5RUFBb0U7QUFDcEUsaURBQTZDO0FBQzdDLCtDQUEyQztBQUMzQyxpREFBNkM7QUFDN0MsaURBQTZDO0FBQzdDLCtDQUEyQztBQUUzQyxNQUFhLFVBQVcsU0FBUSxtQkFBVztJQVl6QyxZQUFzQixPQUF5QjtRQUM3QyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFESyxZQUFPLEdBQVAsT0FBTyxDQUFrQjtRQUU3QyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksc0JBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN4QyxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksOEJBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNoRCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksMEJBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM1QyxJQUFJLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxpREFBc0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNsRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksMEJBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM1QyxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksd0JBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMxQyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksMEJBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztR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LEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDMUM7UUFFRCxPQUFPLFVBQVUsR0FBRyxTQUFTLENBQUM7SUFDaEMsQ0FBQztJQUVNLGVBQWUsQ0FBQyxRQUF5QjtRQUM5QyxPQUFPLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDdEUsQ0FBQztDQUVGO0FBM0VELGdDQTJFQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN0YXRlLCBQb2tlbW9uQ2FyZExpc3QsIENhcmQgfSBmcm9tICcuLi8uLi9nYW1lJztcbmltcG9ydCB7IFNpbXBsZVNjb3JlIH0gZnJvbSAnLi9zY29yZSc7XG5pbXBvcnQgeyBTaW1wbGVCb3RPcHRpb25zIH0gZnJvbSAnLi4vc2ltcGxlLWJvdC1vcHRpb25zJztcbmltcG9ydCB7IEhhbmRTY29yZSB9IGZyb20gJy4vaGFuZC1zY29yZSc7XG5pbXBvcnQgeyBPcHBvbmVudFNjb3JlIH0gZnJvbSAnLi9vcHBvbmVudC1zY29yZSc7XG5pbXBvcnQgeyBQbGF5ZXJTY29yZSB9IGZyb20gJy4vcGxheWVyLXNjb3JlJztcbmltcG9ydCB7IFNwZWNpYWxDb25kaXRpb25zU2NvcmUgfSBmcm9tICcuL3NwZWNpYWwtY29uZGl0aW9ucy1zY29yZSc7XG5pbXBvcnQgeyBBY3RpdmVTY29yZSB9IGZyb20gJy4vYWN0aXZlLXNjb3JlJztcbmltcG9ydCB7IEJlbmNoU2NvcmUgfSBmcm9tICcuL2JlbmNoLXNjb3JlJztcbmltcG9ydCB7IEVuZXJneVNjb3JlIH0gZnJvbSAnLi9lbmVyZ3ktc2NvcmUnO1xuaW1wb3J0IHsgRGFtYWdlU2NvcmUgfSBmcm9tICcuL2RhbWFnZS1zY29yZSc7XG5pbXBvcnQgeyBUb29sc1Njb3JlIH0gZnJvbSAnLi90b29scy1zY29yZSc7XG5cbmV4cG9ydCBjbGFzcyBTdGF0ZVNjb3JlIGV4dGVuZHMgU2ltcGxlU2NvcmUge1xuXG4gIHByaXZhdGUgaGFuZFNjb3JlOiBIYW5kU2NvcmU7XG4gIHByaXZhdGUgb3Bwb25lbnRTY29yZTogT3Bwb25lbnRTY29yZTtcbiAgcHJpdmF0ZSBwbGF5ZXJTY29yZTogUGxheWVyU2NvcmU7XG4gIHByaXZhdGUgc3BlY2lhbENvbmRpdGlvbnNTY29yZTogU3BlY2lhbENvbmRpdGlvbnNTY29yZTtcbiAgcHJpdmF0ZSBhY3RpdmVTY29yZTogQWN0aXZlU2NvcmU7XG4gIHByaXZhdGUgYmVuY2hTY29yZTogQmVuY2hTY29yZTtcbiAgcHJpdmF0ZSBlbmVyZ3lTY29yZTogRW5lcmd5U2NvcmU7XG4gIHByaXZhdGUgZGFtYWdlU2NvcmU6IERhbWFnZVNjb3JlO1xuICBwcml2YXRlIHRvb2xzU2NvcmU6IFRvb2xzU2NvcmU7XG5cbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIG9wdGlvbnM6IFNpbXBsZUJvdE9wdGlvbnMpIHtcbiAgICBzdXBlcihvcHRpb25zKTtcbiAgICB0aGlzLmhhbmRTY29yZSA9IG5ldyBIYW5kU2NvcmUob3B0aW9ucyk7XG4gICAgdGhpcy5vcHBvbmVudFNjb3JlID0gbmV3IE9wcG9uZW50U2NvcmUob3B0aW9ucyk7XG4gICAgdGhpcy5wbGF5ZXJTY29yZSA9IG5ldyBQbGF5ZXJTY29yZShvcHRpb25zKTtcbiAgICB0aGlzLnNwZWNpYWxDb25kaXRpb25zU2NvcmUgPSBuZXcgU3BlY2lhbENvbmRpdGlvbnNTY29yZShvcHRpb25zKTtcbiAgICB0aGlzLmFjdGl2ZVNjb3JlID0gbmV3IEFjdGl2ZVNjb3JlKG9wdGlvbnMpO1xuICAgIHRoaXMuYmVuY2hTY29yZSA9IG5ldyBCZW5jaFNjb3JlKG9wdGlvbnMpO1xuICAgIHRoaXMuZW5lcmd5U2NvcmUgPSBuZXcgRW5lcmd5U2NvcmUob3B0aW9ucyk7XG4gICAgdGhpcy5kYW1hZ2VTY29yZSA9IG5ldyBEYW1hZ2VTY29yZShvcHRpb25zKTtcbiAgICB0aGlzLnRvb2xzU2NvcmUgPSBuZXcgVG9vbHNTY29yZShvcHRpb25zKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRTY29yZShzdGF0ZTogU3RhdGUsIHBsYXllcklkOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IGhhbmRTY29yZSA9IHRoaXMuaGFuZFNjb3JlLmdldFNjb3JlKHN0YXRlLCBwbGF5ZXJJZCk7XG4gICAgY29uc3Qgb3Bwb25lbnRTY29yZSA9IHRoaXMub3Bwb25lbnRTY29yZS5nZXRTY29yZShzdGF0ZSwgcGxheWVySWQpO1xuICAgIGNvbnN0IHBsYXllclNjb3JlID0gdGhpcy5wbGF5ZXJTY29yZS5nZXRTY29yZShzdGF0ZSwgcGxheWVySWQpO1xuICAgIGNvbnN0IHNwZWNpYWxDb25kaXRpb25zU2NvcmUgPSB0aGlzLnNwZWNpYWxDb25kaXRpb25zU2NvcmUuZ2V0U2NvcmUoc3RhdGUsIHBsYXllcklkKTtcbiAgICBjb25zdCBhY3RpdmVTY29yZSA9IHRoaXMuYWN0aXZlU2NvcmUuZ2V0U2NvcmUoc3RhdGUsIHBsYXllcklkKTtcbiAgICBjb25zdCBiZW5jaFNjb3JlID0gdGhpcy5iZW5jaFNjb3JlLmdldFNjb3JlKHN0YXRlLCBwbGF5ZXJJZCk7XG4gICAgY29uc3QgZW5lcmd5U2NvcmUgPSB0aGlzLmVuZXJneVNjb3JlLmdldFNjb3JlKHN0YXRlLCBwbGF5ZXJJZCk7XG4gICAgY29uc3QgZGFtYWdlU2NvcmUgPSB0aGlzLmRhbWFnZVNjb3JlLmdldFNjb3JlKHN0YXRlLCBwbGF5ZXJJZCk7XG4gICAgY29uc3QgdG9vbHNTY29yZSA9IHRoaXMudG9vbHNTY29yZS5nZXRTY29yZShzdGF0ZSwgcGxheWVySWQpO1xuXG4gICAgY29uc3Qgc2NvcmUgPSBoYW5kU2NvcmVcbiAgICAgICsgb3Bwb25lbnRTY29yZVxuICAgICAgKyBwbGF5ZXJTY29yZVxuICAgICAgKyBzcGVjaWFsQ29uZGl0aW9uc1Njb3JlXG4gICAgICArIGFjdGl2ZVNjb3JlXG4gICAgICArIGJlbmNoU2NvcmVcbiAgICAgICsgZW5lcmd5U2NvcmVcbiAgICAgICsgZGFtYWdlU2NvcmVcbiAgICAgICsgdG9vbHNTY29yZTtcblxuICAgIHJldHVybiBzY29yZTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDYXJkU2NvcmUoc3RhdGU6IFN0YXRlLCBwbGF5ZXJJZDogbnVtYmVyLCBjYXJkOiBDYXJkKTogbnVtYmVyIHtcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLmdldFBsYXllcihzdGF0ZSwgcGxheWVySWQpO1xuICAgIGNvbnN0IGluZGV4ID0gcGxheWVyLmhhbmQuY2FyZHMuZmluZEluZGV4KGMgPT4gYy5pZCA9PT0gY2FyZC5pZCk7XG5cbiAgICBjb25zdCBiYXNlU2NvcmUgPSB0aGlzLmhhbmRTY29yZS5nZXRTY29yZShzdGF0ZSwgcGxheWVySWQpO1xuICAgIGxldCBhZnRlclNjb3JlID0gYmFzZVNjb3JlO1xuXG4gICAgLy8gQ2FyZCBpcyBub3QgaW4gdGhlIGhhbmQsIHdoYXQgaWYgd2UgaGF2ZSBpdD9cbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICBwbGF5ZXIuaGFuZC5jYXJkcy5wdXNoKGNhcmQpO1xuICAgICAgYWZ0ZXJTY29yZSA9IHRoaXMuaGFuZFNjb3JlLmdldFNjb3JlKHN0YXRlLCBwbGF5ZXJJZCk7XG4gICAgICBwbGF5ZXIuaGFuZC5jYXJkcy5wb3AoKTtcbiAgICAvLyBDYXJkIGlzIGluIG91ciBoYW5kLCB3aGF0IGlmIHdlIGxvc2VzIGl0P1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjID0gcGxheWVyLmhhbmQuY2FyZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIGFmdGVyU2NvcmUgPSB0aGlzLmhhbmRTY29yZS5nZXRTY29yZShzdGF0ZSwgcGxheWVySWQpO1xuICAgICAgcGxheWVyLmhhbmQuY2FyZHMuc3BsaWNlKGluZGV4LCAwLCBjWzBdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWZ0ZXJTY29yZSAtIGJhc2VTY29yZTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRQb2tlbW9uU2NvcmUoY2FyZExpc3Q6IFBva2Vtb25DYXJkTGlzdCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UG9rZW1vblNjb3JlQnkodGhpcy5vcHRpb25zLnNjb3Jlcy5hY3RpdmUsIGNhcmRMaXN0KTtcbiAgfVxuXG59XG4iXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2VteWVyc2NvdWdoL0RvY3VtZW50cy9HaXRIdWIvcHRjZy1lcHNkL3B0Y2ctc2VydmVyL3NyYy9zaW1wbGUtYm90L3N0YXRlLXNjb3JlL3N0YXRlLXNjb3JlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJxM1ZBMEJJOzBOQXpCSixLQUFBLENBQUEsT0FBQSx5QkFBQSxPQUFBLENBQUEsU0FBQSxDQUFBLENBQUEsQ0FFQSxLQUFBLENBQUEsWUFBQSx5QkFBQSxPQUFBLENBQUEsY0FBQSxDQUFBLENBQUEsQ0FDQSxLQUFBLENBQUEsZ0JBQUEseUJBQUEsT0FBQSxDQUFBLGtCQUFBLENBQUEsQ0FBQSxDQUNBLEtBQUEsQ0FBQSxjQUFBLHlCQUFBLE9BQUEsQ0FBQSxnQkFBQSxDQUFBLENBQUEsQ0FDQSxLQUFBLENBQUEsMEJBQUEseUJBQUEsT0FBQSxDQUFBLDRCQUFBLENBQUEsQ0FBQSxDQUNBLEtBQUEsQ0FBQSxjQUFBLHlCQUFBLE9BQUEsQ0FBQSxnQkFBQSxDQUFBLENBQUEsQ0FDQSxLQUFBLENBQUEsYUFBQSx5QkFBQSxPQUFBLENBQUEsZUFBQSxDQUFBLENBQUEsQ0FDQSxLQUFBLENBQUEsY0FBQSx5QkFBQSxPQUFBLENBQUEsZ0JBQUEsQ0FBQSxDQUFBLENBQ0EsS0FBQSxDQUFBLGNBQUEsMEJBQUEsT0FBQSxDQUFBLGdCQUFBLENBQUEsQ0FBQSxDQUNBLEtBQUEsQ0FBQSxhQUFBLDBCQUFBLE9BQUEsQ0FBQSxlQUFBLENBQUEsQ0FBQSxDQUVBLEtBQWEsQ0FBQSxVQUFiLFNBQWdDLE9BQUEsQ0FBQSxXQUFoQyxDQUEyQyxDQVl6QyxXQUFBLENBQXNCLE9BQXRCLENBQStDLGdEQUM3QyxNQUFNLE9BQU4sRUFENkMsd0JBQXpCLEtBQUEsT0FBQSxDQUFBLE9BQUEsQ0FBeUIsd0JBRTdDLEtBQUssU0FBTCxDQUFpQixHQUFJLENBQUEsWUFBQSxDQUFBLFNBQUosQ0FBYyxPQUFkLENBQWpCLENBRjZDLHdCQUc3QyxLQUFLLGFBQUws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LFFBQWYsQ0FBd0IsS0FBeEIsQ0FBK0IsUUFBL0IsQ0FBSCxDQUFmLENBQ0EsR0FBSSxDQUFBLFVBQVUsMEJBQUcsU0FBSCxDQUFkLENBRUE7QUFQNEQsd0JBUTVELEdBQUksS0FBSyxHQUFLLENBQUMsQ0FBZixDQUFrQixtREFDaEIsTUFBTSxDQUFDLElBQVAsQ0FBWSxLQUFaLENBQWtCLElBQWxCLENBQXVCLElBQXZCLEVBRGdCLHdCQUVoQixVQUFVLENBQUcsS0FBSyxTQUFMLENBQWUsUUFBZixDQUF3QixLQUF4QixDQUErQixRQUEvQixDQUFiLENBRmdCLHdCQUdoQixNQUFNLENBQUMsSUFBUCxDQUFZLEtBQVosQ0FBa0IsR0FBbEIsR0FDRjtBQUNDLENBTEQsSUFLTywyQkFDTCxLQUFNLENBQUEsQ0FBQywwQkFBRyxNQUFNLENBQUMsSUFBUCxDQUFZLEtBQVosQ0FBa0IsTUFBbEIsQ0FBeUIsS0FBekIsQ0FBZ0MsQ0FBaEMsQ0FBSCxDQUFQLENBREssd0JBRUwsVUFBVSxDQUFHLEtBQUssU0FBTCxDQUFlLFFBQWYsQ0FBd0IsS0FBeEIsQ0FBK0IsUUFBL0IsQ0FBYixDQUZLLHdCQUdMLE1BQU0sQ0FBQyxJQUFQLENBQVksS0FBWixDQUFrQixNQUFsQixDQUF5QixLQUF6QixDQUFnQyxDQUFoQyxDQUFtQyxDQUFDLENBQUMsQ0FBRCxDQUFwQyxFQUNELENBakIyRCx3QkFtQjVELE1BQU8sQ0FBQSxVQUFVLENBQUcsU0FBcEIsQ0FDRCxDQUVNLGVBQWUsQ0FBQyxRQUFELENBQTBCLGdEQUM5QyxNQUFPLE1BQUssaUJBQUwsQ0FBdUIsS0FBSyxPQUFMLENBQWEsTUFBYixDQUFvQixNQUEzQyxDQUFtRCxRQUFuRCxDQUFQLENBQ0QsQ0F6RXdDLEMsd0JBQTNDLE9BQUEsQ0FBQSxVQUFBLENBQUEsVUFBQSxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3RhdGUsIFBva2Vtb25DYXJkTGlzdCwgQ2FyZCB9IGZyb20gJy4uLy4uL2dhbWUnO1xuaW1wb3J0IHsgU2ltcGxlU2NvcmUgfSBmcm9tICcuL3Njb3JlJztcbmltcG9ydCB7IFNpbXBsZUJvdE9wdGlvbnMgfSBmcm9tICcuLi9zaW1wbGUtYm90LW9wdGlvbnMnO1xuaW1wb3J0IHsgSGFuZFNjb3JlIH0gZnJvbSAnLi9oYW5kLXNjb3JlJztcbmltcG9ydCB7IE9wcG9uZW50U2NvcmUgfSBmcm9tICcuL29wcG9uZW50LXNjb3JlJztcbmltcG9ydCB7IFBsYXllclNjb3JlIH0gZnJvbSAnLi9wbGF5ZXItc2NvcmUnO1xuaW1wb3J0IHsgU3BlY2lhbENvbmRpdGlvbnNTY29yZSB9IGZyb20gJy4vc3BlY2lhbC1jb25kaXRpb25zLXNjb3JlJztcbmltcG9ydCB7IEFjdGl2ZVNjb3JlIH0gZnJvbSAnLi9hY3RpdmUtc2NvcmUnO1xuaW1wb3J0IHsgQmVuY2hTY29yZSB9IGZyb20gJy4vYmVuY2gtc2NvcmUnO1xuaW1wb3J0IHsgRW5lcmd5U2NvcmUgfSBmcm9tICcuL2VuZXJneS1zY29yZSc7XG5pbXBvcnQgeyBEYW1hZ2VTY29yZSB9IGZyb20gJy4vZGFtYWdlLXNjb3JlJztcbmltcG9ydCB7IFRvb2xzU2NvcmUgfSBmcm9tICcuL3Rvb2xzLXNjb3JlJztcblxuZXhwb3J0IGNsYXNzIFN0YXRlU2NvcmUgZXh0ZW5kcyBTaW1wbGVTY29yZSB7XG5cbiAgcHJpdmF0ZSBoYW5kU2NvcmU6IEhhbmRTY29yZTtcbiAgcHJpdmF0ZSBvcHBvbmVudFNjb3JlOiBPcHBvbmVudFNjb3JlO1xuICBwcml2YXRlIHBsYXllclNjb3JlOiBQbGF5ZXJTY29yZTtcbiAgcHJpdmF0ZSBzcGVjaWFsQ29uZGl0aW9uc1Njb3JlOiBTcGVjaWFsQ29uZGl0aW9uc1Njb3JlO1xuICBwcml2YXRlIGFjdGl2ZVNjb3JlOiBBY3RpdmVTY29yZTtcbiAgcHJpdmF0ZSBiZW5jaFNjb3JlOiBCZW5jaFNjb3JlO1xuICBwcml2YXRlIGVuZXJneVNjb3JlOiBFbmVyZ3lTY29yZTtcbiAgcHJpdmF0ZSBkYW1hZ2VTY29yZTogRGFtYWdlU2NvcmU7XG4gIHByaXZhdGUgdG9vbHNTY29yZTogVG9vbHNTY29yZTtcblxuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgb3B0aW9uczogU2ltcGxlQm90T3B0aW9ucykge1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgIHRoaXMuaGFuZFNjb3JlID0gbmV3IEhhbmRTY29yZShvcHRpb25zKTtcbiAgICB0aGlzLm9wcG9uZW50U2NvcmUgPSBuZXcgT3Bwb25lbnRTY29yZShvcHRpb25zKTtcbiAgICB0aGlzLnBsYXllclNjb3JlID0gbmV3IFBsYXllclNjb3JlKG9wdGlvbnMpO1xuICAgIHRoaXMuc3BlY2lhbENvbmRpdGlvbnNTY29yZSA9IG5ldyBTcGVjaWFsQ29uZGl0aW9uc1Njb3JlKG9wdGlvbnMpO1xuICAgIHRoaXMuYWN0aXZlU2NvcmUgPSBuZXcgQWN0aXZlU2NvcmUob3B0aW9ucyk7XG4gICAgdGhpcy5iZW5jaFNjb3JlID0gbmV3IEJlbmNoU2NvcmUob3B0aW9ucyk7XG4gICAgdGhpcy5lbmVyZ3lTY29yZSA9IG5ldyBFbmVyZ3lTY29yZShvcHRpb25zKTtcbiAgICB0aGlzLmRhbWFnZVNjb3JlID0gbmV3IERhbWFnZVNjb3JlKG9wdGlvbnMpO1xuICAgIHRoaXMudG9vbHNTY29yZSA9IG5ldyBUb29sc1Njb3JlKG9wdGlvbnMpO1xuICB9XG5cbiAgcHVibGljIGdldFNjb3JlKHN0YXRlOiBTdGF0ZSwgcGxheWVySWQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3QgaGFuZFNjb3JlID0gdGhpcy5oYW5kU2NvcmUuZ2V0U2NvcmUoc3RhdGUsIHBsYXllcklkKTtcbiAgICBjb25zdCBvcHBvbmVudFNjb3JlID0gdGhpcy5vcHBvbmVudFNjb3JlLmdldFNjb3JlKHN0YXRlLCBwbGF5ZXJJZCk7XG4gICAgY29uc3QgcGxheWVyU2NvcmUgPSB0aGlzLnBsYXllclNjb3JlLmdldFNjb3JlKHN0YXRlLCBwbGF5ZXJJZCk7XG4gICAgY29uc3Qgc3BlY2lhbENvbmRpdGlvbnNTY29yZSA9IHRoaXMuc3BlY2lhbENvbmRpdGlvbnNTY29yZS5nZXRTY29yZShzdGF0ZSwgcGxheWVySWQpO1xuICAgIGNvbnN0IGFjdGl2ZVNjb3JlID0gdGhpcy5hY3RpdmVTY29yZS5nZXRTY29yZShzdGF0ZSwgcGxheWVySWQpO1xuICAgIGNvbnN0IGJlbmNoU2NvcmUgPSB0aGlzLmJlbmNoU2NvcmUuZ2V0U2NvcmUoc3RhdGUsIHBsYXllcklkKTtcbiAgICBjb25zdCBlbmVyZ3lTY29yZSA9IHRoaXMuZW5lcmd5U2NvcmUuZ2V0U2NvcmUoc3RhdGUsIHBsYXllcklkKTtcbiAgICBjb25zdCBkYW1hZ2VTY29yZSA9IHRoaXMuZGFtYWdlU2NvcmUuZ2V0U2NvcmUoc3RhdGUsIHBsYXllcklkKTtcbiAgICBjb25zdCB0b29sc1Njb3JlID0gdGhpcy50b29sc1Njb3JlLmdldFNjb3JlKHN0YXRlLCBwbGF5ZXJJZCk7XG5cbiAgICBjb25zdCBzY29yZSA9IGhhbmRTY29yZVxuICAgICAgKyBvcHBvbmVudFNjb3JlXG4gICAgICArIHBsYXllclNjb3JlXG4gICAgICArIHNwZWNpYWxDb25kaXRpb25zU2NvcmVcbiAgICAgICsgYWN0aXZlU2NvcmVcbiAgICAgICsgYmVuY2hTY29yZVxuICAgICAgKyBlbmVyZ3lTY29yZVxuICAgICAgKyBkYW1hZ2VTY29yZVxuICAgICAgKyB0b29sc1Njb3JlO1xuXG4gICAgcmV0dXJuIHNjb3JlO1xuICB9XG5cbiAgcHVibGljIGdldENhcmRTY29yZShzdGF0ZTogU3RhdGUsIHBsYXllcklkOiBudW1iZXIsIGNhcmQ6IENhcmQpOiBudW1iZXIge1xuICAgIGNvbnN0IHBsYXllciA9IHRoaXMuZ2V0UGxheWVyKHN0YXRlLCBwbGF5ZXJJZCk7XG4gICAgY29uc3QgaW5kZXggPSBwbGF5ZXIuaGFuZC5jYXJkcy5maW5kSW5kZXgoYyA9PiBjLmlkID09PSBjYXJkLmlkKTtcblxuICAgIGNvbnN0IGJhc2VTY29yZSA9IHRoaXMuaGFuZFNjb3JlLmdldFNjb3JlKHN0YXRlLCBwbGF5ZXJJZCk7XG4gICAgbGV0IGFmdGVyU2NvcmUgPSBiYXNlU2NvcmU7XG5cbiAgICAvLyBDYXJkIGlzIG5vdCBpbiB0aGUgaGFuZCwgd2hhdCBpZiB3ZSBoYXZlIGl0P1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIHBsYXllci5oYW5kLmNhcmRzLnB1c2goY2FyZCk7XG4gICAgICBhZnRlclNjb3JlID0gdGhpcy5oYW5kU2NvcmUuZ2V0U2NvcmUoc3RhdGUsIHBsYXllcklkKTtcbiAgICAgIHBsYXllci5oYW5kLmNhcmRzLnBvcCgpO1xuICAgIC8vIENhcmQgaXMgaW4gb3VyIGhhbmQsIHdoYXQgaWYgd2UgbG9zZXMgaXQ/XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGMgPSBwbGF5ZXIuaGFuZC5jYXJkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgYWZ0ZXJTY29yZSA9IHRoaXMuaGFuZFNjb3JlLmdldFNjb3JlKHN0YXRlLCBwbGF5ZXJJZCk7XG4gICAgICBwbGF5ZXIuaGFuZC5jYXJkcy5zcGxpY2UoaW5kZXgsIDAsIGNbMF0pO1xuICAgIH1cblxuICAgIHJldHVybiBhZnRlclNjb3JlIC0gYmFzZVNjb3JlO1xuICB9XG5cbiAgcHVibGljIGdldFBva2Vtb25TY29yZShjYXJkTGlzdDogUG9rZW1vbkNhcmRMaXN0KTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5nZXRQb2tlbW9uU2NvcmVCeSh0aGlzLm9wdGlvbnMuc2NvcmVzLmFjdGl2ZSwgY2FyZExpc3QpO1xuICB9XG5cbn1cbiJdfQ==