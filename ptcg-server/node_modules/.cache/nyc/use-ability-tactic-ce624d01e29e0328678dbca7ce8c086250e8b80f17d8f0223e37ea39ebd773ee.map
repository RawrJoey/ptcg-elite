{"version":3,"file":"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/simple-tactics/use-ability-tactic.ts","sources":["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/simple-tactics/use-ability-tactic.ts"],"names":[],"mappings":";;;AAAA,qCAAiF;AACjF,qDAAgD;AAEhD,MAAa,gBAAiB,SAAQ,6BAAY;IAEzC,SAAS,CAAC,KAAY,EAAE,MAAc;QAC3C,IAAI,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC;QACrD,IAAI,gBAA8C,CAAC;QACnD,MAAM,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;QAE3D,MAAM,CAAC,cAAc,CAAC,iBAAU,CAAC,aAAa,EAAE,CAAC,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE;YACzE,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,MAAM,EAAE;gBAC/B,IAAI,KAAK,CAAC,aAAa,EAAE;oBACvB,MAAM,MAAM,GAAG,IAAI,uBAAgB,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;oBACnE,MAAM,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE,EAAE,MAAM,EAAE,aAAa,CAAC,CAAC;oBAE3E,IAAI,KAAK,KAAK,SAAS,IAAI,SAAS,GAAG,KAAK,EAAE;wBAC5C,SAAS,GAAG,KAAK,CAAC;wBAClB,gBAAgB,GAAG,MAAM,CAAC;qBAC3B;iBACF;aACF;QACH,CAAC,CAAC,CAAC;QAEH,OAAO,gBAAgB,CAAC;IAC1B,CAAC;CAEF;AAxBD,4CAwBC","sourcesContent":["import { Action, Player, State, UseAbilityAction, PlayerType } from '../../game';\nimport { SimpleTactic } from './simple-tactics';\n\nexport class UseAbilityTactic extends SimpleTactic {\n\n  public useTactic(state: State, player: Player): Action | undefined {\n    let bestScore = this.getStateScore(state, player.id);\n    let useAbilityAction: UseAbilityAction | undefined;\n    const passTurnScore = this.options.scores.tactics.passTurn;\n\n    player.forEachPokemon(PlayerType.BOTTOM_PLAYER, (cardList, card, target) => {\n      for (const power of card.powers) {\n        if (power.useWhenInPlay) {\n          const action = new UseAbilityAction(player.id, power.name, target);\n          const score = this.evaluateAction(state, player.id, action, passTurnScore);\n\n          if (score !== undefined && bestScore < score) {\n            bestScore = score;\n            useAbilityAction = action;\n          }\n        }\n      }\n    });\n\n    return useAbilityAction;\n  }\n\n}\n"]}