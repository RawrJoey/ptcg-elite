{"version":3,"file":"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/effect-reducers/play-energy-effect.ts","sources":["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/effect-reducers/play-energy-effect.ts"],"names":[],"mappings":";;;AAAA,oEAAkE;AAClE,iDAA6C;AAC7C,qDAA0D;AAM1D,SAAgB,iBAAiB,CAAC,KAAgB,EAAE,KAAY,EAAE,MAAc;IAG9E,sBAAsB;IACtB,IAAI,MAAM,YAAY,sCAAkB,EAAE;QACxC,MAAM,WAAW,GAAG,MAAM,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC;QACnD,IAAI,WAAW,KAAK,SAAS,EAAE;YAC7B,MAAM,IAAI,sBAAS,CAAC,0BAAW,CAAC,cAAc,CAAC,CAAC;SACjD;QAED,KAAK,CAAC,GAAG,CAAC,KAAK,EAAE,sBAAO,CAAC,wBAAwB,EAAE;YACjD,IAAI,EAAE,MAAM,CAAC,MAAM,CAAC,IAAI;YACxB,IAAI,EAAE,MAAM,CAAC,UAAU,CAAC,IAAI;YAC5B,OAAO,EAAE,WAAW,CAAC,IAAI;SAC1B,CAAC,CAAC;QACH,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,UAAU,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QAChE,OAAO,KAAK,CAAC;KACd;IAED,OAAO,KAAK,CAAC;AACf,CAAC;AApBD,8CAoBC","sourcesContent":["import { AttachEnergyEffect } from '../effects/play-card-effects';\nimport { GameError } from '../../game-error';\nimport { GameMessage, GameLog } from '../../game-message';\nimport { Effect } from '../effects/effect';\nimport { State } from '../state/state';\nimport { StoreLike } from '../store-like';\n\n\nexport function playEnergyReducer(store: StoreLike, state: State, effect: Effect): State {\n\n\n  /* Play energy card */\n  if (effect instanceof AttachEnergyEffect) {\n    const pokemonCard = effect.target.getPokemonCard();\n    if (pokemonCard === undefined) {\n      throw new GameError(GameMessage.INVALID_TARGET);\n    }\n\n    store.log(state, GameLog.LOG_PLAYER_ATTACHES_CARD, {\n      name: effect.player.name,\n      card: effect.energyCard.name,\n      pokemon: pokemonCard.name\n    });\n    effect.player.hand.moveCardTo(effect.energyCard, effect.target);\n    return state;\n  }\n\n  return state;\n}\n\n"]}