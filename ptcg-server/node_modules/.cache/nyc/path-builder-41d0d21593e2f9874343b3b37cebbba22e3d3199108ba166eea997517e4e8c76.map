{"version":3,"file":"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/serializer/path-builder.ts","sources":["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/serializer/path-builder.ts"],"names":[],"mappings":";;;AACA,MAAa,WAAW;IAAxB;QAEE,YAAO,GAAiC,EAAE,CAAC;IA8B7C,CAAC;IA5BQ,IAAI,CAAC,IAAS,EAAE,GAAW;QAChC,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC;QACjE,IAAI,WAAW,KAAK,CAAC,CAAC,EAAE;YACtB,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,WAAW,CAAC;SACnC;QACD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC;IACnC,CAAC;IAEM,OAAO;QACZ,MAAM,KAAK,GAAa,IAAI,CAAC,OAAO;aACjC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;aACf,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACxB,OAAO,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACzB,CAAC;IAEM,QAAQ,CAAC,IAAS,EAAE,IAAY;QACrC,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAC9B,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI;YACF,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;gBACxB,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;aACrB;SACF;QAAC,OAAO,KAAK,EAAE;YACd,OAAO;SACR;QACD,OAAO,KAAK,CAAC;IACf,CAAC;CAEF;AAhCD,kCAgCC","sourcesContent":["\nexport class PathBuilder {\n\n  parents: { node: any, key: string }[] = [];\n\n  public goTo(node: any, key: string) {\n    const parentIndex = this.parents.findIndex(p => p.node === node);\n    if (parentIndex !== -1) {\n      this.parents.length = parentIndex;\n    }\n    this.parents.push({ node, key });\n  }\n\n  public getPath(): string {\n    const parts: string[] = this.parents\n      .map(p => p.key)\n      .filter(key => !!key);\n    return parts.join('.');\n  }\n\n  public getValue(root: any, path: string): any {\n    const parts = path.split('.');\n    let value = root;\n    try {\n      for (const part of parts) {\n        value = value[part];\n      }\n    } catch (error) {\n      return;\n    }\n    return value;\n  }\n\n}\n"]}