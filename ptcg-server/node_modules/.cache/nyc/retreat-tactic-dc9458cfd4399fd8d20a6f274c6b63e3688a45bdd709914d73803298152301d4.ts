"use strict";function cov_1py5kxqxho(){var path="/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/simple-tactics/retreat-tactic.ts";var hash="3941f7aa271b7be4ad7e5a86e5484e9076eb3daa";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/simple-tactics/retreat-tactic.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:31}},"2":{start:{line:4,column:15},end:{line:4,column:36}},"3":{start:{line:5,column:25},end:{line:5,column:52}},"4":{start:{line:8,column:8},end:{line:10,column:9}},"5":{start:{line:9,column:12},end:{line:9,column:19}},"6":{start:{line:11,column:24},end:{line:11,column:60}},"7":{start:{line:13,column:8},end:{line:23,column:11}},"8":{start:{line:14,column:12},end:{line:16,column:13}},"9":{start:{line:15,column:16},end:{line:15,column:23}},"10":{start:{line:17,column:27},end:{line:17,column:69}},"11":{start:{line:18,column:26},end:{line:18,column:71}},"12":{start:{line:19,column:12},end:{line:22,column:13}},"13":{start:{line:20,column:16},end:{line:20,column:34}},"14":{start:{line:21,column:16},end:{line:21,column:39}},"15":{start:{line:24,column:8},end:{line:24,column:29}},"16":{start:{line:27,column:0},end:{line:27,column:38}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:29},end:{line:25,column:5}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:13,column:29},end:{line:13,column:30}},loc:{start:{line:13,column:47},end:{line:23,column:9}},line:13}},branchMap:{"0":{loc:{start:{line:8,column:8},end:{line:10,column:9}},type:"if",locations:[{start:{line:8,column:8},end:{line:10,column:9}},{start:{line:8,column:8},end:{line:10,column:9}}],line:8},"1":{loc:{start:{line:14,column:12},end:{line:16,column:13}},type:"if",locations:[{start:{line:14,column:12},end:{line:16,column:13}},{start:{line:14,column:12},end:{line:16,column:13}}],line:14},"2":{loc:{start:{line:19,column:12},end:{line:22,column:13}},type:"if",locations:[{start:{line:19,column:12},end:{line:22,column:13}},{start:{line:19,column:12},end:{line:22,column:13}}],line:19},"3":{loc:{start:{line:19,column:16},end:{line:19,column:56}},type:"binary-expr",locations:[{start:{line:19,column:16},end:{line:19,column:35}},{start:{line:19,column:39},end:{line:19,column:56}}],line:19}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},inputSourceMap:{version:3,file:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/simple-tactics/retreat-tactic.ts",sources:["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/simple-tactics/retreat-tactic.ts"],names:[],mappings:";;;AAAA,qCAAkE;AAClE,qDAAgD;AAEhD,MAAa,aAAc,SAAQ,6BAAY;IAEtC,SAAS,CAAC,KAAY,EAAE,MAAc;QAE3C,IAAI,MAAM,CAAC,aAAa,KAAK,KAAK,CAAC,IAAI,EAAE;YACvC,OAAO;SACR;QAED,IAAI,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC;QACrD,IAAI,aAAwC,CAAC;QAC7C,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE;YACpC,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;gBAC5B,OAAO;aACR;YAED,MAAM,MAAM,GAAG,IAAI,oBAAa,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;YACnD,MAAM,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;YAE5D,IAAI,KAAK,KAAK,SAAS,IAAI,SAAS,GAAG,KAAK,EAAE;gBAC5C,SAAS,GAAG,KAAK,CAAC;gBAClB,aAAa,GAAG,MAAM,CAAC;aACxB;QACH,CAAC,CAAC,CAAC;QAEH,OAAO,aAAa,CAAC;IACvB,CAAC;CAEF;AA3BD,sCA2BC",sourcesContent:["import { Action, Player, State, RetreatAction } from '../../game';\nimport { SimpleTactic } from './simple-tactics';\n\nexport class RetreatTactic extends SimpleTactic {\n\n  public useTactic(state: State, player: Player): Action | undefined {\n\n    if (player.retreatedTurn === state.turn) {\n      return;\n    }\n\n    let bestScore = this.getStateScore(state, player.id);\n    let retreatAction: RetreatAction | undefined;\n    player.bench.forEach((bench, index) => {\n      if (bench.cards.length === 0) {\n        return;\n      }\n\n      const action = new RetreatAction(player.id, index);\n      const score = this.evaluateAction(state, player.id, action);\n\n      if (score !== undefined && bestScore < score) {\n        bestScore = score;\n        retreatAction = action;\n      }\n    });\n\n    return retreatAction;\n  }\n\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3941f7aa271b7be4ad7e5a86e5484e9076eb3daa"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1py5kxqxho=function(){return actualCoverage;};}return actualCoverage;}cov_1py5kxqxho();cov_1py5kxqxho().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_1py5kxqxho().s[1]++;exports.RetreatTactic=void 0;const game_1=(cov_1py5kxqxho().s[2]++,require("../../game"));const simple_tactics_1=(cov_1py5kxqxho().s[3]++,require("./simple-tactics"));class RetreatTactic extends(simple_tactics_1.SimpleTactic){useTactic(state,player){cov_1py5kxqxho().f[0]++;cov_1py5kxqxho().s[4]++;if(player.retreatedTurn===state.turn){cov_1py5kxqxho().b[0][0]++;cov_1py5kxqxho().s[5]++;return;}else{cov_1py5kxqxho().b[0][1]++;}let bestScore=(cov_1py5kxqxho().s[6]++,this.getStateScore(state,player.id));let retreatAction;cov_1py5kxqxho().s[7]++;player.bench.forEach((bench,index)=>{cov_1py5kxqxho().f[1]++;cov_1py5kxqxho().s[8]++;if(bench.cards.length===0){cov_1py5kxqxho().b[1][0]++;cov_1py5kxqxho().s[9]++;return;}else{cov_1py5kxqxho().b[1][1]++;}const action=(cov_1py5kxqxho().s[10]++,new game_1.RetreatAction(player.id,index));const score=(cov_1py5kxqxho().s[11]++,this.evaluateAction(state,player.id,action));cov_1py5kxqxho().s[12]++;if((cov_1py5kxqxho().b[3][0]++,score!==undefined)&&(cov_1py5kxqxho().b[3][1]++,bestScore<score)){cov_1py5kxqxho().b[2][0]++;cov_1py5kxqxho().s[13]++;bestScore=score;cov_1py5kxqxho().s[14]++;retreatAction=action;}else{cov_1py5kxqxho().b[2][1]++;}});cov_1py5kxqxho().s[15]++;return retreatAction;}}cov_1py5kxqxho().s[16]++;exports.RetreatTactic=RetreatTactic;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2pvZW15ZXJzY291Z2gvRG9jdW1lbnRzL0dpdEh1Yi9wdGNnLWVwc2QvcHRjZy1zZXJ2ZXIvc3JjL3NpbXBsZS1ib3Qvc2ltcGxlLXRhY3RpY3MvcmV0cmVhdC10YWN0aWMudHMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2VteWVyc2NvdWdoL0RvY3VtZW50cy9HaXRIdWIvcHRjZy1lcHNkL3B0Y2ctc2VydmVyL3NyYy9zaW1wbGUtYm90L3NpbXBsZS10YWN0aWNzL3JldHJlYXQtdGFjdGljLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLHFDQUFrRTtBQUNsRSxxREFBZ0Q7QUFFaEQsTUFBYSxhQUFjLFNBQVEsNkJBQVk7SUFFdEMsU0FBUyxDQUFDLEtBQVksRUFBRSxNQUFjO1FBRTNDLElBQUksTUFBTSxDQUFDLGFBQWEsS0FBSyxLQUFLLENBQUMsSUFBSSxFQUFFO1lBQ3ZDLE9BQU87U0FDUjtRQUVELElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNyRCxJQUFJLGFBQXdDLENBQUM7UUFDN0MsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEVBQUU7WUFDcEMsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7Z0JBQzVCLE9BQU87YUFDUjtZQUVELE1BQU0sTUFBTSxHQUFHLElBQUksb0JBQWEsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQ25ELE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFFNUQsSUFBSSxLQUFLLEtBQUssU0FBUyxJQUFJLFNBQVMsR0FBRyxLQUFLLEVBQUU7Z0JBQzVDLFNBQVMsR0FBRyxLQUFLLENBQUM7Z0JBQ2xCLGFBQWEsR0FBRyxNQUFNLENBQUM7YUFDeEI7UUFDSCxDQUFDLENBQUMsQ0FBQztRQUVILE9BQU8sYUFBYSxDQUFDO0lBQ3ZCLENBQUM7Q0FFRjtBQTNCRCxzQ0EyQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3Rpb24sIFBsYXllciwgU3RhdGUsIFJldHJlYXRBY3Rpb24gfSBmcm9tICcuLi8uLi9nYW1lJztcbmltcG9ydCB7IFNpbXBsZVRhY3RpYyB9IGZyb20gJy4vc2ltcGxlLXRhY3RpY3MnO1xuXG5leHBvcnQgY2xhc3MgUmV0cmVhdFRhY3RpYyBleHRlbmRzIFNpbXBsZVRhY3RpYyB7XG5cbiAgcHVibGljIHVzZVRhY3RpYyhzdGF0ZTogU3RhdGUsIHBsYXllcjogUGxheWVyKTogQWN0aW9uIHwgdW5kZWZpbmVkIHtcblxuICAgIGlmIChwbGF5ZXIucmV0cmVhdGVkVHVybiA9PT0gc3RhdGUudHVybikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBiZXN0U2NvcmUgPSB0aGlzLmdldFN0YXRlU2NvcmUoc3RhdGUsIHBsYXllci5pZCk7XG4gICAgbGV0IHJldHJlYXRBY3Rpb246IFJldHJlYXRBY3Rpb24gfCB1bmRlZmluZWQ7XG4gICAgcGxheWVyLmJlbmNoLmZvckVhY2goKGJlbmNoLCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGJlbmNoLmNhcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFjdGlvbiA9IG5ldyBSZXRyZWF0QWN0aW9uKHBsYXllci5pZCwgaW5kZXgpO1xuICAgICAgY29uc3Qgc2NvcmUgPSB0aGlzLmV2YWx1YXRlQWN0aW9uKHN0YXRlLCBwbGF5ZXIuaWQsIGFjdGlvbik7XG5cbiAgICAgIGlmIChzY29yZSAhPT0gdW5kZWZpbmVkICYmIGJlc3RTY29yZSA8IHNjb3JlKSB7XG4gICAgICAgIGJlc3RTY29yZSA9IHNjb3JlO1xuICAgICAgICByZXRyZWF0QWN0aW9uID0gYWN0aW9uO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJldHJlYXRBY3Rpb247XG4gIH1cblxufVxuIl19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2VteWVyc2NvdWdoL0RvY3VtZW50cy9HaXRIdWIvcHRjZy1lcHNkL3B0Y2ctc2VydmVyL3NyYy9zaW1wbGUtYm90L3NpbXBsZS10YWN0aWNzL3JldHJlYXQtdGFjdGljLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7aU9BQUEsS0FBQSxDQUFBLE1BQUEsMEJBQUEsT0FBQSxDQUFBLFlBQUEsQ0FBQSxDQUFBLENBQ0EsS0FBQSxDQUFBLGdCQUFBLDBCQUFBLE9BQUEsQ0FBQSxrQkFBQSxDQUFBLENBQUEsQ0FFQSxLQUFhLENBQUEsYUFBYixTQUFtQyxnQkFBQSxDQUFBLFlBQW5DLENBQStDLENBRXRDLFNBQVMsQ0FBQyxLQUFELENBQWUsTUFBZixDQUE2QixpREFFM0MsR0FBSSxNQUFNLENBQUMsYUFBUCxHQUF5QixLQUFLLENBQUMsSUFBbkMsQ0FBeUMsb0RBQ3ZDLE9BQ0QsQ0FGRCxpQ0FJQSxHQUFJLENBQUEsU0FBUywwQkFBRyxLQUFLLGFBQUwsQ0FBbUIsS0FBbkIsQ0FBMEIsTUFBTSxDQUFDLEVBQWpDLENBQUgsQ0FBYixDQUNBLEdBQUksQ0FBQSxhQUFKLENBUDJDLHdCQVEzQyxNQUFNLENBQUMsS0FBUCxDQUFhLE9BQWIsQ0FBcUIsQ0FBQyxLQUFELENBQVEsS0FBUixHQUFpQixpREFDcEMsR0FBSSxLQUFLLENBQUMsS0FBTixDQUFZLE1BQVosR0FBdUIsQ0FBM0IsQ0FBOEIsb0RBQzVCLE9BQ0QsQ0FGRCxpQ0FJQSxLQUFNLENBQUEsTUFBTSwyQkFBRyxHQUFJLENBQUEsTUFBQSxDQUFBLGFBQUosQ0FBa0IsTUFBTSxDQUFDLEVBQXpCLENBQTZCLEtBQTdCLENBQUgsQ0FBWixDQUNBLEtBQU0sQ0FBQSxLQUFLLDJCQUFHLEtBQUssY0FBTCxDQUFvQixLQUFwQixDQUEyQixNQUFNLENBQUMsRUFBbEMsQ0FBc0MsTUFBdEMsQ0FBSCxDQUFYLENBTm9DLHlCQVFwQyxHQUFJLDRCQUFBLEtBQUssR0FBSyxTQUFWLCtCQUF1QixTQUFTLENBQUcsS0FBbkMsQ0FBSixDQUE4QyxxREFDNUMsU0FBUyxDQUFHLEtBQVosQ0FENEMseUJBRTVDLGFBQWEsQ0FBRyxNQUFoQixDQUNELENBSEQsaUNBSUQsQ0FaRCxFQVIyQyx5QkFzQjNDLE1BQU8sQ0FBQSxhQUFQLENBQ0QsQ0F6QjRDLEMseUJBQS9DLE9BQUEsQ0FBQSxhQUFBLENBQUEsYUFBQSxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWN0aW9uLCBQbGF5ZXIsIFN0YXRlLCBSZXRyZWF0QWN0aW9uIH0gZnJvbSAnLi4vLi4vZ2FtZSc7XG5pbXBvcnQgeyBTaW1wbGVUYWN0aWMgfSBmcm9tICcuL3NpbXBsZS10YWN0aWNzJztcblxuZXhwb3J0IGNsYXNzIFJldHJlYXRUYWN0aWMgZXh0ZW5kcyBTaW1wbGVUYWN0aWMge1xuXG4gIHB1YmxpYyB1c2VUYWN0aWMoc3RhdGU6IFN0YXRlLCBwbGF5ZXI6IFBsYXllcik6IEFjdGlvbiB8IHVuZGVmaW5lZCB7XG5cbiAgICBpZiAocGxheWVyLnJldHJlYXRlZFR1cm4gPT09IHN0YXRlLnR1cm4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgYmVzdFNjb3JlID0gdGhpcy5nZXRTdGF0ZVNjb3JlKHN0YXRlLCBwbGF5ZXIuaWQpO1xuICAgIGxldCByZXRyZWF0QWN0aW9uOiBSZXRyZWF0QWN0aW9uIHwgdW5kZWZpbmVkO1xuICAgIHBsYXllci5iZW5jaC5mb3JFYWNoKChiZW5jaCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChiZW5jaC5jYXJkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBhY3Rpb24gPSBuZXcgUmV0cmVhdEFjdGlvbihwbGF5ZXIuaWQsIGluZGV4KTtcbiAgICAgIGNvbnN0IHNjb3JlID0gdGhpcy5ldmFsdWF0ZUFjdGlvbihzdGF0ZSwgcGxheWVyLmlkLCBhY3Rpb24pO1xuXG4gICAgICBpZiAoc2NvcmUgIT09IHVuZGVmaW5lZCAmJiBiZXN0U2NvcmUgPCBzY29yZSkge1xuICAgICAgICBiZXN0U2NvcmUgPSBzY29yZTtcbiAgICAgICAgcmV0cmVhdEFjdGlvbiA9IGFjdGlvbjtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiByZXRyZWF0QWN0aW9uO1xuICB9XG5cbn1cbiJdfQ==