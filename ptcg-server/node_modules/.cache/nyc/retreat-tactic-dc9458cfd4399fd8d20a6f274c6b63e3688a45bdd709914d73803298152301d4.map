{"version":3,"file":"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/simple-tactics/retreat-tactic.ts","sources":["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/simple-tactics/retreat-tactic.ts"],"names":[],"mappings":";;;AAAA,qCAAkE;AAClE,qDAAgD;AAEhD,MAAa,aAAc,SAAQ,6BAAY;IAEtC,SAAS,CAAC,KAAY,EAAE,MAAc;QAE3C,IAAI,MAAM,CAAC,aAAa,KAAK,KAAK,CAAC,IAAI,EAAE;YACvC,OAAO;SACR;QAED,IAAI,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC;QACrD,IAAI,aAAwC,CAAC;QAC7C,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE;YACpC,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;gBAC5B,OAAO;aACR;YAED,MAAM,MAAM,GAAG,IAAI,oBAAa,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;YACnD,MAAM,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;YAE5D,IAAI,KAAK,KAAK,SAAS,IAAI,SAAS,GAAG,KAAK,EAAE;gBAC5C,SAAS,GAAG,KAAK,CAAC;gBAClB,aAAa,GAAG,MAAM,CAAC;aACxB;QACH,CAAC,CAAC,CAAC;QAEH,OAAO,aAAa,CAAC;IACvB,CAAC;CAEF;AA3BD,sCA2BC","sourcesContent":["import { Action, Player, State, RetreatAction } from '../../game';\nimport { SimpleTactic } from './simple-tactics';\n\nexport class RetreatTactic extends SimpleTactic {\n\n  public useTactic(state: State, player: Player): Action | undefined {\n\n    if (player.retreatedTurn === state.turn) {\n      return;\n    }\n\n    let bestScore = this.getStateScore(state, player.id);\n    let retreatAction: RetreatAction | undefined;\n    player.bench.forEach((bench, index) => {\n      if (bench.cards.length === 0) {\n        return;\n      }\n\n      const action = new RetreatAction(player.id, index);\n      const score = this.evaluateAction(state, player.id, action);\n\n      if (score !== undefined && bestScore < score) {\n        bestScore = score;\n        retreatAction = action;\n      }\n    });\n\n    return retreatAction;\n  }\n\n}\n"]}