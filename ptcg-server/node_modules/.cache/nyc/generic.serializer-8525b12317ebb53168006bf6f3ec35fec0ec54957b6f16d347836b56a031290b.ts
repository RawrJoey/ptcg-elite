"use strict";function cov_1xd9f8zk5o(){var path="/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/serializer/generic.serializer.ts";var hash="21738ec78aafc18cd71e75326e6e2840db24141d";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/serializer/generic.serializer.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:35}},"2":{start:{line:6,column:8},end:{line:6,column:41}},"3":{start:{line:7,column:8},end:{line:7,column:47}},"4":{start:{line:8,column:8},end:{line:8,column:39}},"5":{start:{line:9,column:8},end:{line:9,column:38}},"6":{start:{line:12,column:32},end:{line:12,column:52}},"7":{start:{line:13,column:8},end:{line:13,column:64}},"8":{start:{line:16,column:25},end:{line:16,column:48}},"9":{start:{line:17,column:8},end:{line:17,column:26}},"10":{start:{line:18,column:8},end:{line:18,column:45}},"11":{start:{line:21,column:0},end:{line:21,column:46}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:47},end:{line:10,column:5}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:11,column:4},end:{line:11,column:5}},loc:{start:{line:11,column:21},end:{line:14,column:5}},line:11},"2":{name:"(anonymous_2)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:31},end:{line:19,column:5}},line:15}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},f:{"0":0,"1":0,"2":0},b:{},inputSourceMap:{version:3,file:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/serializer/generic.serializer.ts",sources:["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/serializer/generic.serializer.ts"],names:[],mappings:";;;AAEA,MAAa,iBAAiB;IAK5B,YAAoB,YAAyB,EAAU,eAAuB;QAA1D,iBAAY,GAAZ,YAAY,CAAa;QAAU,oBAAe,GAAf,eAAe,CAAQ;QAC5E,IAAI,CAAC,KAAK,GAAG,CAAC,eAAe,CAAC,CAAC;QAC/B,IAAI,CAAC,OAAO,GAAG,CAAC,YAAY,CAAC,CAAC;IAChC,CAAC;IAEM,SAAS,CAAC,KAAQ;QACvB,MAAM,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;QAC7C,uBACE,KAAK,EAAE,eAAe,IAClB,KAAgB,EACpB;IACJ,CAAC;IAEM,WAAW,CAAC,IAAgB,EAAE,OAA0B;QAC7D,MAAM,QAAQ,GAAG,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;QACzC,OAAQ,IAAY,CAAC,KAAK,CAAC;QAC3B,OAAO,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACvC,CAAC;CAEF;AAxBD,8CAwBC",sourcesContent:["import { SerializerContext, Serialized, Serializer } from './serializer.interface';\n\nexport class GenericSerializer<T extends Object> implements Serializer<T> {\n\n  public types: string[];\n  public classes: (new () => T)[];\n\n  constructor(private creatorClass: new () => T, private constructorName: string) {\n    this.types = [constructorName];\n    this.classes = [creatorClass];\n  }\n\n  public serialize(state: T): Serialized {\n    const constructorName = this.constructorName;\n    return {\n      _type: constructorName,\n      ...(state as Object)\n    };\n  }\n\n  public deserialize(data: Serialized, context: SerializerContext): T {\n    const instance = new this.creatorClass();\n    delete (data as any)._type;\n    return Object.assign(instance, data);\n  }\n\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"21738ec78aafc18cd71e75326e6e2840db24141d"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1xd9f8zk5o=function(){return actualCoverage;};}return actualCoverage;}cov_1xd9f8zk5o();cov_1xd9f8zk5o().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_1xd9f8zk5o().s[1]++;exports.GenericSerializer=void 0;class GenericSerializer{constructor(creatorClass,constructorName){cov_1xd9f8zk5o().f[0]++;cov_1xd9f8zk5o().s[2]++;this.creatorClass=creatorClass;cov_1xd9f8zk5o().s[3]++;this.constructorName=constructorName;cov_1xd9f8zk5o().s[4]++;this.types=[constructorName];cov_1xd9f8zk5o().s[5]++;this.classes=[creatorClass];}serialize(state){cov_1xd9f8zk5o().f[1]++;const constructorName=(cov_1xd9f8zk5o().s[6]++,this.constructorName);cov_1xd9f8zk5o().s[7]++;return Object.assign({_type:constructorName},state);}deserialize(data,context){cov_1xd9f8zk5o().f[2]++;const instance=(cov_1xd9f8zk5o().s[8]++,new this.creatorClass());cov_1xd9f8zk5o().s[9]++;delete data._type;cov_1xd9f8zk5o().s[10]++;return Object.assign(instance,data);}}cov_1xd9f8zk5o().s[11]++;exports.GenericSerializer=GenericSerializer;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2pvZW15ZXJzY291Z2gvRG9jdW1lbnRzL0dpdEh1Yi9wdGNnLWVwc2QvcHRjZy1zZXJ2ZXIvc3JjL2dhbWUvc2VyaWFsaXplci9nZW5lcmljLnNlcmlhbGl6ZXIudHMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2VteWVyc2NvdWdoL0RvY3VtZW50cy9HaXRIdWIvcHRjZy1lcHNkL3B0Y2ctc2VydmVyL3NyYy9nYW1lL3NlcmlhbGl6ZXIvZ2VuZXJpYy5zZXJpYWxpemVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBLE1BQWEsaUJBQWlCO0lBSzVCLFlBQW9CLFlBQXlCLEVBQVUsZUFBdUI7UUFBMUQsaUJBQVksR0FBWixZQUFZLENBQWE7UUFBVSxvQkFBZSxHQUFmLGVBQWUsQ0FBUTtRQUM1RSxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDL0IsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFFTSxTQUFTLENBQUMsS0FBUTtRQUN2QixNQUFNLGVBQWUsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDO1FBQzdDLHVCQUNFLEtBQUssRUFBRSxlQUFlLElBQ2xCLEtBQWdCLEVBQ3BCO0lBQ0osQ0FBQztJQUVNLFdBQVcsQ0FBQyxJQUFnQixFQUFFLE9BQTBCO1FBQzdELE1BQU0sUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQ3pDLE9BQVEsSUFBWSxDQUFDLEtBQUssQ0FBQztRQUMzQixPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7Q0FFRjtBQXhCRCw4Q0F3QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZXJpYWxpemVyQ29udGV4dCwgU2VyaWFsaXplZCwgU2VyaWFsaXplciB9IGZyb20gJy4vc2VyaWFsaXplci5pbnRlcmZhY2UnO1xuXG5leHBvcnQgY2xhc3MgR2VuZXJpY1NlcmlhbGl6ZXI8VCBleHRlbmRzIE9iamVjdD4gaW1wbGVtZW50cyBTZXJpYWxpemVyPFQ+IHtcblxuICBwdWJsaWMgdHlwZXM6IHN0cmluZ1tdO1xuICBwdWJsaWMgY2xhc3NlczogKG5ldyAoKSA9PiBUKVtdO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgY3JlYXRvckNsYXNzOiBuZXcgKCkgPT4gVCwgcHJpdmF0ZSBjb25zdHJ1Y3Rvck5hbWU6IHN0cmluZykge1xuICAgIHRoaXMudHlwZXMgPSBbY29uc3RydWN0b3JOYW1lXTtcbiAgICB0aGlzLmNsYXNzZXMgPSBbY3JlYXRvckNsYXNzXTtcbiAgfVxuXG4gIHB1YmxpYyBzZXJpYWxpemUoc3RhdGU6IFQpOiBTZXJpYWxpemVkIHtcbiAgICBjb25zdCBjb25zdHJ1Y3Rvck5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yTmFtZTtcbiAgICByZXR1cm4ge1xuICAgICAgX3R5cGU6IGNvbnN0cnVjdG9yTmFtZSxcbiAgICAgIC4uLihzdGF0ZSBhcyBPYmplY3QpXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyBkZXNlcmlhbGl6ZShkYXRhOiBTZXJpYWxpemVkLCBjb250ZXh0OiBTZXJpYWxpemVyQ29udGV4dCk6IFQge1xuICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IHRoaXMuY3JlYXRvckNsYXNzKCk7XG4gICAgZGVsZXRlIChkYXRhIGFzIGFueSkuX3R5cGU7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oaW5zdGFuY2UsIGRhdGEpO1xuICB9XG5cbn1cbiJdfQ==
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2VteWVyc2NvdWdoL0RvY3VtZW50cy9HaXRIdWIvcHRjZy1lcHNkL3B0Y2ctc2VydmVyL3NyYy9nYW1lL3NlcmlhbGl6ZXIvZ2VuZXJpYy5zZXJpYWxpemVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJxNUdBcUJJO3FPQW5CSixLQUFhLENBQUEsaUJBQWlCLENBSzVCLFdBQUEsQ0FBb0IsWUFBcEIsQ0FBdUQsZUFBdkQsQ0FBOEUsaURBQTFELEtBQUEsWUFBQSxDQUFBLFlBQUEsQ0FBMEQsd0JBQXZCLEtBQUEsZUFBQSxDQUFBLGVBQUEsQ0FBdUIsd0JBQzVFLEtBQUssS0FBTCxDQUFhLENBQUMsZUFBRCxDQUFiLENBRDRFLHdCQUU1RSxLQUFLLE9BQUwsQ0FBZSxDQUFDLFlBQUQsQ0FBZixDQUNELENBRU0sU0FBUyxDQUFDLEtBQUQsQ0FBUyx5QkFDdkIsS0FBTSxDQUFBLGVBQWUsMEJBQUcsS0FBSyxlQUFSLENBQXJCLENBRHVCLHdCQUV2QixNQUFBLENBQUEsTUFBQSxDQUFBLE1BQUEsQ0FBQSxDQUNFLEtBQUssQ0FBRSxlQURULENBQUEsQ0FFTSxLQUZOLENBQUEsQ0FJRCxDQUVNLFdBQVcsQ0FBQyxJQUFELENBQW1CLE9BQW5CLENBQTZDLHlCQUM3RCxLQUFNLENBQUEsUUFBUSwwQkFBRyxHQUFJLE1BQUssWUFBVCxFQUFILENBQWQsQ0FENkQsd0JBRTdELE1BQVEsQ0FBQSxJQUFZLENBQUMsS0FBckIsQ0FGNkQseUJBRzdELE1BQU8sQ0FBQSxNQUFNLENBQUMsTUFBUCxDQUFjLFFBQWQsQ0FBd0IsSUFBeEIsQ0FBUCxDQUNELENBdEIyQixDLHlCQUE5QixPQUFBLENBQUEsaUJBQUEsQ0FBQSxpQkFBQSxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2VyaWFsaXplckNvbnRleHQsIFNlcmlhbGl6ZWQsIFNlcmlhbGl6ZXIgfSBmcm9tICcuL3NlcmlhbGl6ZXIuaW50ZXJmYWNlJztcblxuZXhwb3J0IGNsYXNzIEdlbmVyaWNTZXJpYWxpemVyPFQgZXh0ZW5kcyBPYmplY3Q+IGltcGxlbWVudHMgU2VyaWFsaXplcjxUPiB7XG5cbiAgcHVibGljIHR5cGVzOiBzdHJpbmdbXTtcbiAgcHVibGljIGNsYXNzZXM6IChuZXcgKCkgPT4gVClbXTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNyZWF0b3JDbGFzczogbmV3ICgpID0+IFQsIHByaXZhdGUgY29uc3RydWN0b3JOYW1lOiBzdHJpbmcpIHtcbiAgICB0aGlzLnR5cGVzID0gW2NvbnN0cnVjdG9yTmFtZV07XG4gICAgdGhpcy5jbGFzc2VzID0gW2NyZWF0b3JDbGFzc107XG4gIH1cblxuICBwdWJsaWMgc2VyaWFsaXplKHN0YXRlOiBUKTogU2VyaWFsaXplZCB7XG4gICAgY29uc3QgY29uc3RydWN0b3JOYW1lID0gdGhpcy5jb25zdHJ1Y3Rvck5hbWU7XG4gICAgcmV0dXJuIHtcbiAgICAgIF90eXBlOiBjb25zdHJ1Y3Rvck5hbWUsXG4gICAgICAuLi4oc3RhdGUgYXMgT2JqZWN0KVxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgZGVzZXJpYWxpemUoZGF0YTogU2VyaWFsaXplZCwgY29udGV4dDogU2VyaWFsaXplckNvbnRleHQpOiBUIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyB0aGlzLmNyZWF0b3JDbGFzcygpO1xuICAgIGRlbGV0ZSAoZGF0YSBhcyBhbnkpLl90eXBlO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKGluc3RhbmNlLCBkYXRhKTtcbiAgfVxuXG59XG4iXX0=