"use strict";function cov_149zx47ook(){var path="/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/serializer/card-list.serializer.ts";var hash="e1d68c37e28012da63d047f555e4dfff2ea08f6e";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/serializer/card-list.serializer.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:36}},"2":{start:{line:4,column:20},end:{line:4,column:55}},"3":{start:{line:5,column:21},end:{line:5,column:45}},"4":{start:{line:6,column:23},end:{line:6,column:49}},"5":{start:{line:7,column:28},end:{line:7,column:71}},"6":{start:{line:10,column:8},end:{line:10,column:53}},"7":{start:{line:11,column:8},end:{line:11,column:83}},"8":{start:{line:14,column:21},end:{line:14,column:48}},"9":{start:{line:15,column:30},end:{line:15,column:40}},"10":{start:{line:16,column:8},end:{line:21,column:9}},"11":{start:{line:17,column:12},end:{line:17,column:48}},"12":{start:{line:18,column:12},end:{line:20,column:13}},"13":{start:{line:19,column:16},end:{line:19,column:45}},"14":{start:{line:22,column:8},end:{line:22,column:126}},"15":{start:{line:22,column:114},end:{line:22,column:121}},"16":{start:{line:25,column:25},end:{line:27,column:40}},"17":{start:{line:28,column:8},end:{line:28,column:26}},"18":{start:{line:29,column:8},end:{line:31,column:9}},"19":{start:{line:30,column:12},end:{line:30,column:59}},"20":{start:{line:32,column:24},end:{line:32,column:34}},"21":{start:{line:33,column:8},end:{line:33,column:74}},"22":{start:{line:33,column:42},end:{line:33,column:72}},"23":{start:{line:34,column:8},end:{line:34,column:45}},"24":{start:{line:37,column:21},end:{line:37,column:41}},"25":{start:{line:38,column:8},end:{line:40,column:9}},"26":{start:{line:39,column:12},end:{line:39,column:131}},"27":{start:{line:41,column:8},end:{line:41,column:20}},"28":{start:{line:44,column:0},end:{line:44,column:48}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:9,column:4},end:{line:9,column:5}},loc:{start:{line:9,column:18},end:{line:12,column:5}},line:9},"1":{name:"(anonymous_1)",decl:{start:{line:13,column:4},end:{line:13,column:5}},loc:{start:{line:13,column:24},end:{line:23,column:5}},line:13},"2":{name:"(anonymous_2)",decl:{start:{line:22,column:106},end:{line:22,column:107}},loc:{start:{line:22,column:114},end:{line:22,column:121}},line:22},"3":{name:"(anonymous_3)",decl:{start:{line:24,column:4},end:{line:24,column:5}},loc:{start:{line:24,column:31},end:{line:35,column:5}},line:24},"4":{name:"(anonymous_4)",decl:{start:{line:33,column:33},end:{line:33,column:34}},loc:{start:{line:33,column:42},end:{line:33,column:72}},line:33},"5":{name:"(anonymous_5)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:30},end:{line:42,column:5}},line:36}},branchMap:{"0":{loc:{start:{line:16,column:8},end:{line:21,column:9}},type:"if",locations:[{start:{line:16,column:8},end:{line:21,column:9}},{start:{line:16,column:8},end:{line:21,column:9}}],line:16},"1":{loc:{start:{line:18,column:12},end:{line:20,column:13}},type:"if",locations:[{start:{line:18,column:12},end:{line:20,column:13}},{start:{line:18,column:12},end:{line:20,column:13}}],line:18},"2":{loc:{start:{line:25,column:25},end:{line:27,column:40}},type:"cond-expr",locations:[{start:{line:26,column:14},end:{line:26,column:55}},{start:{line:27,column:14},end:{line:27,column:40}}],line:25},"3":{loc:{start:{line:29,column:8},end:{line:31,column:9}},type:"if",locations:[{start:{line:29,column:8},end:{line:31,column:9}},{start:{line:29,column:8},end:{line:31,column:9}}],line:29},"4":{loc:{start:{line:38,column:8},end:{line:40,column:9}},type:"if",locations:[{start:{line:38,column:8},end:{line:40,column:9}},{start:{line:38,column:8},end:{line:40,column:9}}],line:38}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},inputSourceMap:{version:3,file:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/serializer/card-list.serializer.ts",sources:["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/serializer/card-list.serializer.ts"],names:[],mappings:";;;AACA,wDAAoD;AAEpD,8CAA0C;AAC1C,kDAAgD;AAChD,wEAAmE;AAEnE,MAAa,kBAAkB;IAK7B;QAHgB,UAAK,GAAG,CAAC,UAAU,EAAE,iBAAiB,CAAC,CAAC;QACxC,YAAO,GAAG,CAAC,oBAAQ,EAAE,mCAAe,CAAC,CAAC;IAErC,CAAC;IAEX,SAAS,CAAC,QAAkB;QACjC,MAAM,IAAI,qBAAa,QAAQ,CAAE,CAAC;QAClC,IAAI,eAAe,GAAG,UAAU,CAAC;QAEjC,IAAI,QAAQ,YAAY,mCAAe,EAAE;YACvC,eAAe,GAAG,iBAAiB,CAAC;YACpC,IAAI,QAAQ,CAAC,IAAI,KAAK,SAAS,EAAE;gBAC/B,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC;aAC9B;SACF;QAED,uCACK,IAAI,KACP,KAAK,EAAE,eAAe,EACtB,KAAK,EAAE,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,IAC1C;IACJ,CAAC;IAEM,WAAW,CAAC,IAAgB,EAAE,OAA0B;QAC7D,MAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,KAAK,iBAAiB;YAC/C,CAAC,CAAC,IAAI,mCAAe,EAAE;YACvB,CAAC,CAAC,IAAI,oBAAQ,EAAE,CAAC;QAEnB,OAAQ,IAAY,CAAC,KAAK,CAAC;QAE3B,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS,EAAE;YAC3B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;SAChD;QAED,MAAM,OAAO,GAAa,IAAI,CAAC,KAAK,CAAC;QACrC,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,CAAC;QAElE,OAAO,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACvC,CAAC;IAEO,SAAS,CAAC,KAAa,EAAE,OAA0B;QACzD,MAAM,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAClC,IAAI,IAAI,KAAK,SAAS,EAAE;YACtB,MAAM,IAAI,sBAAS,CAAC,4BAAa,CAAC,gBAAgB,EAAE,4BAA4B,KAAK,IAAI,CAAC,CAAC;SAC5F;QACD,OAAO,IAAI,CAAC;IACd,CAAC;CAEF;AAlDD,gDAkDC",sourcesContent:["import { SerializerContext, Serialized, Serializer } from './serializer.interface';\nimport { CardList } from '../store/state/card-list';\nimport { Card } from '../store/card/card';\nimport { GameError } from '../game-error';\nimport { GameCoreError } from '../game-message';\nimport { PokemonCardList } from '../store/state/pokemon-card-list';\n\nexport class CardListSerializer implements Serializer<CardList> {\n\n  public readonly types = ['CardList', 'PokemonCardList'];\n  public readonly classes = [CardList, PokemonCardList];\n\n  constructor () { }\n\n  public serialize(cardList: CardList): Serialized {\n    const data: any = { ...cardList };\n    let constructorName = 'CardList';\n\n    if (cardList instanceof PokemonCardList) {\n      constructorName = 'PokemonCardList';\n      if (cardList.tool !== undefined) {\n        data.tool = cardList.tool.id;\n      }\n    }\n\n    return {\n      ...data,\n      _type: constructorName,\n      cards: cardList.cards.map(card => card.id)\n    };\n  }\n\n  public deserialize(data: Serialized, context: SerializerContext): CardList {\n    const instance = data._type === 'PokemonCardList'\n      ? new PokemonCardList()\n      : new CardList();\n\n    delete (data as any)._type;\n\n    if (data.tool !== undefined) {\n      data.tool = this.fromIndex(data.tool, context);\n    }\n\n    const indexes: number[] = data.cards;\n    data.cards = indexes.map(index => this.fromIndex(index, context));\n\n    return Object.assign(instance, data);\n  }\n\n  private fromIndex(index: number, context: SerializerContext): Card {\n    const card = context.cards[index];\n    if (card === undefined) {\n      throw new GameError(GameCoreError.ERROR_SERIALIZER, `Card not found on index '${index}'.`);\n    }\n    return card;\n  }\n\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e1d68c37e28012da63d047f555e4dfff2ea08f6e"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_149zx47ook=function(){return actualCoverage;};}return actualCoverage;}cov_149zx47ook();cov_149zx47ook().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_149zx47ook().s[1]++;exports.CardListSerializer=void 0;const card_list_1=(cov_149zx47ook().s[2]++,require("../store/state/card-list"));const game_error_1=(cov_149zx47ook().s[3]++,require("../game-error"));const game_message_1=(cov_149zx47ook().s[4]++,require("../game-message"));const pokemon_card_list_1=(cov_149zx47ook().s[5]++,require("../store/state/pokemon-card-list"));class CardListSerializer{constructor(){cov_149zx47ook().f[0]++;cov_149zx47ook().s[6]++;this.types=['CardList','PokemonCardList'];cov_149zx47ook().s[7]++;this.classes=[card_list_1.CardList,pokemon_card_list_1.PokemonCardList];}serialize(cardList){cov_149zx47ook().f[1]++;const data=(cov_149zx47ook().s[8]++,Object.assign({},cardList));let constructorName=(cov_149zx47ook().s[9]++,'CardList');cov_149zx47ook().s[10]++;if(cardList instanceof pokemon_card_list_1.PokemonCardList){cov_149zx47ook().b[0][0]++;cov_149zx47ook().s[11]++;constructorName='PokemonCardList';cov_149zx47ook().s[12]++;if(cardList.tool!==undefined){cov_149zx47ook().b[1][0]++;cov_149zx47ook().s[13]++;data.tool=cardList.tool.id;}else{cov_149zx47ook().b[1][1]++;}}else{cov_149zx47ook().b[0][1]++;}cov_149zx47ook().s[14]++;return Object.assign(Object.assign({},data),{_type:constructorName,cards:cardList.cards.map(card=>{cov_149zx47ook().f[2]++;cov_149zx47ook().s[15]++;return card.id;})});}deserialize(data,context){cov_149zx47ook().f[3]++;const instance=(cov_149zx47ook().s[16]++,data._type==='PokemonCardList'?(cov_149zx47ook().b[2][0]++,new pokemon_card_list_1.PokemonCardList()):(cov_149zx47ook().b[2][1]++,new card_list_1.CardList()));cov_149zx47ook().s[17]++;delete data._type;cov_149zx47ook().s[18]++;if(data.tool!==undefined){cov_149zx47ook().b[3][0]++;cov_149zx47ook().s[19]++;data.tool=this.fromIndex(data.tool,context);}else{cov_149zx47ook().b[3][1]++;}const indexes=(cov_149zx47ook().s[20]++,data.cards);cov_149zx47ook().s[21]++;data.cards=indexes.map(index=>{cov_149zx47ook().f[4]++;cov_149zx47ook().s[22]++;return this.fromIndex(index,context);});cov_149zx47ook().s[23]++;return Object.assign(instance,data);}fromIndex(index,context){cov_149zx47ook().f[5]++;const card=(cov_149zx47ook().s[24]++,context.cards[index]);cov_149zx47ook().s[25]++;if(card===undefined){cov_149zx47ook().b[4][0]++;cov_149zx47ook().s[26]++;throw new game_error_1.GameError(game_message_1.GameCoreError.ERROR_SERIALIZER,`Card not found on index '${index}'.`);}else{cov_149zx47ook().b[4][1]++;}cov_149zx47ook().s[27]++;return card;}}cov_149zx47ook().s[28]++;exports.CardListSerializer=CardListSerializer;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2pvZW15ZXJzY291Z2gvRG9jdW1lbnRzL0dpdEh1Yi9wdGNnLWVwc2QvcHRjZy1zZXJ2ZXIvc3JjL2dhbWUvc2VyaWFsaXplci9jYXJkLWxpc3Quc2VyaWFsaXplci50cyIsInNvdXJjZXMiOlsiL1VzZXJzL2pvZW15ZXJzY291Z2gvRG9jdW1lbnRzL0dpdEh1Yi9wdGNnLWVwc2QvcHRjZy1zZXJ2ZXIvc3JjL2dhbWUvc2VyaWFsaXplci9jYXJkLWxpc3Quc2VyaWFsaXplci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSx3REFBb0Q7QUFFcEQsOENBQTBDO0FBQzFDLGtEQUFnRDtBQUNoRCx3RUFBbUU7QUFFbkUsTUFBYSxrQkFBa0I7SUFLN0I7UUFIZ0IsVUFBSyxHQUFHLENBQUMsVUFBVSxFQUFFLGlCQUFpQixDQUFDLENBQUM7UUFDeEMsWUFBTyxHQUFHLENBQUMsb0JBQVEsRUFBRSxtQ0FBZSxDQUFDLENBQUM7SUFFckMsQ0FBQztJQUVYLFNBQVMsQ0FBQyxRQUFrQjtRQUNqQyxNQUFNLElBQUkscUJBQWEsUUFBUSxDQUFFLENBQUM7UUFDbEMsSUFBSSxlQUFlLEdBQUcsVUFBVSxDQUFDO1FBRWpDLElBQUksUUFBUSxZQUFZLG1DQUFlLEVBQUU7WUFDdkMsZUFBZSxHQUFHLGlCQUFpQixDQUFDO1lBQ3BDLElBQUksUUFBUSxDQUFDLElBQUksS0FBSyxTQUFTLEVBQUU7Z0JBQy9CLElBQUksQ0FBQyxJQUFJLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7YUFDOUI7U0FDRjtRQUVELHVDQUNLLElBQUksS0FDUCxLQUFLLEVBQUUsZUFBZSxFQUN0QixLQUFLLEVBQUUsUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQzFDO0lBQ0osQ0FBQztJQUVNLFdBQVcsQ0FBQyxJQUFnQixFQUFFLE9BQTBCO1FBQzdELE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLEtBQUssaUJBQWlCO1lBQy9DLENBQUMsQ0FBQyxJQUFJLG1DQUFlLEVBQUU7WUFDdkIsQ0FBQyxDQUFDLElBQUksb0JBQVEsRUFBRSxDQUFDO1FBRW5CLE9BQVEsSUFBWSxDQUFDLEtBQUssQ0FBQztRQUUzQixJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssU0FBUyxFQUFFO1lBQzNCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQ2hEO1FBRUQsTUFBTSxPQUFPLEdBQWEsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUNyQyxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBRWxFLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDdkMsQ0FBQztJQUVPLFNBQVMsQ0FBQyxLQUFhLEVBQUUsT0FBMEI7UUFDekQsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNsQyxJQUFJLElBQUksS0FBSyxTQUFTLEVBQUU7WUFDdEIsTUFBTSxJQUFJLHNCQUFTLENBQUMsNEJBQWEsQ0FBQyxnQkFBZ0IsRUFBRSw0QkFBNEIsS0FBSyxJQUFJLENBQUMsQ0FBQztTQUM1RjtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztDQUVGO0FBbERELGdEQWtEQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNlcmlhbGl6ZXJDb250ZXh0LCBTZXJpYWxpemVkLCBTZXJpYWxpemVyIH0gZnJvbSAnLi9zZXJpYWxpemVyLmludGVyZmFjZSc7XG5pbXBvcnQgeyBDYXJkTGlzdCB9IGZyb20gJy4uL3N0b3JlL3N0YXRlL2NhcmQtbGlzdCc7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSAnLi4vc3RvcmUvY2FyZC9jYXJkJztcbmltcG9ydCB7IEdhbWVFcnJvciB9IGZyb20gJy4uL2dhbWUtZXJyb3InO1xuaW1wb3J0IHsgR2FtZUNvcmVFcnJvciB9IGZyb20gJy4uL2dhbWUtbWVzc2FnZSc7XG5pbXBvcnQgeyBQb2tlbW9uQ2FyZExpc3QgfSBmcm9tICcuLi9zdG9yZS9zdGF0ZS9wb2tlbW9uLWNhcmQtbGlzdCc7XG5cbmV4cG9ydCBjbGFzcyBDYXJkTGlzdFNlcmlhbGl6ZXIgaW1wbGVtZW50cyBTZXJpYWxpemVyPENhcmRMaXN0PiB7XG5cbiAgcHVibGljIHJlYWRvbmx5IHR5cGVzID0gWydDYXJkTGlzdCcsICdQb2tlbW9uQ2FyZExpc3QnXTtcbiAgcHVibGljIHJlYWRvbmx5IGNsYXNzZXMgPSBbQ2FyZExpc3QsIFBva2Vtb25DYXJkTGlzdF07XG5cbiAgY29uc3RydWN0b3IgKCkgeyB9XG5cbiAgcHVibGljIHNlcmlhbGl6ZShjYXJkTGlzdDogQ2FyZExpc3QpOiBTZXJpYWxpemVkIHtcbiAgICBjb25zdCBkYXRhOiBhbnkgPSB7IC4uLmNhcmRMaXN0IH07XG4gICAgbGV0IGNvbnN0cnVjdG9yTmFtZSA9ICdDYXJkTGlzdCc7XG5cbiAgICBpZiAoY2FyZExpc3QgaW5zdGFuY2VvZiBQb2tlbW9uQ2FyZExpc3QpIHtcbiAgICAgIGNvbnN0cnVjdG9yTmFtZSA9ICdQb2tlbW9uQ2FyZExpc3QnO1xuICAgICAgaWYgKGNhcmRMaXN0LnRvb2wgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkYXRhLnRvb2wgPSBjYXJkTGlzdC50b29sLmlkO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAuLi5kYXRhLFxuICAgICAgX3R5cGU6IGNvbnN0cnVjdG9yTmFtZSxcbiAgICAgIGNhcmRzOiBjYXJkTGlzdC5jYXJkcy5tYXAoY2FyZCA9PiBjYXJkLmlkKVxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgZGVzZXJpYWxpemUoZGF0YTogU2VyaWFsaXplZCwgY29udGV4dDogU2VyaWFsaXplckNvbnRleHQpOiBDYXJkTGlzdCB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBkYXRhLl90eXBlID09PSAnUG9rZW1vbkNhcmRMaXN0J1xuICAgICAgPyBuZXcgUG9rZW1vbkNhcmRMaXN0KClcbiAgICAgIDogbmV3IENhcmRMaXN0KCk7XG5cbiAgICBkZWxldGUgKGRhdGEgYXMgYW55KS5fdHlwZTtcblxuICAgIGlmIChkYXRhLnRvb2wgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZGF0YS50b29sID0gdGhpcy5mcm9tSW5kZXgoZGF0YS50b29sLCBjb250ZXh0KTtcbiAgICB9XG5cbiAgICBjb25zdCBpbmRleGVzOiBudW1iZXJbXSA9IGRhdGEuY2FyZHM7XG4gICAgZGF0YS5jYXJkcyA9IGluZGV4ZXMubWFwKGluZGV4ID0+IHRoaXMuZnJvbUluZGV4KGluZGV4LCBjb250ZXh0KSk7XG5cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihpbnN0YW5jZSwgZGF0YSk7XG4gIH1cblxuICBwcml2YXRlIGZyb21JbmRleChpbmRleDogbnVtYmVyLCBjb250ZXh0OiBTZXJpYWxpemVyQ29udGV4dCk6IENhcmQge1xuICAgIGNvbnN0IGNhcmQgPSBjb250ZXh0LmNhcmRzW2luZGV4XTtcbiAgICBpZiAoY2FyZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgR2FtZUVycm9yKEdhbWVDb3JlRXJyb3IuRVJST1JfU0VSSUFMSVpFUiwgYENhcmQgbm90IGZvdW5kIG9uIGluZGV4ICcke2luZGV4fScuYCk7XG4gICAgfVxuICAgIHJldHVybiBjYXJkO1xuICB9XG5cbn1cbiJdfQ==
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2VteWVyc2NvdWdoL0RvY3VtZW50cy9HaXRIdWIvcHRjZy1lcHNkL3B0Y2ctc2VydmVyL3NyYy9nYW1lL3NlcmlhbGl6ZXIvY2FyZC1saXN0LnNlcmlhbGl6ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Im90UEFrQlE7c09BakJSLEtBQUEsQ0FBQSxXQUFBLDBCQUFBLE9BQUEsQ0FBQSwwQkFBQSxDQUFBLENBQUEsQ0FFQSxLQUFBLENBQUEsWUFBQSwwQkFBQSxPQUFBLENBQUEsZUFBQSxDQUFBLENBQUEsQ0FDQSxLQUFBLENBQUEsY0FBQSwwQkFBQSxPQUFBLENBQUEsaUJBQUEsQ0FBQSxDQUFBLENBQ0EsS0FBQSxDQUFBLG1CQUFBLDBCQUFBLE9BQUEsQ0FBQSxrQ0FBQSxDQUFBLENBQUEsQ0FFQSxLQUFhLENBQUEsa0JBQWtCLENBSzdCLFdBQUEsRUFBQSxpREFIZ0IsS0FBQSxLQUFBLENBQVEsQ0FBQyxVQUFELENBQWEsaUJBQWIsQ0FBUixDQUdoQix3QkFGZ0IsS0FBQSxPQUFBLENBQVUsQ0FBQyxXQUFBLENBQUEsUUFBRCxDQUFXLG1CQUFBLENBQUEsZUFBWCxDQUFWLENBRUUsQ0FFWCxTQUFTLENBQUMsUUFBRCxDQUFtQix5QkFDakMsS0FBTSxDQUFBLElBQUksMEJBQUEsTUFBQSxDQUFBLE1BQUEsQ0FBQSxFQUFBLENBQWEsUUFBYixDQUFBLENBQVYsQ0FDQSxHQUFJLENBQUEsZUFBZSwwQkFBRyxVQUFILENBQW5CLENBRmlDLHlCQUlqQyxHQUFJLFFBQVEsV0FBWSxDQUFBLG1CQUFBLENBQUEsZUFBeEIsQ0FBeUMscURBQ3ZDLGVBQWUsQ0FBRyxpQkFBbEIsQ0FEdUMseUJBRXZDLEdBQUksUUFBUSxDQUFDLElBQVQsR0FBa0IsU0FBdEIsQ0FBaUMscURBQy9CLElBQUksQ0FBQyxJQUFMLENBQVksUUFBUSxDQUFDLElBQVQsQ0FBYyxFQUExQixDQUNELENBRkQsaUNBR0QsQ0FMRCxpQ0FKaUMseUJBV2pDLE1BQUEsQ0FBQSxNQUFBLENBQUEsTUFBQSxDQUFBLE1BQUEsQ0FBQSxNQUFBLENBQUEsRUFBQSxDQUNLLElBREwsQ0FBQSxDQUNTLENBQ1AsS0FBSyxDQUFFLGVBREEsQ0FFUCxLQUFLLENBQUUsUUFBUSxDQUFDLEtBQVQsQ0FBZSxHQUFmLENBQW1CLElBQUksRUFBSSx3REFBQSxDQUFBLElBQUksQ0FBQyxFQUFMLENBQU8sQ0FBbEMsQ0FGQSxDQURULENBQUEsQ0FLRCxDQUVNLFdBQVcsQ0FBQyxJQUFELENBQW1CLE9BQW5CLENBQTZDLHlCQUM3RCxLQUFNLENBQUEsUUFBUSwyQkFBRyxJQUFJLENBQUMsS0FBTCxHQUFlLGlCQUFmLDZCQUNiLEdBQUksQ0FBQSxtQkFBQSxDQUFBLGVBQUosRUFEYSw4QkFFYixHQUFJLENBQUEsV0FBQSxDQUFBLFFBQUosRUFGYSxDQUFILENBQWQsQ0FENkQseUJBSzdELE1BQVEsQ0FBQSxJQUFZLENBQUMsS0FBckIsQ0FMNkQseUJBTzdELEdBQUksSUFBSSxDQUFDLElBQUwsR0FBYyxTQUFsQixDQUE2QixxREFDM0IsSUFBSSxDQUFDLElBQUwsQ0FBWSxLQUFLLFNBQUwsQ0FBZSxJQUFJLENBQUMsSUFBcEIsQ0FBMEIsT0FBMUIsQ0FBWixDQUNELENBRkQsaUNBSUEsS0FBTSxDQUFBLE9BQU8sMkJBQWEsSUFBSSxDQUFDLEtBQWxCLENBQWIsQ0FYNkQseUJBWTdELElBQUksQ0FBQyxLQUFMLENBQWEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxLQUFLLEVBQUksOERBQUssU0FBTCxDQUFlLEtBQWYsQ0FBc0IsT0FBdEIsRUFBOEIsQ0FBbkQsQ0FBYixDQVo2RCx5QkFjN0QsTUFBTyxDQUFBLE1BQU0sQ0FBQyxNQUFQLENBQWMsUUFBZCxDQUF3QixJQUF4QixDQUFQLENBQ0QsQ0FFTyxTQUFTLENBQUMsS0FBRCxDQUFnQixPQUFoQixDQUEwQyx5QkFDekQsS0FBTSxDQUFBLElBQUksMkJBQUcsT0FBTyxDQUFDLEtBQVIsQ0FBYyxLQUFkLENBQUgsQ0FBVixDQUR5RCx5QkFFekQsR0FBSSxJQUFJLEdBQUssU0FBYixDQUF3QixxREFDdEIsS0FBTSxJQUFJLENBQUEsWUFBQSxDQUFBLFNBQUosQ0FBYyxjQUFBLENBQUEsYUFBQSxDQUFjLGdCQUE1QixDQUE4Qyw0QkFBNEIsS0FBSyxJQUEvRSxDQUFOLENBQ0QsQ0FGRCxpQ0FGeUQseUJBS3pELE1BQU8sQ0FBQSxJQUFQLENBQ0QsQ0FoRDRCLEMseUJBQS9CLE9BQUEsQ0FBQSxrQkFBQSxDQUFBLGtCQUFBLEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZXJpYWxpemVyQ29udGV4dCwgU2VyaWFsaXplZCwgU2VyaWFsaXplciB9IGZyb20gJy4vc2VyaWFsaXplci5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgQ2FyZExpc3QgfSBmcm9tICcuLi9zdG9yZS9zdGF0ZS9jYXJkLWxpc3QnO1xuaW1wb3J0IHsgQ2FyZCB9IGZyb20gJy4uL3N0b3JlL2NhcmQvY2FyZCc7XG5pbXBvcnQgeyBHYW1lRXJyb3IgfSBmcm9tICcuLi9nYW1lLWVycm9yJztcbmltcG9ydCB7IEdhbWVDb3JlRXJyb3IgfSBmcm9tICcuLi9nYW1lLW1lc3NhZ2UnO1xuaW1wb3J0IHsgUG9rZW1vbkNhcmRMaXN0IH0gZnJvbSAnLi4vc3RvcmUvc3RhdGUvcG9rZW1vbi1jYXJkLWxpc3QnO1xuXG5leHBvcnQgY2xhc3MgQ2FyZExpc3RTZXJpYWxpemVyIGltcGxlbWVudHMgU2VyaWFsaXplcjxDYXJkTGlzdD4ge1xuXG4gIHB1YmxpYyByZWFkb25seSB0eXBlcyA9IFsnQ2FyZExpc3QnLCAnUG9rZW1vbkNhcmRMaXN0J107XG4gIHB1YmxpYyByZWFkb25seSBjbGFzc2VzID0gW0NhcmRMaXN0LCBQb2tlbW9uQ2FyZExpc3RdO1xuXG4gIGNvbnN0cnVjdG9yICgpIHsgfVxuXG4gIHB1YmxpYyBzZXJpYWxpemUoY2FyZExpc3Q6IENhcmRMaXN0KTogU2VyaWFsaXplZCB7XG4gICAgY29uc3QgZGF0YTogYW55ID0geyAuLi5jYXJkTGlzdCB9O1xuICAgIGxldCBjb25zdHJ1Y3Rvck5hbWUgPSAnQ2FyZExpc3QnO1xuXG4gICAgaWYgKGNhcmRMaXN0IGluc3RhbmNlb2YgUG9rZW1vbkNhcmRMaXN0KSB7XG4gICAgICBjb25zdHJ1Y3Rvck5hbWUgPSAnUG9rZW1vbkNhcmRMaXN0JztcbiAgICAgIGlmIChjYXJkTGlzdC50b29sICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZGF0YS50b29sID0gY2FyZExpc3QudG9vbC5pZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uZGF0YSxcbiAgICAgIF90eXBlOiBjb25zdHJ1Y3Rvck5hbWUsXG4gICAgICBjYXJkczogY2FyZExpc3QuY2FyZHMubWFwKGNhcmQgPT4gY2FyZC5pZClcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIGRlc2VyaWFsaXplKGRhdGE6IFNlcmlhbGl6ZWQsIGNvbnRleHQ6IFNlcmlhbGl6ZXJDb250ZXh0KTogQ2FyZExpc3Qge1xuICAgIGNvbnN0IGluc3RhbmNlID0gZGF0YS5fdHlwZSA9PT0gJ1Bva2Vtb25DYXJkTGlzdCdcbiAgICAgID8gbmV3IFBva2Vtb25DYXJkTGlzdCgpXG4gICAgICA6IG5ldyBDYXJkTGlzdCgpO1xuXG4gICAgZGVsZXRlIChkYXRhIGFzIGFueSkuX3R5cGU7XG5cbiAgICBpZiAoZGF0YS50b29sICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGRhdGEudG9vbCA9IHRoaXMuZnJvbUluZGV4KGRhdGEudG9vbCwgY29udGV4dCk7XG4gICAgfVxuXG4gICAgY29uc3QgaW5kZXhlczogbnVtYmVyW10gPSBkYXRhLmNhcmRzO1xuICAgIGRhdGEuY2FyZHMgPSBpbmRleGVzLm1hcChpbmRleCA9PiB0aGlzLmZyb21JbmRleChpbmRleCwgY29udGV4dCkpO1xuXG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oaW5zdGFuY2UsIGRhdGEpO1xuICB9XG5cbiAgcHJpdmF0ZSBmcm9tSW5kZXgoaW5kZXg6IG51bWJlciwgY29udGV4dDogU2VyaWFsaXplckNvbnRleHQpOiBDYXJkIHtcbiAgICBjb25zdCBjYXJkID0gY29udGV4dC5jYXJkc1tpbmRleF07XG4gICAgaWYgKGNhcmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEdhbWVFcnJvcihHYW1lQ29yZUVycm9yLkVSUk9SX1NFUklBTElaRVIsIGBDYXJkIG5vdCBmb3VuZCBvbiBpbmRleCAnJHtpbmRleH0nLmApO1xuICAgIH1cbiAgICByZXR1cm4gY2FyZDtcbiAgfVxuXG59XG4iXX0=