"use strict";function cov_1hqz1zszqr(){var path="/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/prompts/shuffle-prompt.ts";var hash="54d6f82f8844652175f22479ab17dadda65c7d2c";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/prompts/shuffle-prompt.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:35}},"2":{start:{line:4,column:17},end:{line:4,column:36}},"3":{start:{line:7,column:8},end:{line:7,column:24}},"4":{start:{line:8,column:8},end:{line:8,column:35}},"5":{start:{line:11,column:8},end:{line:13,column:9}},"6":{start:{line:12,column:12},end:{line:12,column:25}},"7":{start:{line:14,column:23},end:{line:14,column:70}},"8":{start:{line:14,column:47},end:{line:14,column:69}},"9":{start:{line:15,column:8},end:{line:17,column:9}},"10":{start:{line:16,column:12},end:{line:16,column:25}},"11":{start:{line:18,column:8},end:{line:20,column:9}},"12":{start:{line:19,column:12},end:{line:19,column:25}},"13":{start:{line:21,column:18},end:{line:21,column:32}},"14":{start:{line:22,column:8},end:{line:22,column:17}},"15":{start:{line:23,column:8},end:{line:27,column:9}},"16":{start:{line:23,column:21},end:{line:23,column:22}},"17":{start:{line:24,column:12},end:{line:26,column:13}},"18":{start:{line:25,column:16},end:{line:25,column:29}},"19":{start:{line:28,column:8},end:{line:28,column:20}},"20":{start:{line:31,column:0},end:{line:31,column:46}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:26},end:{line:9,column:5}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:10,column:4},end:{line:10,column:5}},loc:{start:{line:10,column:28},end:{line:29,column:5}},line:10},"2":{name:"(anonymous_2)",decl:{start:{line:14,column:42},end:{line:14,column:43}},loc:{start:{line:14,column:47},end:{line:14,column:69}},line:14}},branchMap:{"0":{loc:{start:{line:11,column:8},end:{line:13,column:9}},type:"if",locations:[{start:{line:11,column:8},end:{line:13,column:9}},{start:{line:11,column:8},end:{line:13,column:9}}],line:11},"1":{loc:{start:{line:15,column:8},end:{line:17,column:9}},type:"if",locations:[{start:{line:15,column:8},end:{line:17,column:9}},{start:{line:15,column:8},end:{line:17,column:9}}],line:15},"2":{loc:{start:{line:18,column:8},end:{line:20,column:9}},type:"if",locations:[{start:{line:18,column:8},end:{line:20,column:9}},{start:{line:18,column:8},end:{line:20,column:9}}],line:18},"3":{loc:{start:{line:24,column:12},end:{line:26,column:13}},type:"if",locations:[{start:{line:24,column:12},end:{line:26,column:13}},{start:{line:24,column:12},end:{line:26,column:13}}],line:24}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},inputSourceMap:{version:3,file:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/prompts/shuffle-prompt.ts",sources:["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/prompts/shuffle-prompt.ts"],names:[],mappings:";;;AAAA,qCAAkC;AAGlC,MAAa,iBAAkB,SAAQ,eAAgB;IAIrD,YAAY,QAAgB;QAC1B,KAAK,CAAC,QAAQ,CAAC,CAAC;QAHT,SAAI,GAAW,cAAc,CAAC;IAIvC,CAAC;IAEM,QAAQ,CAAC,MAAuB,EAAE,KAAY;QACnD,IAAI,MAAM,KAAK,IAAI,EAAE;YACnB,OAAO,KAAK,CAAC;SACd;QACD,MAAM,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC/D,IAAI,MAAM,KAAK,SAAS,EAAE;YACxB,OAAO,KAAK,CAAC;SACd;QACD,IAAI,MAAM,CAAC,MAAM,KAAK,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;YAC9C,OAAO,KAAK,CAAC;SACd;QACD,MAAM,CAAC,GAAG,MAAM,CAAC,KAAK,EAAE,CAAC;QACzB,CAAC,CAAC,IAAI,EAAE,CAAC;QACT,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACjC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;gBACd,OAAO,KAAK,CAAC;aACd;SACF;QACD,OAAO,IAAI,CAAC;IACd,CAAC;CAEF;AA7BD,8CA6BC",sourcesContent:["import { Prompt } from './prompt';\nimport { State } from '../state/state';\n\nexport class ShuffleDeckPrompt extends Prompt<number[]> {\n\n  readonly type: string = 'Shuffle deck';\n\n  constructor(playerId: number) {\n    super(playerId);\n  }\n\n  public validate(result: number[] | null, state: State): boolean {\n    if (result === null) {\n      return false;\n    }\n    const player = state.players.find(p => p.id === this.playerId);\n    if (player === undefined) {\n      return false;\n    }\n    if (result.length !== player.deck.cards.length) {\n      return false;\n    }\n    const s = result.slice();\n    s.sort();\n    for (let i = 0; i < s.length; i++) {\n      if (s[i] !== i) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"54d6f82f8844652175f22479ab17dadda65c7d2c"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1hqz1zszqr=function(){return actualCoverage;};}return actualCoverage;}cov_1hqz1zszqr();cov_1hqz1zszqr().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_1hqz1zszqr().s[1]++;exports.ShuffleDeckPrompt=void 0;const prompt_1=(cov_1hqz1zszqr().s[2]++,require("./prompt"));class ShuffleDeckPrompt extends(prompt_1.Prompt){constructor(playerId){cov_1hqz1zszqr().f[0]++;cov_1hqz1zszqr().s[3]++;super(playerId);cov_1hqz1zszqr().s[4]++;this.type='Shuffle deck';}validate(result,state){cov_1hqz1zszqr().f[1]++;cov_1hqz1zszqr().s[5]++;if(result===null){cov_1hqz1zszqr().b[0][0]++;cov_1hqz1zszqr().s[6]++;return false;}else{cov_1hqz1zszqr().b[0][1]++;}const player=(cov_1hqz1zszqr().s[7]++,state.players.find(p=>{cov_1hqz1zszqr().f[2]++;cov_1hqz1zszqr().s[8]++;return p.id===this.playerId;}));cov_1hqz1zszqr().s[9]++;if(player===undefined){cov_1hqz1zszqr().b[1][0]++;cov_1hqz1zszqr().s[10]++;return false;}else{cov_1hqz1zszqr().b[1][1]++;}cov_1hqz1zszqr().s[11]++;if(result.length!==player.deck.cards.length){cov_1hqz1zszqr().b[2][0]++;cov_1hqz1zszqr().s[12]++;return false;}else{cov_1hqz1zszqr().b[2][1]++;}const s=(cov_1hqz1zszqr().s[13]++,result.slice());cov_1hqz1zszqr().s[14]++;s.sort();cov_1hqz1zszqr().s[15]++;for(let i=(cov_1hqz1zszqr().s[16]++,0);i<s.length;i++){cov_1hqz1zszqr().s[17]++;if(s[i]!==i){cov_1hqz1zszqr().b[3][0]++;cov_1hqz1zszqr().s[18]++;return false;}else{cov_1hqz1zszqr().b[3][1]++;}}cov_1hqz1zszqr().s[19]++;return true;}}cov_1hqz1zszqr().s[20]++;exports.ShuffleDeckPrompt=ShuffleDeckPrompt;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2pvZW15ZXJzY291Z2gvRG9jdW1lbnRzL0dpdEh1Yi9wdGNnLWVwc2QvcHRjZy1zZXJ2ZXIvc3JjL2dhbWUvc3RvcmUvcHJvbXB0cy9zaHVmZmxlLXByb21wdC50cyIsInNvdXJjZXMiOlsiL1VzZXJzL2pvZW15ZXJzY291Z2gvRG9jdW1lbnRzL0dpdEh1Yi9wdGNnLWVwc2QvcHRjZy1zZXJ2ZXIvc3JjL2dhbWUvc3RvcmUvcHJvbXB0cy9zaHVmZmxlLXByb21wdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxxQ0FBa0M7QUFHbEMsTUFBYSxpQkFBa0IsU0FBUSxlQUFnQjtJQUlyRCxZQUFZLFFBQWdCO1FBQzFCLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUhULFNBQUksR0FBVyxjQUFjLENBQUM7SUFJdkMsQ0FBQztJQUVNLFFBQVEsQ0FBQyxNQUF1QixFQUFFLEtBQVk7UUFDbkQsSUFBSSxNQUFNLEtBQUssSUFBSSxFQUFFO1lBQ25CLE9BQU8sS0FBSyxDQUFDO1NBQ2Q7UUFDRCxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQy9ELElBQUksTUFBTSxLQUFLLFNBQVMsRUFBRTtZQUN4QixPQUFPLEtBQUssQ0FBQztTQUNkO1FBQ0QsSUFBSSxNQUFNLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRTtZQUM5QyxPQUFPLEtBQUssQ0FBQztTQUNkO1FBQ0QsTUFBTSxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3pCLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNULEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ2pDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRTtnQkFDZCxPQUFPLEtBQUssQ0FBQzthQUNkO1NBQ0Y7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7Q0FFRjtBQTdCRCw4Q0E2QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm9tcHQgfSBmcm9tICcuL3Byb21wdCc7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4uL3N0YXRlL3N0YXRlJztcblxuZXhwb3J0IGNsYXNzIFNodWZmbGVEZWNrUHJvbXB0IGV4dGVuZHMgUHJvbXB0PG51bWJlcltdPiB7XG5cbiAgcmVhZG9ubHkgdHlwZTogc3RyaW5nID0gJ1NodWZmbGUgZGVjayc7XG5cbiAgY29uc3RydWN0b3IocGxheWVySWQ6IG51bWJlcikge1xuICAgIHN1cGVyKHBsYXllcklkKTtcbiAgfVxuXG4gIHB1YmxpYyB2YWxpZGF0ZShyZXN1bHQ6IG51bWJlcltdIHwgbnVsbCwgc3RhdGU6IFN0YXRlKTogYm9vbGVhbiB7XG4gICAgaWYgKHJlc3VsdCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBwbGF5ZXIgPSBzdGF0ZS5wbGF5ZXJzLmZpbmQocCA9PiBwLmlkID09PSB0aGlzLnBsYXllcklkKTtcbiAgICBpZiAocGxheWVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC5sZW5ndGggIT09IHBsYXllci5kZWNrLmNhcmRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBzID0gcmVzdWx0LnNsaWNlKCk7XG4gICAgcy5zb3J0KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoc1tpXSAhPT0gaSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbn1cbiJdfQ==
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2VteWVyc2NvdWdoL0RvY3VtZW50cy9HaXRIdWIvcHRjZy1lcHNkL3B0Y2ctc2VydmVyL3NyYy9nYW1lL3N0b3JlL3Byb21wdHMvc2h1ZmZsZS1wcm9tcHQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6InU5SkFpQk07cU9BakJOLEtBQUEsQ0FBQSxRQUFBLDBCQUFBLE9BQUEsQ0FBQSxVQUFBLENBQUEsQ0FBQSxDQUdBLEtBQWEsQ0FBQSxpQkFBYixTQUF1QyxRQUFBLENBQUEsTUFBdkMsQ0FBdUQsQ0FJckQsV0FBQSxDQUFZLFFBQVosQ0FBNEIsaURBQzFCLE1BQU0sUUFBTixFQUQwQix3QkFGbkIsS0FBQSxJQUFBLENBQWUsY0FBZixDQUlSLENBRU0sUUFBUSxDQUFDLE1BQUQsQ0FBMEIsS0FBMUIsQ0FBc0MsaURBQ25ELEdBQUksTUFBTSxHQUFLLElBQWYsQ0FBcUIsb0RBQ25CLE1BQU8sTUFBUCxDQUNELENBRkQsaUNBR0EsS0FBTSxDQUFBLE1BQU0sMEJBQUcsS0FBSyxDQUFDLE9BQU4sQ0FBYyxJQUFkLENBQW1CLENBQUMsRUFBSSx1REFBQSxDQUFBLENBQUMsQ0FBQyxFQUFGLEdBQVMsS0FBSyxRQUFkLENBQXNCLENBQTlDLENBQUgsQ0FBWixDQUptRCx3QkFLbkQsR0FBSSxNQUFNLEdBQUssU0FBZixDQUEwQixxREFDeEIsTUFBTyxNQUFQLENBQ0QsQ0FGRCxpQ0FMbUQseUJBUW5ELEdBQUksTUFBTSxDQUFDLE1BQVAsR0FBa0IsTUFBTSxDQUFDLElBQVAsQ0FBWSxLQUFaLENBQWtCLE1BQXhDLENBQWdELHFEQUM5QyxNQUFPLE1BQVAsQ0FDRCxDQUZELGlDQUdBLEtBQU0sQ0FBQSxDQUFDLDJCQUFHLE1BQU0sQ0FBQyxLQUFQLEVBQUgsQ0FBUCxDQVhtRCx5QkFZbkQsQ0FBQyxDQUFDLElBQUYsR0FabUQseUJBYW5ELElBQUssR0FBSSxDQUFBLENBQUMsMkJBQUcsQ0FBSCxDQUFWLENBQWdCLENBQUMsQ0FBRyxDQUFDLENBQUMsTUFBdEIsQ0FBOEIsQ0FBQyxFQUEvQixDQUFtQywwQkFDakMsR0FBSSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQVMsQ0FBYixDQUFnQixxREFDZCxNQUFPLE1BQVAsQ0FDRCxDQUZELGlDQUdELENBakJrRCx5QkFrQm5ELE1BQU8sS0FBUCxDQUNELENBM0JvRCxDLHlCQUF2RCxPQUFBLENBQUEsaUJBQUEsQ0FBQSxpQkFBQSxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJvbXB0IH0gZnJvbSAnLi9wcm9tcHQnO1xuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi9zdGF0ZS9zdGF0ZSc7XG5cbmV4cG9ydCBjbGFzcyBTaHVmZmxlRGVja1Byb21wdCBleHRlbmRzIFByb21wdDxudW1iZXJbXT4ge1xuXG4gIHJlYWRvbmx5IHR5cGU6IHN0cmluZyA9ICdTaHVmZmxlIGRlY2snO1xuXG4gIGNvbnN0cnVjdG9yKHBsYXllcklkOiBudW1iZXIpIHtcbiAgICBzdXBlcihwbGF5ZXJJZCk7XG4gIH1cblxuICBwdWJsaWMgdmFsaWRhdGUocmVzdWx0OiBudW1iZXJbXSB8IG51bGwsIHN0YXRlOiBTdGF0ZSk6IGJvb2xlYW4ge1xuICAgIGlmIChyZXN1bHQgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgcGxheWVyID0gc3RhdGUucGxheWVycy5maW5kKHAgPT4gcC5pZCA9PT0gdGhpcy5wbGF5ZXJJZCk7XG4gICAgaWYgKHBsYXllciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChyZXN1bHQubGVuZ3RoICE9PSBwbGF5ZXIuZGVjay5jYXJkcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgcyA9IHJlc3VsdC5zbGljZSgpO1xuICAgIHMuc29ydCgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHNbaV0gIT09IGkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG59XG4iXX0=