"use strict";function cov_2qvebc78r7(){var path="/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/state/pokemon-card-list.ts";var hash="9fd06d55d9560c166676eb318e3e2cdce9a38506";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/state/pokemon-card-list.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:33}},"2":{start:{line:4,column:20},end:{line:4,column:42}},"3":{start:{line:5,column:22},end:{line:5,column:46}},"4":{start:{line:6,column:21},end:{line:6,column:50}},"5":{start:{line:9,column:8},end:{line:9,column:28}},"6":{start:{line:10,column:8},end:{line:10,column:24}},"7":{start:{line:11,column:8},end:{line:11,column:36}},"8":{start:{line:12,column:8},end:{line:12,column:31}},"9":{start:{line:13,column:8},end:{line:13,column:29}},"10":{start:{line:14,column:8},end:{line:14,column:49}},"11":{start:{line:15,column:8},end:{line:15,column:35}},"12":{start:{line:18,column:23},end:{line:18,column:25}},"13":{start:{line:19,column:8},end:{line:23,column:9}},"14":{start:{line:20,column:12},end:{line:22,column:13}},"15":{start:{line:21,column:16},end:{line:21,column:34}},"16":{start:{line:24,column:8},end:{line:24,column:22}},"17":{start:{line:27,column:25},end:{line:27,column:43}},"18":{start:{line:28,column:8},end:{line:30,column:9}},"19":{start:{line:29,column:12},end:{line:29,column:49}},"20":{start:{line:33,column:25},end:{line:33,column:43}},"21":{start:{line:34,column:8},end:{line:36,column:9}},"22":{start:{line:35,column:12},end:{line:35,column:25}},"23":{start:{line:37,column:8},end:{line:37,column:62}},"24":{start:{line:40,column:8},end:{line:40,column:33}},"25":{start:{line:41,column:8},end:{line:41,column:36}},"26":{start:{line:42,column:8},end:{line:42,column:31}},"27":{start:{line:43,column:8},end:{line:43,column:29}},"28":{start:{line:44,column:8},end:{line:46,column:9}},"29":{start:{line:45,column:12},end:{line:45,column:28}},"30":{start:{line:47,column:8},end:{line:49,column:9}},"31":{start:{line:48,column:12},end:{line:48,column:34}},"32":{start:{line:52,column:8},end:{line:54,column:9}},"33":{start:{line:53,column:12},end:{line:53,column:19}},"34":{start:{line:55,column:8},end:{line:56,column:35}},"35":{start:{line:56,column:25},end:{line:56,column:33}},"36":{start:{line:59,column:8},end:{line:61,column:9}},"37":{start:{line:60,column:12},end:{line:60,column:35}},"38":{start:{line:62,column:8},end:{line:64,column:9}},"39":{start:{line:63,column:12},end:{line:63,column:33}},"40":{start:{line:65,column:8},end:{line:67,column:9}},"41":{start:{line:66,column:12},end:{line:66,column:19}},"42":{start:{line:68,column:8},end:{line:71,column:9}},"43":{start:{line:69,column:12},end:{line:69,column:44}},"44":{start:{line:70,column:12},end:{line:70,column:19}},"45":{start:{line:72,column:8},end:{line:76,column:33}},"46":{start:{line:72,column:68},end:{line:76,column:31}},"47":{start:{line:77,column:8},end:{line:77,column:40}},"48":{start:{line:80,column:0},end:{line:80,column:42}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:8,column:4},end:{line:8,column:5}},loc:{start:{line:8,column:18},end:{line:16,column:5}},line:8},"1":{name:"(anonymous_1)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:18},end:{line:25,column:5}},line:17},"2":{name:"(anonymous_2)",decl:{start:{line:26,column:4},end:{line:26,column:5}},loc:{start:{line:26,column:21},end:{line:31,column:5}},line:26},"3":{name:"(anonymous_3)",decl:{start:{line:32,column:4},end:{line:32,column:5}},loc:{start:{line:32,column:14},end:{line:38,column:5}},line:32},"4":{name:"(anonymous_4)",decl:{start:{line:39,column:4},end:{line:39,column:5}},loc:{start:{line:39,column:19},end:{line:50,column:5}},line:39},"5":{name:"(anonymous_5)",decl:{start:{line:51,column:4},end:{line:51,column:5}},loc:{start:{line:51,column:31},end:{line:57,column:5}},line:51},"6":{name:"(anonymous_6)",decl:{start:{line:56,column:20},end:{line:56,column:21}},loc:{start:{line:56,column:25},end:{line:56,column:33}},line:56},"7":{name:"(anonymous_7)",decl:{start:{line:58,column:4},end:{line:58,column:5}},loc:{start:{line:58,column:28},end:{line:78,column:5}},line:58},"8":{name:"(anonymous_8)",decl:{start:{line:72,column:63},end:{line:72,column:64}},loc:{start:{line:72,column:68},end:{line:76,column:31}},line:72}},branchMap:{"0":{loc:{start:{line:20,column:12},end:{line:22,column:13}},type:"if",locations:[{start:{line:20,column:12},end:{line:22,column:13}},{start:{line:20,column:12},end:{line:22,column:13}}],line:20},"1":{loc:{start:{line:20,column:16},end:{line:20,column:87}},type:"binary-expr",locations:[{start:{line:20,column:16},end:{line:20,column:65}},{start:{line:20,column:69},end:{line:20,column:87}}],line:20},"2":{loc:{start:{line:28,column:8},end:{line:30,column:9}},type:"if",locations:[{start:{line:28,column:8},end:{line:30,column:9}},{start:{line:28,column:8},end:{line:30,column:9}}],line:28},"3":{loc:{start:{line:34,column:8},end:{line:36,column:9}},type:"if",locations:[{start:{line:34,column:8},end:{line:36,column:9}},{start:{line:34,column:8},end:{line:36,column:9}}],line:34},"4":{loc:{start:{line:44,column:8},end:{line:46,column:9}},type:"if",locations:[{start:{line:44,column:8},end:{line:46,column:9}},{start:{line:44,column:8},end:{line:46,column:9}}],line:44},"5":{loc:{start:{line:47,column:8},end:{line:49,column:9}},type:"if",locations:[{start:{line:47,column:8},end:{line:49,column:9}},{start:{line:47,column:8},end:{line:49,column:9}}],line:47},"6":{loc:{start:{line:47,column:12},end:{line:47,column:56}},type:"binary-expr",locations:[{start:{line:47,column:12},end:{line:47,column:21}},{start:{line:47,column:25},end:{line:47,column:56}}],line:47},"7":{loc:{start:{line:52,column:8},end:{line:54,column:9}},type:"if",locations:[{start:{line:52,column:8},end:{line:54,column:9}},{start:{line:52,column:8},end:{line:54,column:9}}],line:52},"8":{loc:{start:{line:59,column:8},end:{line:61,column:9}},type:"if",locations:[{start:{line:59,column:8},end:{line:61,column:9}},{start:{line:59,column:8},end:{line:61,column:9}}],line:59},"9":{loc:{start:{line:62,column:8},end:{line:64,column:9}},type:"if",locations:[{start:{line:62,column:8},end:{line:64,column:9}},{start:{line:62,column:8},end:{line:64,column:9}}],line:62},"10":{loc:{start:{line:65,column:8},end:{line:67,column:9}},type:"if",locations:[{start:{line:65,column:8},end:{line:67,column:9}},{start:{line:65,column:8},end:{line:67,column:9}}],line:65},"11":{loc:{start:{line:68,column:8},end:{line:71,column:9}},type:"if",locations:[{start:{line:68,column:8},end:{line:71,column:9}},{start:{line:68,column:8},end:{line:71,column:9}}],line:68},"12":{loc:{start:{line:68,column:12},end:{line:68,column:104}},type:"binary-expr",locations:[{start:{line:68,column:12},end:{line:68,column:57}},{start:{line:68,column:61},end:{line:68,column:104}}],line:68}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},inputSourceMap:{version:3,file:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/state/pokemon-card-list.ts",sources:["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/state/pokemon-card-list.ts"],names:[],mappings:"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",sourcesContent:["import { CardList } from './card-list';\nimport { Marker } from './card-marker';\nimport { SpecialCondition, Stage, SuperType } from '../card/card-types';\nimport { PokemonCard } from '../card/pokemon-card';\nimport { Card } from '../card/card';\n\nexport class PokemonCardList extends CardList {\n\n  public damage: number = 0;\n\n  public specialConditions: SpecialCondition[] = [];\n\n  public poisonDamage: number = 10;\n\n  public burnDamage: number = 20;\n\n  public marker = new Marker();\n\n  public pokemonPlayedTurn: number = 0;\n\n  // Some pokemon cards can be attached as a tool,\n  // we must remember, which card acts as a pokemon tool.\n  public tool: Card | undefined;\n\n  public getPokemons(): PokemonCard[] {\n    const result: PokemonCard[] = [];\n    for (const card of this.cards) {\n      if (card.superType === SuperType.POKEMON && card !== this.tool) {\n        result.push(card as PokemonCard);\n      }\n    }\n    return result;\n  }\n\n  public getPokemonCard(): PokemonCard | undefined {\n    const pokemons = this.getPokemons();\n    if (pokemons.length > 0) {\n      return pokemons[pokemons.length - 1];\n    }\n  }\n\n  public isBasic(): boolean {\n    const pokemons = this.getPokemons();\n    if (pokemons.length !== 1) {\n      return false;\n    }\n    return pokemons[0].stage === Stage.BASIC;\n  }\n\n  clearEffects(): void {\n    this.marker.markers = [];\n    this.specialConditions = [];\n    this.poisonDamage = 10;\n    this.burnDamage = 20;\n    if (this.cards.length === 0) {\n      this.damage = 0;\n    }\n    if (this.tool && !this.cards.includes(this.tool)) {\n      this.tool = undefined;\n    }\n  }\n\n  removeSpecialCondition(sp: SpecialCondition): void {\n    if (!this.specialConditions.includes(sp)) {\n      return;\n    }\n    this.specialConditions = this.specialConditions\n      .filter(s => s !== sp);\n  }\n\n  addSpecialCondition(sp: SpecialCondition): void {\n    if (sp === SpecialCondition.POISONED) {\n      this.poisonDamage = 10;\n    }\n    if (sp === SpecialCondition.BURNED) {\n      this.burnDamage = 20;\n    }\n    if (this.specialConditions.includes(sp)) {\n      return;\n    }\n    if (sp === SpecialCondition.POISONED || sp === SpecialCondition.BURNED) {\n      this.specialConditions.push(sp);\n      return;\n    }\n    this.specialConditions = this.specialConditions.filter(s => [\n      SpecialCondition.PARALYZED,\n      SpecialCondition.CONFUSED,\n      SpecialCondition.ASLEEP\n    ].includes(s) === false);\n    this.specialConditions.push(sp);\n  }\n\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9fd06d55d9560c166676eb318e3e2cdce9a38506"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2qvebc78r7=function(){return actualCoverage;};}return actualCoverage;}cov_2qvebc78r7();cov_2qvebc78r7().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_2qvebc78r7().s[1]++;exports.PokemonCardList=void 0;const card_list_1=(cov_2qvebc78r7().s[2]++,require("./card-list"));const card_marker_1=(cov_2qvebc78r7().s[3]++,require("./card-marker"));const card_types_1=(cov_2qvebc78r7().s[4]++,require("../card/card-types"));class PokemonCardList extends(card_list_1.CardList){constructor(){cov_2qvebc78r7().f[0]++;cov_2qvebc78r7().s[5]++;super(...arguments);cov_2qvebc78r7().s[6]++;this.damage=0;cov_2qvebc78r7().s[7]++;this.specialConditions=[];cov_2qvebc78r7().s[8]++;this.poisonDamage=10;cov_2qvebc78r7().s[9]++;this.burnDamage=20;cov_2qvebc78r7().s[10]++;this.marker=new card_marker_1.Marker();cov_2qvebc78r7().s[11]++;this.pokemonPlayedTurn=0;}getPokemons(){cov_2qvebc78r7().f[1]++;const result=(cov_2qvebc78r7().s[12]++,[]);cov_2qvebc78r7().s[13]++;for(const card of this.cards){cov_2qvebc78r7().s[14]++;if((cov_2qvebc78r7().b[1][0]++,card.superType===card_types_1.SuperType.POKEMON)&&(cov_2qvebc78r7().b[1][1]++,card!==this.tool)){cov_2qvebc78r7().b[0][0]++;cov_2qvebc78r7().s[15]++;result.push(card);}else{cov_2qvebc78r7().b[0][1]++;}}cov_2qvebc78r7().s[16]++;return result;}getPokemonCard(){cov_2qvebc78r7().f[2]++;const pokemons=(cov_2qvebc78r7().s[17]++,this.getPokemons());cov_2qvebc78r7().s[18]++;if(pokemons.length>0){cov_2qvebc78r7().b[2][0]++;cov_2qvebc78r7().s[19]++;return pokemons[pokemons.length-1];}else{cov_2qvebc78r7().b[2][1]++;}}isBasic(){cov_2qvebc78r7().f[3]++;const pokemons=(cov_2qvebc78r7().s[20]++,this.getPokemons());cov_2qvebc78r7().s[21]++;if(pokemons.length!==1){cov_2qvebc78r7().b[3][0]++;cov_2qvebc78r7().s[22]++;return false;}else{cov_2qvebc78r7().b[3][1]++;}cov_2qvebc78r7().s[23]++;return pokemons[0].stage===card_types_1.Stage.BASIC;}clearEffects(){cov_2qvebc78r7().f[4]++;cov_2qvebc78r7().s[24]++;this.marker.markers=[];cov_2qvebc78r7().s[25]++;this.specialConditions=[];cov_2qvebc78r7().s[26]++;this.poisonDamage=10;cov_2qvebc78r7().s[27]++;this.burnDamage=20;cov_2qvebc78r7().s[28]++;if(this.cards.length===0){cov_2qvebc78r7().b[4][0]++;cov_2qvebc78r7().s[29]++;this.damage=0;}else{cov_2qvebc78r7().b[4][1]++;}cov_2qvebc78r7().s[30]++;if((cov_2qvebc78r7().b[6][0]++,this.tool)&&(cov_2qvebc78r7().b[6][1]++,!this.cards.includes(this.tool))){cov_2qvebc78r7().b[5][0]++;cov_2qvebc78r7().s[31]++;this.tool=undefined;}else{cov_2qvebc78r7().b[5][1]++;}}removeSpecialCondition(sp){cov_2qvebc78r7().f[5]++;cov_2qvebc78r7().s[32]++;if(!this.specialConditions.includes(sp)){cov_2qvebc78r7().b[7][0]++;cov_2qvebc78r7().s[33]++;return;}else{cov_2qvebc78r7().b[7][1]++;}cov_2qvebc78r7().s[34]++;this.specialConditions=this.specialConditions.filter(s=>{cov_2qvebc78r7().f[6]++;cov_2qvebc78r7().s[35]++;return s!==sp;});}addSpecialCondition(sp){cov_2qvebc78r7().f[7]++;cov_2qvebc78r7().s[36]++;if(sp===card_types_1.SpecialCondition.POISONED){cov_2qvebc78r7().b[8][0]++;cov_2qvebc78r7().s[37]++;this.poisonDamage=10;}else{cov_2qvebc78r7().b[8][1]++;}cov_2qvebc78r7().s[38]++;if(sp===card_types_1.SpecialCondition.BURNED){cov_2qvebc78r7().b[9][0]++;cov_2qvebc78r7().s[39]++;this.burnDamage=20;}else{cov_2qvebc78r7().b[9][1]++;}cov_2qvebc78r7().s[40]++;if(this.specialConditions.includes(sp)){cov_2qvebc78r7().b[10][0]++;cov_2qvebc78r7().s[41]++;return;}else{cov_2qvebc78r7().b[10][1]++;}cov_2qvebc78r7().s[42]++;if((cov_2qvebc78r7().b[12][0]++,sp===card_types_1.SpecialCondition.POISONED)||(cov_2qvebc78r7().b[12][1]++,sp===card_types_1.SpecialCondition.BURNED)){cov_2qvebc78r7().b[11][0]++;cov_2qvebc78r7().s[43]++;this.specialConditions.push(sp);cov_2qvebc78r7().s[44]++;return;}else{cov_2qvebc78r7().b[11][1]++;}cov_2qvebc78r7().s[45]++;this.specialConditions=this.specialConditions.filter(s=>{cov_2qvebc78r7().f[8]++;cov_2qvebc78r7().s[46]++;return[card_types_1.SpecialCondition.PARALYZED,card_types_1.SpecialCondition.CONFUSED,card_types_1.SpecialCondition.ASLEEP].includes(s)===false;});cov_2qvebc78r7().s[47]++;this.specialConditions.push(sp);}}cov_2qvebc78r7().s[48]++;exports.PokemonCardList=PokemonCardList;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2pvZW15ZXJzY291Z2gvRG9jdW1lbnRzL0dpdEh1Yi9wdGNnLWVwc2QvcHRjZy1zZXJ2ZXIvc3JjL2dhbWUvc3RvcmUvc3RhdGUvcG9rZW1vbi1jYXJkLWxpc3QudHMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2VteWVyc2NvdWdoL0RvY3VtZW50cy9HaXRIdWIvcHRjZy1lcHNkL3B0Y2ctc2VydmVyL3NyYy9nYW1lL3N0b3JlL3N0YXRlL3Bva2Vtb24tY2FyZC1saXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDJDQUF1QztBQUN2QywrQ0FBdUM7QUFDdkMsbURBQXdFO0FBSXhFLE1BQWEsZUFBZ0IsU0FBUSxvQkFBUTtJQUE3Qzs7UUFFUyxXQUFNLEdBQVcsQ0FBQyxDQUFDO1FBRW5CLHNCQUFpQixHQUF1QixFQUFFLENBQUM7UUFFM0MsaUJBQVksR0FBVyxFQUFFLENBQUM7UUFFMUIsZUFBVSxHQUFXLEVBQUUsQ0FBQztRQUV4QixXQUFNLEdBQUcsSUFBSSxvQkFBTSxFQUFFLENBQUM7UUFFdEIsc0JBQWlCLEdBQVcsQ0FBQyxDQUFDO0lBMEV2QyxDQUFDO0lBcEVRLFdBQVc7UUFDaEIsTUFBTSxNQUFNLEdBQWtCLEVBQUUsQ0FBQztRQUNqQyxLQUFLLE1BQU0sSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDN0IsSUFBSSxJQUFJLENBQUMsU0FBUyxLQUFLLHNCQUFTLENBQUMsT0FBTyxJQUFJLElBQUksS0FBSyxJQUFJLENBQUMsSUFBSSxFQUFFO2dCQUM5RCxNQUFNLENBQUMsSUFBSSxDQUFDLElBQW1CLENBQUMsQ0FBQzthQUNsQztTQUNGO1FBQ0QsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQztJQUVNLGNBQWM7UUFDbkIsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ3BDLElBQUksUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDdkIsT0FBTyxRQUFRLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztTQUN0QztJQUNILENBQUM7SUFFTSxPQUFPO1FBQ1osTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ3BDLElBQUksUUFBUSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDekIsT0FBTyxLQUFLLENBQUM7U0FDZDtRQUNELE9BQU8sUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssS0FBSyxrQkFBSyxDQUFDLEtBQUssQ0FBQztJQUMzQyxDQUFDO0lBRUQsWUFBWTtRQUNWLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztRQUN6QixJQUFJLENBQUMsaUJBQWlCLEdBQUcsRUFBRSxDQUFDO1FBQzVCLElBQUksQ0FBQyxZQUFZLEdBQUcsRUFBRSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO1FBQ3JCLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQzNCLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1NBQ2pCO1FBQ0QsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ2hELElBQUksQ0FBQyxJQUFJLEdBQUcsU0FBUyxDQUFDO1NBQ3ZCO0lBQ0gsQ0FBQztJQUVELHNCQUFzQixDQUFDLEVBQW9CO1FBQ3pDLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxFQUFFO1lBQ3hDLE9BQU87U0FDUjtRQUNELElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsaUJBQWlCO2FBQzVDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBRUQsbUJBQW1CLENBQUMsRUFBb0I7UUFDdEMsSUFBSSxFQUFFLEtBQUssNkJBQWdCLENBQUMsUUFBUSxFQUFFO1lBQ3BDLElBQUksQ0FBQyxZQUFZLEdBQUcsRUFBRSxDQUFDO1NBQ3hCO1FBQ0QsSUFBSSxFQUFFLEtBQUssNkJBQWdCLENBQUMsTUFBTSxFQUFFO1lBQ2xDLElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO1NBQ3RCO1FBQ0QsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxFQUFFO1lBQ3ZDLE9BQU87U0FDUjtRQUNELElBQUksRUFBRSxLQUFLLDZCQUFnQixDQUFDLFFBQVEsSUFBSSxFQUFFLEtBQUssNkJBQWdCLENBQUMsTUFBTSxFQUFFO1lBQ3RFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDaEMsT0FBTztTQUNSO1FBQ0QsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUMxRCw2QkFBZ0IsQ0FBQyxTQUFTO1lBQzFCLDZCQUFnQixDQUFDLFFBQVE7WUFDekIsNkJBQWdCLENBQUMsTUFBTTtTQUN4QixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQztRQUN6QixJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ2xDLENBQUM7Q0FFRjtBQXRGRCwwQ0FzRkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDYXJkTGlzdCB9IGZyb20gJy4vY2FyZC1saXN0JztcbmltcG9ydCB7IE1hcmtlciB9IGZyb20gJy4vY2FyZC1tYXJrZXInO1xuaW1wb3J0IHsgU3BlY2lhbENvbmRpdGlvbiwgU3RhZ2UsIFN1cGVyVHlwZSB9IGZyb20gJy4uL2NhcmQvY2FyZC10eXBlcyc7XG5pbXBvcnQgeyBQb2tlbW9uQ2FyZCB9IGZyb20gJy4uL2NhcmQvcG9rZW1vbi1jYXJkJztcbmltcG9ydCB7IENhcmQgfSBmcm9tICcuLi9jYXJkL2NhcmQnO1xuXG5leHBvcnQgY2xhc3MgUG9rZW1vbkNhcmRMaXN0IGV4dGVuZHMgQ2FyZExpc3Qge1xuXG4gIHB1YmxpYyBkYW1hZ2U6IG51bWJlciA9IDA7XG5cbiAgcHVibGljIHNwZWNpYWxDb25kaXRpb25zOiBTcGVjaWFsQ29uZGl0aW9uW10gPSBbXTtcblxuICBwdWJsaWMgcG9pc29uRGFtYWdlOiBudW1iZXIgPSAxMDtcblxuICBwdWJsaWMgYnVybkRhbWFnZTogbnVtYmVyID0gMjA7XG5cbiAgcHVibGljIG1hcmtlciA9IG5ldyBNYXJrZXIoKTtcblxuICBwdWJsaWMgcG9rZW1vblBsYXllZFR1cm46IG51bWJlciA9IDA7XG5cbiAgLy8gU29tZSBwb2tlbW9uIGNhcmRzIGNhbiBiZSBhdHRhY2hlZCBhcyBhIHRvb2wsXG4gIC8vIHdlIG11c3QgcmVtZW1iZXIsIHdoaWNoIGNhcmQgYWN0cyBhcyBhIHBva2Vtb24gdG9vbC5cbiAgcHVibGljIHRvb2w6IENhcmQgfCB1bmRlZmluZWQ7XG5cbiAgcHVibGljIGdldFBva2Vtb25zKCk6IFBva2Vtb25DYXJkW10ge1xuICAgIGNvbnN0IHJlc3VsdDogUG9rZW1vbkNhcmRbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgY2FyZCBvZiB0aGlzLmNhcmRzKSB7XG4gICAgICBpZiAoY2FyZC5zdXBlclR5cGUgPT09IFN1cGVyVHlwZS5QT0tFTU9OICYmIGNhcmQgIT09IHRoaXMudG9vbCkge1xuICAgICAgICByZXN1bHQucHVzaChjYXJkIGFzIFBva2Vtb25DYXJkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRQb2tlbW9uQ2FyZCgpOiBQb2tlbW9uQ2FyZCB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgcG9rZW1vbnMgPSB0aGlzLmdldFBva2Vtb25zKCk7XG4gICAgaWYgKHBva2Vtb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBwb2tlbW9uc1twb2tlbW9ucy5sZW5ndGggLSAxXTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgaXNCYXNpYygpOiBib29sZWFuIHtcbiAgICBjb25zdCBwb2tlbW9ucyA9IHRoaXMuZ2V0UG9rZW1vbnMoKTtcbiAgICBpZiAocG9rZW1vbnMubGVuZ3RoICE9PSAxKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBwb2tlbW9uc1swXS5zdGFnZSA9PT0gU3RhZ2UuQkFTSUM7XG4gIH1cblxuICBjbGVhckVmZmVjdHMoKTogdm9pZCB7XG4gICAgdGhpcy5tYXJrZXIubWFya2VycyA9IFtdO1xuICAgIHRoaXMuc3BlY2lhbENvbmRpdGlvbnMgPSBbXTtcbiAgICB0aGlzLnBvaXNvbkRhbWFnZSA9IDEwO1xuICAgIHRoaXMuYnVybkRhbWFnZSA9IDIwO1xuICAgIGlmICh0aGlzLmNhcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5kYW1hZ2UgPSAwO1xuICAgIH1cbiAgICBpZiAodGhpcy50b29sICYmICF0aGlzLmNhcmRzLmluY2x1ZGVzKHRoaXMudG9vbCkpIHtcbiAgICAgIHRoaXMudG9vbCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICByZW1vdmVTcGVjaWFsQ29uZGl0aW9uKHNwOiBTcGVjaWFsQ29uZGl0aW9uKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnNwZWNpYWxDb25kaXRpb25zLmluY2x1ZGVzKHNwKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNwZWNpYWxDb25kaXRpb25zID0gdGhpcy5zcGVjaWFsQ29uZGl0aW9uc1xuICAgICAgLmZpbHRlcihzID0+IHMgIT09IHNwKTtcbiAgfVxuXG4gIGFkZFNwZWNpYWxDb25kaXRpb24oc3A6IFNwZWNpYWxDb25kaXRpb24pOiB2b2lkIHtcbiAgICBpZiAoc3AgPT09IFNwZWNpYWxDb25kaXRpb24uUE9JU09ORUQpIHtcbiAgICAgIHRoaXMucG9pc29uRGFtYWdlID0gMTA7XG4gICAgfVxuICAgIGlmIChzcCA9PT0gU3BlY2lhbENvbmRpdGlvbi5CVVJORUQpIHtcbiAgICAgIHRoaXMuYnVybkRhbWFnZSA9IDIwO1xuICAgIH1cbiAgICBpZiAodGhpcy5zcGVjaWFsQ29uZGl0aW9ucy5pbmNsdWRlcyhzcCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNwID09PSBTcGVjaWFsQ29uZGl0aW9uLlBPSVNPTkVEIHx8IHNwID09PSBTcGVjaWFsQ29uZGl0aW9uLkJVUk5FRCkge1xuICAgICAgdGhpcy5zcGVjaWFsQ29uZGl0aW9ucy5wdXNoKHNwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zcGVjaWFsQ29uZGl0aW9ucyA9IHRoaXMuc3BlY2lhbENvbmRpdGlvbnMuZmlsdGVyKHMgPT4gW1xuICAgICAgU3BlY2lhbENvbmRpdGlvbi5QQVJBTFlaRUQsXG4gICAgICBTcGVjaWFsQ29uZGl0aW9uLkNPTkZVU0VELFxuICAgICAgU3BlY2lhbENvbmRpdGlvbi5BU0xFRVBcbiAgICBdLmluY2x1ZGVzKHMpID09PSBmYWxzZSk7XG4gICAgdGhpcy5zcGVjaWFsQ29uZGl0aW9ucy5wdXNoKHNwKTtcbiAgfVxuXG59XG4iXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2VteWVyc2NvdWdoL0RvY3VtZW50cy9HaXRIdWIvcHRjZy1lcHNkL3B0Y2ctc2VydmVyL3NyYy9nYW1lL3N0b3JlL3N0YXRlL3Bva2Vtb24tY2FyZC1saXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJraFpBNEZDO21PQTVGRCxLQUFBLENBQUEsV0FBQSwwQkFBQSxPQUFBLENBQUEsYUFBQSxDQUFBLENBQUEsQ0FDQSxLQUFBLENBQUEsYUFBQSwwQkFBQSxPQUFBLENBQUEsZUFBQSxDQUFBLENBQUEsQ0FDQSxLQUFBLENBQUEsWUFBQSwwQkFBQSxPQUFBLENBQUEsb0JBQUEsQ0FBQSxDQUFBLENBSUEsS0FBYSxDQUFBLGVBQWIsU0FBcUMsV0FBQSxDQUFBLFFBQXJDLENBQTZDLENBQTdDLFdBQUEsRUFBQSxpRCxvQkFBQSx3QkFFUyxLQUFBLE1BQUEsQ0FBaUIsQ0FBakIsQ0FGVCx3QkFJUyxLQUFBLGlCQUFBLENBQXdDLEVBQXhDLENBSlQsd0JBTVMsS0FBQSxZQUFBLENBQXVCLEVBQXZCLENBTlQsd0JBUVMsS0FBQSxVQUFBLENBQXFCLEVBQXJCLENBUlQseUJBVVMsS0FBQSxNQUFBLENBQVMsR0FBSSxDQUFBLGFBQUEsQ0FBQSxNQUFKLEVBQVQsQ0FWVCx5QkFZUyxLQUFBLGlCQUFBLENBQTRCLENBQTVCLENBMEVSLENBcEVRLFdBQVcsRUFBQSx5QkFDaEIsS0FBTSxDQUFBLE1BQU0sMkJBQWtCLEVBQWxCLENBQVosQ0FEZ0IseUJBRWhCLElBQUssS0FBTSxDQUFBLElBQVgsR0FBbUIsTUFBSyxLQUF4QixDQUErQiwwQkFDN0IsR0FBSSw0QkFBQSxJQUFJLENBQUMsU0FBTCxHQUFtQixZQUFBLENBQUEsU0FBQSxDQUFVLE9BQTdCLCtCQUF3QyxJQUFJLEdBQUssS0FBSyxJQUF0RCxDQUFKLENBQWdFLHFEQUM5RCxNQUFNLENBQUMsSUFBUCxDQUFZLElBQVosRUFDRCxDQUZELGlDQUdELENBTmUseUJBT2hCLE1BQU8sQ0FBQSxN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QXBGMEMsQyx5QkFBN0MsT0FBQSxDQUFBLGVBQUEsQ0FBQSxlQUFBLEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDYXJkTGlzdCB9IGZyb20gJy4vY2FyZC1saXN0JztcbmltcG9ydCB7IE1hcmtlciB9IGZyb20gJy4vY2FyZC1tYXJrZXInO1xuaW1wb3J0IHsgU3BlY2lhbENvbmRpdGlvbiwgU3RhZ2UsIFN1cGVyVHlwZSB9IGZyb20gJy4uL2NhcmQvY2FyZC10eXBlcyc7XG5pbXBvcnQgeyBQb2tlbW9uQ2FyZCB9IGZyb20gJy4uL2NhcmQvcG9rZW1vbi1jYXJkJztcbmltcG9ydCB7IENhcmQgfSBmcm9tICcuLi9jYXJkL2NhcmQnO1xuXG5leHBvcnQgY2xhc3MgUG9rZW1vbkNhcmRMaXN0IGV4dGVuZHMgQ2FyZExpc3Qge1xuXG4gIHB1YmxpYyBkYW1hZ2U6IG51bWJlciA9IDA7XG5cbiAgcHVibGljIHNwZWNpYWxDb25kaXRpb25zOiBTcGVjaWFsQ29uZGl0aW9uW10gPSBbXTtcblxuICBwdWJsaWMgcG9pc29uRGFtYWdlOiBudW1iZXIgPSAxMDtcblxuICBwdWJsaWMgYnVybkRhbWFnZTogbnVtYmVyID0gMjA7XG5cbiAgcHVibGljIG1hcmtlciA9IG5ldyBNYXJrZXIoKTtcblxuICBwdWJsaWMgcG9rZW1vblBsYXllZFR1cm46IG51bWJlciA9IDA7XG5cbiAgLy8gU29tZSBwb2tlbW9uIGNhcmRzIGNhbiBiZSBhdHRhY2hlZCBhcyBhIHRvb2wsXG4gIC8vIHdlIG11c3QgcmVtZW1iZXIsIHdoaWNoIGNhcmQgYWN0cyBhcyBhIHBva2Vtb24gdG9vbC5cbiAgcHVibGljIHRvb2w6IENhcmQgfCB1bmRlZmluZWQ7XG5cbiAgcHVibGljIGdldFBva2Vtb25zKCk6IFBva2Vtb25DYXJkW10ge1xuICAgIGNvbnN0IHJlc3VsdDogUG9rZW1vbkNhcmRbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgY2FyZCBvZiB0aGlzLmNhcmRzKSB7XG4gICAgICBpZiAoY2FyZC5zdXBlclR5cGUgPT09IFN1cGVyVHlwZS5QT0tFTU9OICYmIGNhcmQgIT09IHRoaXMudG9vbCkge1xuICAgICAgICByZXN1bHQucHVzaChjYXJkIGFzIFBva2Vtb25DYXJkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRQb2tlbW9uQ2FyZCgpOiBQb2tlbW9uQ2FyZCB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgcG9rZW1vbnMgPSB0aGlzLmdldFBva2Vtb25zKCk7XG4gICAgaWYgKHBva2Vtb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBwb2tlbW9uc1twb2tlbW9ucy5sZW5ndGggLSAxXTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgaXNCYXNpYygpOiBib29sZWFuIHtcbiAgICBjb25zdCBwb2tlbW9ucyA9IHRoaXMuZ2V0UG9rZW1vbnMoKTtcbiAgICBpZiAocG9rZW1vbnMubGVuZ3RoICE9PSAxKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBwb2tlbW9uc1swXS5zdGFnZSA9PT0gU3RhZ2UuQkFTSUM7XG4gIH1cblxuICBjbGVhckVmZmVjdHMoKTogdm9pZCB7XG4gICAgdGhpcy5tYXJrZXIubWFya2VycyA9IFtdO1xuICAgIHRoaXMuc3BlY2lhbENvbmRpdGlvbnMgPSBbXTtcbiAgICB0aGlzLnBvaXNvbkRhbWFnZSA9IDEwO1xuICAgIHRoaXMuYnVybkRhbWFnZSA9IDIwO1xuICAgIGlmICh0aGlzLmNhcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5kYW1hZ2UgPSAwO1xuICAgIH1cbiAgICBpZiAodGhpcy50b29sICYmICF0aGlzLmNhcmRzLmluY2x1ZGVzKHRoaXMudG9vbCkpIHtcbiAgICAgIHRoaXMudG9vbCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICByZW1vdmVTcGVjaWFsQ29uZGl0aW9uKHNwOiBTcGVjaWFsQ29uZGl0aW9uKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnNwZWNpYWxDb25kaXRpb25zLmluY2x1ZGVzKHNwKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNwZWNpYWxDb25kaXRpb25zID0gdGhpcy5zcGVjaWFsQ29uZGl0aW9uc1xuICAgICAgLmZpbHRlcihzID0+IHMgIT09IHNwKTtcbiAgfVxuXG4gIGFkZFNwZWNpYWxDb25kaXRpb24oc3A6IFNwZWNpYWxDb25kaXRpb24pOiB2b2lkIHtcbiAgICBpZiAoc3AgPT09IFNwZWNpYWxDb25kaXRpb24uUE9JU09ORUQpIHtcbiAgICAgIHRoaXMucG9pc29uRGFtYWdlID0gMTA7XG4gICAgfVxuICAgIGlmIChzcCA9PT0gU3BlY2lhbENvbmRpdGlvbi5CVVJORUQpIHtcbiAgICAgIHRoaXMuYnVybkRhbWFnZSA9IDIwO1xuICAgIH1cbiAgICBpZiAodGhpcy5zcGVjaWFsQ29uZGl0aW9ucy5pbmNsdWRlcyhzcCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNwID09PSBTcGVjaWFsQ29uZGl0aW9uLlBPSVNPTkVEIHx8IHNwID09PSBTcGVjaWFsQ29uZGl0aW9uLkJVUk5FRCkge1xuICAgICAgdGhpcy5zcGVjaWFsQ29uZGl0aW9ucy5wdXNoKHNwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zcGVjaWFsQ29uZGl0aW9ucyA9IHRoaXMuc3BlY2lhbENvbmRpdGlvbnMuZmlsdGVyKHMgPT4gW1xuICAgICAgU3BlY2lhbENvbmRpdGlvbi5QQVJBTFlaRUQsXG4gICAgICBTcGVjaWFsQ29uZGl0aW9uLkNPTkZVU0VELFxuICAgICAgU3BlY2lhbENvbmRpdGlvbi5BU0xFRVBcbiAgICBdLmluY2x1ZGVzKHMpID09PSBmYWxzZSk7XG4gICAgdGhpcy5zcGVjaWFsQ29uZGl0aW9ucy5wdXNoKHNwKTtcbiAgfVxuXG59XG4iXX0=