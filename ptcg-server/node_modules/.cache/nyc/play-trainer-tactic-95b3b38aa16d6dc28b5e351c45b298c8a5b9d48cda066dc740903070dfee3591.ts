"use strict";function cov_7qbgcxtjs(){var path="/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/simple-tactics/play-trainer-tactic.ts";var hash="58fa70da253fe65b2aba1fec46d665f652aee786";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/simple-tactics/play-trainer-tactic.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:35}},"2":{start:{line:4,column:15},end:{line:4,column:36}},"3":{start:{line:5,column:25},end:{line:5,column:52}},"4":{start:{line:8,column:25},end:{line:10,column:10}},"5":{start:{line:9,column:12},end:{line:9,column:96}},"6":{start:{line:11,column:8},end:{line:13,column:9}},"7":{start:{line:12,column:12},end:{line:12,column:19}},"8":{start:{line:14,column:23},end:{line:14,column:95}},"9":{start:{line:15,column:24},end:{line:15,column:60}},"10":{start:{line:17,column:8},end:{line:25,column:11}},"11":{start:{line:18,column:26},end:{line:18,column:57}},"12":{start:{line:19,column:27},end:{line:19,column:78}},"13":{start:{line:20,column:26},end:{line:20,column:71}},"14":{start:{line:21,column:12},end:{line:24,column:13}},"15":{start:{line:22,column:16},end:{line:22,column:34}},"16":{start:{line:23,column:16},end:{line:23,column:40}},"17":{start:{line:26,column:8},end:{line:26,column:30}},"18":{start:{line:29,column:0},end:{line:29,column:46}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:29},end:{line:27,column:5}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:8,column:50},end:{line:8,column:51}},loc:{start:{line:8,column:55},end:{line:10,column:9}},line:8},"2":{name:"(anonymous_2)",decl:{start:{line:17,column:25},end:{line:17,column:26}},loc:{start:{line:17,column:33},end:{line:25,column:9}},line:17}},branchMap:{"0":{loc:{start:{line:9,column:19},end:{line:9,column:95}},type:"binary-expr",locations:[{start:{line:9,column:19},end:{line:9,column:50}},{start:{line:9,column:54},end:{line:9,column:95}}],line:9},"1":{loc:{start:{line:11,column:8},end:{line:13,column:9}},type:"if",locations:[{start:{line:11,column:8},end:{line:13,column:9}},{start:{line:11,column:8},end:{line:13,column:9}}],line:11},"2":{loc:{start:{line:21,column:12},end:{line:24,column:13}},type:"if",locations:[{start:{line:21,column:12},end:{line:24,column:13}},{start:{line:21,column:12},end:{line:24,column:13}}],line:21},"3":{loc:{start:{line:21,column:16},end:{line:21,column:56}},type:"binary-expr",locations:[{start:{line:21,column:16},end:{line:21,column:35}},{start:{line:21,column:39},end:{line:21,column:56}}],line:21}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},inputSourceMap:{version:3,file:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/simple-tactics/play-trainer-tactic.ts",sources:["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/simple-tactics/play-trainer-tactic.ts"],names:[],mappings:";;;AAAA,qCAC2C;AAC3C,qDAAgD;AAEhD,MAAa,iBAAkB,SAAQ,6BAAY;IAE1C,SAAS,CAAC,KAAY,EAAE,MAAc;QAC3C,MAAM,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;YAC5C,OAAO,CAAC,YAAY,kBAAW,IAAI,CAAC,CAAC,WAAW,KAAK,kBAAW,CAAC,IAAI,CAAC;QACxE,CAAC,CAAC,CAAC;QAEH,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;YACzB,OAAO;SACR;QAED,MAAM,MAAM,GAAG,EAAE,MAAM,EAAE,iBAAU,CAAC,GAAG,EAAE,IAAI,EAAE,eAAQ,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;QAC1E,IAAI,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC;QACrD,IAAI,cAA0C,CAAC;QAE/C,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACtB,MAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YAC9C,MAAM,MAAM,GAAG,IAAI,qBAAc,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;YAC5D,MAAM,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;YAE5D,IAAI,KAAK,KAAK,SAAS,IAAI,SAAS,GAAG,KAAK,EAAE;gBAC5C,SAAS,GAAG,KAAK,CAAC;gBAClB,cAAc,GAAG,MAAM,CAAC;aACzB;QACH,CAAC,CAAC,CAAC;QAEH,OAAO,cAAc,CAAC;IACxB,CAAC;CAEF;AA7BD,8CA6BC",sourcesContent:["import { Action, Player, State, TrainerCard, TrainerType, PlayCardAction,\n  PlayerType, SlotType } from '../../game';\nimport { SimpleTactic } from './simple-tactics';\n\nexport class PlayTrainerTactic extends SimpleTactic {\n\n  public useTactic(state: State, player: Player): Action | undefined {\n    const trainers = player.hand.cards.filter(c => {\n      return c instanceof TrainerCard && c.trainerType === TrainerType.ITEM;\n    });\n\n    if (trainers.length === 0) {\n      return;\n    }\n\n    const target = { player: PlayerType.ANY, slot: SlotType.BOARD, index: 0 };\n    let bestScore = this.getStateScore(state, player.id);\n    let playCardAction: PlayCardAction | undefined;\n\n    trainers.forEach(card => {\n      const index = player.hand.cards.indexOf(card);\n      const action = new PlayCardAction(player.id, index, target);\n      const score = this.evaluateAction(state, player.id, action);\n\n      if (score !== undefined && bestScore < score) {\n        bestScore = score;\n        playCardAction = action;\n      }\n    });\n\n    return playCardAction;\n  }\n\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"58fa70da253fe65b2aba1fec46d665f652aee786"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_7qbgcxtjs=function(){return actualCoverage;};}return actualCoverage;}cov_7qbgcxtjs();cov_7qbgcxtjs().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_7qbgcxtjs().s[1]++;exports.PlayTrainerTactic=void 0;const game_1=(cov_7qbgcxtjs().s[2]++,require("../../game"));const simple_tactics_1=(cov_7qbgcxtjs().s[3]++,require("./simple-tactics"));class PlayTrainerTactic extends(simple_tactics_1.SimpleTactic){useTactic(state,player){cov_7qbgcxtjs().f[0]++;const trainers=(cov_7qbgcxtjs().s[4]++,player.hand.cards.filter(c=>{cov_7qbgcxtjs().f[1]++;cov_7qbgcxtjs().s[5]++;return(cov_7qbgcxtjs().b[0][0]++,c instanceof game_1.TrainerCard)&&(cov_7qbgcxtjs().b[0][1]++,c.trainerType===game_1.TrainerType.ITEM);}));cov_7qbgcxtjs().s[6]++;if(trainers.length===0){cov_7qbgcxtjs().b[1][0]++;cov_7qbgcxtjs().s[7]++;return;}else{cov_7qbgcxtjs().b[1][1]++;}const target=(cov_7qbgcxtjs().s[8]++,{player:game_1.PlayerType.ANY,slot:game_1.SlotType.BOARD,index:0});let bestScore=(cov_7qbgcxtjs().s[9]++,this.getStateScore(state,player.id));let playCardAction;cov_7qbgcxtjs().s[10]++;trainers.forEach(card=>{cov_7qbgcxtjs().f[2]++;const index=(cov_7qbgcxtjs().s[11]++,player.hand.cards.indexOf(card));const action=(cov_7qbgcxtjs().s[12]++,new game_1.PlayCardAction(player.id,index,target));const score=(cov_7qbgcxtjs().s[13]++,this.evaluateAction(state,player.id,action));cov_7qbgcxtjs().s[14]++;if((cov_7qbgcxtjs().b[3][0]++,score!==undefined)&&(cov_7qbgcxtjs().b[3][1]++,bestScore<score)){cov_7qbgcxtjs().b[2][0]++;cov_7qbgcxtjs().s[15]++;bestScore=score;cov_7qbgcxtjs().s[16]++;playCardAction=action;}else{cov_7qbgcxtjs().b[2][1]++;}});cov_7qbgcxtjs().s[17]++;return playCardAction;}}cov_7qbgcxtjs().s[18]++;exports.PlayTrainerTactic=PlayTrainerTactic;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2pvZW15ZXJzY291Z2gvRG9jdW1lbnRzL0dpdEh1Yi9wdGNnLWVwc2QvcHRjZy1zZXJ2ZXIvc3JjL3NpbXBsZS1ib3Qvc2ltcGxlLXRhY3RpY3MvcGxheS10cmFpbmVyLXRhY3RpYy50cyIsInNvdXJjZXMiOlsiL1VzZXJzL2pvZW15ZXJzY291Z2gvRG9jdW1lbnRzL0dpdEh1Yi9wdGNnLWVwc2QvcHRjZy1zZXJ2ZXIvc3JjL3NpbXBsZS1ib3Qvc2ltcGxlLXRhY3RpY3MvcGxheS10cmFpbmVyLXRhY3RpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxxQ0FDMkM7QUFDM0MscURBQWdEO0FBRWhELE1BQWEsaUJBQWtCLFNBQVEsNkJBQVk7SUFFMUMsU0FBUyxDQUFDLEtBQVksRUFBRSxNQUFjO1FBQzNDLE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUM1QyxPQUFPLENBQUMsWUFBWSxrQkFBVyxJQUFJLENBQUMsQ0FBQyxXQUFXLEtBQUssa0JBQVcsQ0FBQyxJQUFJLENBQUM7UUFDeEUsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLFFBQVEsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ3pCLE9BQU87U0FDUjtRQUVELE1BQU0sTUFBTSxHQUFHLEVBQUUsTUFBTSxFQUFFLGlCQUFVLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxlQUFRLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQztRQUMxRSxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDckQsSUFBSSxjQUEwQyxDQUFDO1FBRS9DLFFBQVEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDdEIsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzlDLE1BQU0sTUFBTSxHQUFHLElBQUkscUJBQWMsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztZQUM1RCxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBRTVELElBQUksS0FBSyxLQUFLLFNBQVMsSUFBSSxTQUFTLEdBQUcsS0FBSyxFQUFFO2dCQUM1QyxTQUFTLEdBQUcsS0FBSyxDQUFDO2dCQUNsQixjQUFjLEdBQUcsTUFBTSxDQUFDO2FBQ3pCO1FBQ0gsQ0FBQyxDQUFDLENBQUM7UUFFSCxPQUFPLGNBQWMsQ0FBQztJQUN4QixDQUFDO0NBRUY7QUE3QkQsOENBNkJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWN0aW9uLCBQbGF5ZXIsIFN0YXRlLCBUcmFpbmVyQ2FyZCwgVHJhaW5lclR5cGUsIFBsYXlDYXJkQWN0aW9uLFxuICBQbGF5ZXJUeXBlLCBTbG90VHlwZSB9IGZyb20gJy4uLy4uL2dhbWUnO1xuaW1wb3J0IHsgU2ltcGxlVGFjdGljIH0gZnJvbSAnLi9zaW1wbGUtdGFjdGljcyc7XG5cbmV4cG9ydCBjbGFzcyBQbGF5VHJhaW5lclRhY3RpYyBleHRlbmRzIFNpbXBsZVRhY3RpYyB7XG5cbiAgcHVibGljIHVzZVRhY3RpYyhzdGF0ZTogU3RhdGUsIHBsYXllcjogUGxheWVyKTogQWN0aW9uIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCB0cmFpbmVycyA9IHBsYXllci5oYW5kLmNhcmRzLmZpbHRlcihjID0+IHtcbiAgICAgIHJldHVybiBjIGluc3RhbmNlb2YgVHJhaW5lckNhcmQgJiYgYy50cmFpbmVyVHlwZSA9PT0gVHJhaW5lclR5cGUuSVRFTTtcbiAgICB9KTtcblxuICAgIGlmICh0cmFpbmVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB0YXJnZXQgPSB7IHBsYXllcjogUGxheWVyVHlwZS5BTlksIHNsb3Q6IFNsb3RUeXBlLkJPQVJELCBpbmRleDogMCB9O1xuICAgIGxldCBiZXN0U2NvcmUgPSB0aGlzLmdldFN0YXRlU2NvcmUoc3RhdGUsIHBsYXllci5pZCk7XG4gICAgbGV0IHBsYXlDYXJkQWN0aW9uOiBQbGF5Q2FyZEFjdGlvbiB8IHVuZGVmaW5lZDtcblxuICAgIHRyYWluZXJzLmZvckVhY2goY2FyZCA9PiB7XG4gICAgICBjb25zdCBpbmRleCA9IHBsYXllci5oYW5kLmNhcmRzLmluZGV4T2YoY2FyZCk7XG4gICAgICBjb25zdCBhY3Rpb24gPSBuZXcgUGxheUNhcmRBY3Rpb24ocGxheWVyLmlkLCBpbmRleCwgdGFyZ2V0KTtcbiAgICAgIGNvbnN0IHNjb3JlID0gdGhpcy5ldmFsdWF0ZUFjdGlvbihzdGF0ZSwgcGxheWVyLmlkLCBhY3Rpb24pO1xuXG4gICAgICBpZiAoc2NvcmUgIT09IHVuZGVmaW5lZCAmJiBiZXN0U2NvcmUgPCBzY29yZSkge1xuICAgICAgICBiZXN0U2NvcmUgPSBzY29yZTtcbiAgICAgICAgcGxheUNhcmRBY3Rpb24gPSBhY3Rpb247XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcGxheUNhcmRBY3Rpb247XG4gIH1cblxufVxuIl19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2VteWVyc2NvdWdoL0RvY3VtZW50cy9HaXRIdWIvcHRjZy1lcHNkL3B0Y2ctc2VydmVyL3NyYy9zaW1wbGUtYm90L3NpbXBsZS10YWN0aWNzL3BsYXktdHJhaW5lci10YWN0aWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ink4S0FpQlE7aU9BakJSLEtBQUEsQ0FBQSxNQUFBLHlCQUFBLE9BQUEsQ0FBQSxZQUFBLENBQUEsQ0FBQSxDQUVBLEtBQUEsQ0FBQSxnQkFBQSx5QkFBQSxPQUFBLENBQUEsa0JBQUEsQ0FBQSxDQUFBLENBRUEsS0FBYSxDQUFBLGlCQUFiLFNBQXVDLGdCQUFBLENBQUEsWUFBdkMsQ0FBbUQsQ0FFMUMsU0FBUyxDQUFDLEtBQUQsQ0FBZSxNQUFmLENBQTZCLHdCQUMzQyxLQUFNLENBQUEsUUFBUSx5QkFBRyxNQUFNLENBQUMsSUFBUCxDQUFZLEtBQVosQ0FBa0IsTUFBbEIsQ0FBeUIsQ0FBQyxFQUFHLCtDQUM1QyxNQUFPLDJCQUFBLENBQUMsV0FBWSxDQUFBLE1BQUEsQ0FBQSxXQUFiLDhCQUE0QixDQUFDLENBQUMsV0FBRixHQUFrQixNQUFBLENBQUEsV0FBQSxDQUFZLElBQTFELENBQVAsQ0FDRCxDQUZnQixDQUFILENBQWQsQ0FEMkMsdUJBSzNDLEdBQUksUUFBUSxDQUFDLE1BQVQsR0FBb0IsQ0FBeEIsQ0FBMkIsa0RBQ3pCLE9BQ0QsQ0FGRCxnQ0FJQSxLQUFNLENBQUEsTUFBTSx5QkFBRyxDQUFFLE1BQU0sQ0FBRSxNQUFBLENBQUEsVUFBQSxDQUFXLEdBQXJCLENBQTBCLElBQUksQ0FBRSxNQUFBLENBQUEsUUFBQSxDQUFTLEtBQXpDLENBQWdELEtBQUssQ0FBRSxDQUF2RCxDQUFILENBQVosQ0FDQSxHQUFJLENBQUEsU0FBUyx5QkFBRyxLQUFLLGFBQUwsQ0FBbUIsS0FBbkIsQ0FBMEIsTUFBTSxDQUFDLEVBQWpDLENBQUgsQ0FBYixDQUNBLEdBQUksQ0FBQSxjQUFKLENBWDJDLHdCQWEzQyxRQUFRLENBQUMsT0FBVCxDQUFpQixJQUFJLEVBQUcsd0JBQ3RCLEtBQU0sQ0FBQSxLQUFLLDBCQUFHLE1BQU0sQ0FBQyxJQUFQLENBQVksS0FBWixDQUFrQixPQUFsQixDQUEwQixJQUExQixDQUFILENBQVgsQ0FDQSxLQUFNLENBQUEsTUFBTSwwQkFBRyxHQUFJLENBQUEsTUFBQSxDQUFBLGNBQUosQ0FBbUIsTUFBTSxDQUFDLEVBQTFCLENBQThCLEtBQTlCLENBQXFDLE1BQXJDLENBQUgsQ0FBWixDQUNBLEtBQU0sQ0FBQSxLQUFLLDBCQUFHLEtBQUssY0FBTCxDQUFvQixLQUFwQixDQUEyQixNQUFNLENBQUMsRUFBbEMsQ0FBc0MsTUFBdEMsQ0FBSCxDQUFYLENBSHNCLHdCQUt0QixHQUFJLDJCQUFBLEtBQUssR0FBSyxTQUFWLDhCQUF1QixTQUFTLENBQUcsS0FBbkMsQ0FBSixDQUE4QyxtREFDNUMsU0FBUyxDQUFHLEtBQVosQ0FENEMsd0JBRTVDLGNBQWMsQ0FBRyxNQUFqQixDQUNELENBSEQsZ0NBSUQsQ0FURCxFQWIyQyx3QkF3QjNDLE1BQU8sQ0FBQSxjQUFQLENBQ0QsQ0EzQmdELEMsd0JBQW5ELE9BQUEsQ0FBQSxpQkFBQSxDQUFBLGlCQUFBLEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3Rpb24sIFBsYXllciwgU3RhdGUsIFRyYWluZXJDYXJkLCBUcmFpbmVyVHlwZSwgUGxheUNhcmRBY3Rpb24sXG4gIFBsYXllclR5cGUsIFNsb3RUeXBlIH0gZnJvbSAnLi4vLi4vZ2FtZSc7XG5pbXBvcnQgeyBTaW1wbGVUYWN0aWMgfSBmcm9tICcuL3NpbXBsZS10YWN0aWNzJztcblxuZXhwb3J0IGNsYXNzIFBsYXlUcmFpbmVyVGFjdGljIGV4dGVuZHMgU2ltcGxlVGFjdGljIHtcblxuICBwdWJsaWMgdXNlVGFjdGljKHN0YXRlOiBTdGF0ZSwgcGxheWVyOiBQbGF5ZXIpOiBBY3Rpb24gfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IHRyYWluZXJzID0gcGxheWVyLmhhbmQuY2FyZHMuZmlsdGVyKGMgPT4ge1xuICAgICAgcmV0dXJuIGMgaW5zdGFuY2VvZiBUcmFpbmVyQ2FyZCAmJiBjLnRyYWluZXJUeXBlID09PSBUcmFpbmVyVHlwZS5JVEVNO1xuICAgIH0pO1xuXG4gICAgaWYgKHRyYWluZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRhcmdldCA9IHsgcGxheWVyOiBQbGF5ZXJUeXBlLkFOWSwgc2xvdDogU2xvdFR5cGUuQk9BUkQsIGluZGV4OiAwIH07XG4gICAgbGV0IGJlc3RTY29yZSA9IHRoaXMuZ2V0U3RhdGVTY29yZShzdGF0ZSwgcGxheWVyLmlkKTtcbiAgICBsZXQgcGxheUNhcmRBY3Rpb246IFBsYXlDYXJkQWN0aW9uIHwgdW5kZWZpbmVkO1xuXG4gICAgdHJhaW5lcnMuZm9yRWFjaChjYXJkID0+IHtcbiAgICAgIGNvbnN0IGluZGV4ID0gcGxheWVyLmhhbmQuY2FyZHMuaW5kZXhPZihjYXJkKTtcbiAgICAgIGNvbnN0IGFjdGlvbiA9IG5ldyBQbGF5Q2FyZEFjdGlvbihwbGF5ZXIuaWQsIGluZGV4LCB0YXJnZXQpO1xuICAgICAgY29uc3Qgc2NvcmUgPSB0aGlzLmV2YWx1YXRlQWN0aW9uKHN0YXRlLCBwbGF5ZXIuaWQsIGFjdGlvbik7XG5cbiAgICAgIGlmIChzY29yZSAhPT0gdW5kZWZpbmVkICYmIGJlc3RTY29yZSA8IHNjb3JlKSB7XG4gICAgICAgIGJlc3RTY29yZSA9IHNjb3JlO1xuICAgICAgICBwbGF5Q2FyZEFjdGlvbiA9IGFjdGlvbjtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBwbGF5Q2FyZEFjdGlvbjtcbiAgfVxuXG59XG4iXX0=