{"version":3,"file":"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/effects/game-effects.ts","sources":["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/effects/game-effects.ts"],"names":[],"mappings":"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","sourcesContent":["import { Attack, Power } from '../card/pokemon-types';\nimport { Effect } from './effect';\nimport { Player } from '../state/player';\nimport { PokemonCard } from '../card/pokemon-card';\nimport { PokemonCardList } from '../state/pokemon-card-list';\nimport { Card } from '../card/card';\n\nexport enum GameEffects {\n  RETREAT_EFFECT = 'RETREAT_EFFECT',\n  USE_ATTACK_EFFECT = 'USE_ATTACK_EFFECT',\n  USE_STADIUM_EFFECT = 'USE_STADIUM_EFFECT',\n  USE_POWER_EFFECT = 'USE_POWER_EFFECT',\n  POWER_EFFECT = 'POWER_EFFECT',\n  ATTACK_EFFECT = 'ATTACK_EFFECT',\n  KNOCK_OUT_EFFECT = 'KNOCK_OUT_EFFECT',\n  HEAL_EFFECT = 'HEAL_EFFECT',\n  EVOLVE_EFFECT = 'EVOLVE_EFFECT'\n}\n\nexport class RetreatEffect implements Effect {\n  readonly type: string = GameEffects.RETREAT_EFFECT;\n  public preventDefault = false;\n  public player: Player;\n  public benchIndex: number;\n\n  constructor(player: Player, benchIndex: number) {\n    this.player = player;\n    this.benchIndex = benchIndex;\n  }\n}\n\nexport class UsePowerEffect implements Effect {\n  readonly type: string = GameEffects.USE_POWER_EFFECT;\n  public preventDefault = false;\n  public player: Player;\n  public power: Power;\n  public card: PokemonCard;\n\n  constructor(player: Player, power: Power, card: PokemonCard) {\n    this.player = player;\n    this.power = power;\n    this.card = card;\n  }\n}\n\nexport class PowerEffect implements Effect {\n  readonly type: string = GameEffects.POWER_EFFECT;\n  public preventDefault = false;\n  public player: Player;\n  public power: Power;\n  public card: PokemonCard;\n\n  constructor(player: Player, power: Power, card: PokemonCard) {\n    this.player = player;\n    this.power = power;\n    this.card = card;\n  }\n}\n\nexport class UseAttackEffect implements Effect {\n  readonly type: string = GameEffects.USE_ATTACK_EFFECT;\n  public preventDefault = false;\n  public player: Player;\n  public attack: Attack;\n\n  constructor(player: Player, attack: Attack) {\n    this.player = player;\n    this.attack = attack;\n  }\n}\n\nexport class UseStadiumEffect implements Effect {\n  readonly type: string = GameEffects.USE_STADIUM_EFFECT;\n  public preventDefault = false;\n  public player: Player;\n  public stadium: Card;\n\n  constructor(player: Player, stadium: Card) {\n    this.player = player;\n    this.stadium = stadium;\n  }\n}\n\nexport class AttackEffect implements Effect {\n  readonly type: string = GameEffects.ATTACK_EFFECT;\n  public preventDefault = false;\n  public player: Player;\n  public opponent: Player;\n  public attack: Attack;\n  public damage: number;\n  public ignoreWeakness = false;\n  public ignoreResistance = false;\n\n  constructor(player: Player, opponent: Player, attack: Attack) {\n    this.player = player;\n    this.opponent = opponent;\n    this.attack = attack;\n    this.damage = attack.damage;\n  }\n}\n\n// how many prizes when target Pokemon is KO\nexport class KnockOutEffect implements Effect {\n  readonly type: string = GameEffects.KNOCK_OUT_EFFECT;\n  public preventDefault = false;\n  public player: Player;\n  public target: PokemonCardList;\n  public prizeCount: number;\n\n  constructor(player: Player, target: PokemonCardList) {\n    this.player = player;\n    this.target = target;\n    this.prizeCount = 1;\n  }\n}\n\nexport class HealEffect implements Effect {\n  readonly type: string = GameEffects.HEAL_EFFECT;\n  public preventDefault = false;\n  public player: Player;\n  public target: PokemonCardList;\n  public damage: number;\n\n  constructor(player: Player, target: PokemonCardList, damage: number) {\n    this.player = player;\n    this.target = target;\n    this.damage = damage;\n  }\n}\n\nexport class EvolveEffect implements Effect {\n  readonly type: string = GameEffects.EVOLVE_EFFECT;\n  public preventDefault = false;\n  public player: Player;\n  public target: PokemonCardList;\n  public pokemonCard: PokemonCard;\n\n  constructor(player: Player, target: PokemonCardList, pokemonCard: PokemonCard) {\n    this.player = player;\n    this.target = target;\n    this.pokemonCard = pokemonCard;\n  }\n}\n"]}