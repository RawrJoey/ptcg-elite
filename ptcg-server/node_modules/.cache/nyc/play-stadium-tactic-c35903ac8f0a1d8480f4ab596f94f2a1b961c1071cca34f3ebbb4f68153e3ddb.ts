"use strict";function cov_nfk76nyew(){var path="/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/simple-tactics/play-stadium-tactic.ts";var hash="afbdba0a1d61d3a270d8db1d726bef8b94308c6b";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/simple-tactics/play-stadium-tactic.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:35}},"2":{start:{line:4,column:15},end:{line:4,column:36}},"3":{start:{line:5,column:25},end:{line:5,column:52}},"4":{start:{line:9,column:8},end:{line:11,column:9}},"5":{start:{line:10,column:12},end:{line:10,column:19}},"6":{start:{line:12,column:23},end:{line:14,column:10}},"7":{start:{line:13,column:12},end:{line:13,column:99}},"8":{start:{line:16,column:31},end:{line:16,column:70}},"9":{start:{line:17,column:8},end:{line:19,column:9}},"10":{start:{line:18,column:12},end:{line:18,column:84}},"11":{start:{line:18,column:44},end:{line:18,column:82}},"12":{start:{line:20,column:8},end:{line:22,column:9}},"13":{start:{line:21,column:12},end:{line:21,column:19}},"14":{start:{line:23,column:22},end:{line:23,column:60}},"15":{start:{line:24,column:23},end:{line:24,column:95}},"16":{start:{line:25,column:8},end:{line:25,column:67}},"17":{start:{line:28,column:0},end:{line:28,column:46}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:29},end:{line:26,column:5}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:12,column:48},end:{line:12,column:49}},loc:{start:{line:12,column:53},end:{line:14,column:9}},line:12},"2":{name:"(anonymous_2)",decl:{start:{line:18,column:39},end:{line:18,column:40}},loc:{start:{line:18,column:44},end:{line:18,column:82}},line:18}},branchMap:{"0":{loc:{start:{line:9,column:8},end:{line:11,column:9}},type:"if",locations:[{start:{line:9,column:8},end:{line:11,column:9}},{start:{line:9,column:8},end:{line:11,column:9}}],line:9},"1":{loc:{start:{line:9,column:12},end:{line:9,column:85}},type:"binary-expr",locations:[{start:{line:9,column:12},end:{line:9,column:50}},{start:{line:9,column:54},end:{line:9,column:85}}],line:9},"2":{loc:{start:{line:13,column:19},end:{line:13,column:98}},type:"binary-expr",locations:[{start:{line:13,column:19},end:{line:13,column:50}},{start:{line:13,column:54},end:{line:13,column:98}}],line:13},"3":{loc:{start:{line:17,column:8},end:{line:19,column:9}},type:"if",locations:[{start:{line:17,column:8},end:{line:19,column:9}},{start:{line:17,column:8},end:{line:19,column:9}}],line:17},"4":{loc:{start:{line:20,column:8},end:{line:22,column:9}},type:"if",locations:[{start:{line:20,column:8},end:{line:22,column:9}},{start:{line:20,column:8},end:{line:22,column:9}}],line:20}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},inputSourceMap:{version:3,file:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/simple-tactics/play-stadium-tactic.ts",sources:["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/simple-tactics/play-stadium-tactic.ts"],names:[],mappings:";;;AAAA,qCACuD;AACvD,qDAAgD;AAEhD,MAAa,iBAAkB,SAAQ,6BAAY;IAE1C,SAAS,CAAC,KAAY,EAAE,MAAc;QAC3C,uCAAuC;QACvC,IAAI,MAAM,CAAC,iBAAiB,IAAI,KAAK,CAAC,IAAI,IAAI,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YAC7E,OAAO;SACR;QAED,IAAI,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;YAC1C,OAAO,CAAC,YAAY,kBAAW,IAAI,CAAC,CAAC,WAAW,KAAK,kBAAW,CAAC,OAAO,CAAC;QAC3E,CAAC,CAAC,CAAC;QAEH,0DAA0D;QAC1D,MAAM,cAAc,GAAG,iBAAU,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QACxD,IAAI,cAAc,EAAE;YAClB,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,KAAK,cAAc,CAAC,QAAQ,CAAC,CAAC;SACzE;QAED,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;YACzB,OAAO;SACR;QAED,MAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;QACrD,MAAM,MAAM,GAAG,EAAE,MAAM,EAAE,iBAAU,CAAC,GAAG,EAAE,IAAI,EAAE,eAAQ,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;QAC1E,OAAO,IAAI,qBAAc,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;IACtD,CAAC;CAEF;AA3BD,8CA2BC",sourcesContent:["import { Action, Player, State, TrainerCard, TrainerType, PlayCardAction,\n  PlayerType, SlotType, StateUtils } from '../../game';\nimport { SimpleTactic } from './simple-tactics';\n\nexport class PlayStadiumTactic extends SimpleTactic {\n\n  public useTactic(state: State, player: Player): Action | undefined {\n    // Don't discard your own stadium cards\n    if (player.stadiumPlayedTurn >= state.turn || player.stadium.cards.length > 0) {\n      return;\n    }\n\n    let stadiums = player.hand.cards.filter(c => {\n      return c instanceof TrainerCard && c.trainerType === TrainerType.STADIUM;\n    });\n\n    // Don't play stadiums of the same name as current stadium\n    const currentStadium = StateUtils.getStadiumCard(state);\n    if (currentStadium) {\n      stadiums = stadiums.filter(c => c.fullName !== currentStadium.fullName);\n    }\n\n    if (stadiums.length === 0) {\n      return;\n    }\n\n    const index = player.hand.cards.indexOf(stadiums[0]);\n    const target = { player: PlayerType.ANY, slot: SlotType.BOARD, index: 0 };\n    return new PlayCardAction(player.id, index, target);\n  }\n\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"afbdba0a1d61d3a270d8db1d726bef8b94308c6b"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_nfk76nyew=function(){return actualCoverage;};}return actualCoverage;}cov_nfk76nyew();cov_nfk76nyew().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_nfk76nyew().s[1]++;exports.PlayStadiumTactic=void 0;const game_1=(cov_nfk76nyew().s[2]++,require("../../game"));const simple_tactics_1=(cov_nfk76nyew().s[3]++,require("./simple-tactics"));class PlayStadiumTactic extends(simple_tactics_1.SimpleTactic){useTactic(state,player){cov_nfk76nyew().f[0]++;cov_nfk76nyew().s[4]++;// Don't discard your own stadium cards
if((cov_nfk76nyew().b[1][0]++,player.stadiumPlayedTurn>=state.turn)||(cov_nfk76nyew().b[1][1]++,player.stadium.cards.length>0)){cov_nfk76nyew().b[0][0]++;cov_nfk76nyew().s[5]++;return;}else{cov_nfk76nyew().b[0][1]++;}let stadiums=(cov_nfk76nyew().s[6]++,player.hand.cards.filter(c=>{cov_nfk76nyew().f[1]++;cov_nfk76nyew().s[7]++;return(cov_nfk76nyew().b[2][0]++,c instanceof game_1.TrainerCard)&&(cov_nfk76nyew().b[2][1]++,c.trainerType===game_1.TrainerType.STADIUM);}));// Don't play stadiums of the same name as current stadium
const currentStadium=(cov_nfk76nyew().s[8]++,game_1.StateUtils.getStadiumCard(state));cov_nfk76nyew().s[9]++;if(currentStadium){cov_nfk76nyew().b[3][0]++;cov_nfk76nyew().s[10]++;stadiums=stadiums.filter(c=>{cov_nfk76nyew().f[2]++;cov_nfk76nyew().s[11]++;return c.fullName!==currentStadium.fullName;});}else{cov_nfk76nyew().b[3][1]++;}cov_nfk76nyew().s[12]++;if(stadiums.length===0){cov_nfk76nyew().b[4][0]++;cov_nfk76nyew().s[13]++;return;}else{cov_nfk76nyew().b[4][1]++;}const index=(cov_nfk76nyew().s[14]++,player.hand.cards.indexOf(stadiums[0]));const target=(cov_nfk76nyew().s[15]++,{player:game_1.PlayerType.ANY,slot:game_1.SlotType.BOARD,index:0});cov_nfk76nyew().s[16]++;return new game_1.PlayCardAction(player.id,index,target);}}cov_nfk76nyew().s[17]++;exports.PlayStadiumTactic=PlayStadiumTactic;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2pvZW15ZXJzY291Z2gvRG9jdW1lbnRzL0dpdEh1Yi9wdGNnLWVwc2QvcHRjZy1zZXJ2ZXIvc3JjL3NpbXBsZS1ib3Qvc2ltcGxlLXRhY3RpY3MvcGxheS1zdGFkaXVtLXRhY3RpYy50cyIsInNvdXJjZXMiOlsiL1VzZXJzL2pvZW15ZXJzY291Z2gvRG9jdW1lbnRzL0dpdEh1Yi9wdGNnLWVwc2QvcHRjZy1zZXJ2ZXIvc3JjL3NpbXBsZS1ib3Qvc2ltcGxlLXRhY3RpY3MvcGxheS1zdGFkaXVtLXRhY3RpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxxQ0FDdUQ7QUFDdkQscURBQWdEO0FBRWhELE1BQWEsaUJBQWtCLFNBQVEsNkJBQVk7SUFFMUMsU0FBUyxDQUFDLEtBQVksRUFBRSxNQUFjO1FBQzNDLHVDQUF1QztRQUN2QyxJQUFJLE1BQU0sQ0FBQyxpQkFBaUIsSUFBSSxLQUFLLENBQUMsSUFBSSxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDN0UsT0FBTztTQUNSO1FBRUQsSUFBSSxRQUFRLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQzFDLE9BQU8sQ0FBQyxZQUFZLGtCQUFXLElBQUksQ0FBQyxDQUFDLFdBQVcsS0FBSyxrQkFBVyxDQUFDLE9BQU8sQ0FBQztRQUMzRSxDQUFDLENBQUMsQ0FBQztRQUVILDBEQUEwRDtRQUMxRCxNQUFNLGNBQWMsR0FBRyxpQkFBVSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN4RCxJQUFJLGNBQWMsRUFBRTtZQUNsQixRQUFRLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLEtBQUssY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQ3pFO1FBRUQsSUFBSSxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUN6QixPQUFPO1NBQ1I7UUFFRCxNQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckQsTUFBTSxNQUFNLEdBQUcsRUFBRSxNQUFNLEVBQUUsaUJBQVUsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLGVBQVEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxDQUFDO1FBQzFFLE9BQU8sSUFBSSxxQkFBYyxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3RELENBQUM7Q0FFRjtBQTNCRCw4Q0EyQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3Rpb24sIFBsYXllciwgU3RhdGUsIFRyYWluZXJDYXJkLCBUcmFpbmVyVHlwZSwgUGxheUNhcmRBY3Rpb24sXG4gIFBsYXllclR5cGUsIFNsb3RUeXBlLCBTdGF0ZVV0aWxzIH0gZnJvbSAnLi4vLi4vZ2FtZSc7XG5pbXBvcnQgeyBTaW1wbGVUYWN0aWMgfSBmcm9tICcuL3NpbXBsZS10YWN0aWNzJztcblxuZXhwb3J0IGNsYXNzIFBsYXlTdGFkaXVtVGFjdGljIGV4dGVuZHMgU2ltcGxlVGFjdGljIHtcblxuICBwdWJsaWMgdXNlVGFjdGljKHN0YXRlOiBTdGF0ZSwgcGxheWVyOiBQbGF5ZXIpOiBBY3Rpb24gfCB1bmRlZmluZWQge1xuICAgIC8vIERvbid0IGRpc2NhcmQgeW91ciBvd24gc3RhZGl1bSBjYXJkc1xuICAgIGlmIChwbGF5ZXIuc3RhZGl1bVBsYXllZFR1cm4gPj0gc3RhdGUudHVybiB8fCBwbGF5ZXIuc3RhZGl1bS5jYXJkcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHN0YWRpdW1zID0gcGxheWVyLmhhbmQuY2FyZHMuZmlsdGVyKGMgPT4ge1xuICAgICAgcmV0dXJuIGMgaW5zdGFuY2VvZiBUcmFpbmVyQ2FyZCAmJiBjLnRyYWluZXJUeXBlID09PSBUcmFpbmVyVHlwZS5TVEFESVVNO1xuICAgIH0pO1xuXG4gICAgLy8gRG9uJ3QgcGxheSBzdGFkaXVtcyBvZiB0aGUgc2FtZSBuYW1lIGFzIGN1cnJlbnQgc3RhZGl1bVxuICAgIGNvbnN0IGN1cnJlbnRTdGFkaXVtID0gU3RhdGVVdGlscy5nZXRTdGFkaXVtQ2FyZChzdGF0ZSk7XG4gICAgaWYgKGN1cnJlbnRTdGFkaXVtKSB7XG4gICAgICBzdGFkaXVtcyA9IHN0YWRpdW1zLmZpbHRlcihjID0+IGMuZnVsbE5hbWUgIT09IGN1cnJlbnRTdGFkaXVtLmZ1bGxOYW1lKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhZGl1bXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaW5kZXggPSBwbGF5ZXIuaGFuZC5jYXJkcy5pbmRleE9mKHN0YWRpdW1zWzBdKTtcbiAgICBjb25zdCB0YXJnZXQgPSB7IHBsYXllcjogUGxheWVyVHlwZS5BTlksIHNsb3Q6IFNsb3RUeXBlLkJPQVJELCBpbmRleDogMCB9O1xuICAgIHJldHVybiBuZXcgUGxheUNhcmRBY3Rpb24ocGxheWVyLmlkLCBpbmRleCwgdGFyZ2V0KTtcbiAgfVxuXG59XG4iXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2VteWVyc2NvdWdoL0RvY3VtZW50cy9HaXRIdWIvcHRjZy1lcHNkL3B0Y2ctc2VydmVyL3NyYy9zaW1wbGUtYm90L3NpbXBsZS10YWN0aWNzL3BsYXktc3RhZGl1bS10YWN0aWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IndqTEFpQkk7aU9BakJKLEtBQUEsQ0FBQSxNQUFBLHlCQUFBLE9BQUEsQ0FBQSxZQUFBLENBQUEsQ0FBQSxDQUVBLEtBQUEsQ0FBQSxnQkFBQSx5QkFBQSxPQUFBLENBQUEsa0JBQUEsQ0FBQSxDQUFBLENBRUEsS0FBYSxDQUFBLGlCQUFiLFNBQXVDLGdCQUFBLENBQUEsWUFBdkMsQ0FBbUQsQ0FFMUMsU0FBUyxDQUFDLEtBQUQsQ0FBZSxNQUFmLENBQTZCLCtDQUMzQztBQUNBLEdBQUksMkJBQUEsTUFBTSxDQUFDLGlCQUFQLEVBQTRCLEtBQUssQ0FBQyxJQUFsQyw4QkFBMEMsTUFBTSxDQUFDLE9BQVAsQ0FBZSxLQUFmLENBQXFCLE1BQXJCLENBQThCLENBQXhFLENBQUosQ0FBK0Usa0RBQzdFLE9BQ0QsQ0FGRCxnQ0FJQSxHQUFJLENBQUEsUUFBUSx5QkFBRyxNQUFNLENBQUMsSUFBUCxDQUFZLEtBQVosQ0FBa0IsTUFBbEIsQ0FBeUIsQ0FBQyxFQUFHLCtDQUMxQyxNQUFPLDJCQUFBLENBQUMsV0FBWSxDQUFBLE1BQUEsQ0FBQSxXQUFiLDhCQUE0QixDQUFDLENBQUMsV0FBRixHQUFrQixNQUFBLENBQUEsV0FBQSxDQUFZLE9BQTFELENBQVAsQ0FDRCxDQUZjLENBQUgsQ0FBWixDQUlBO0FBQ0EsS0FBTSxDQUFBLGNBQWMseUJBQUcsTUFBQSxDQUFBLFVBQUEsQ0FBVyxjQUFYLENBQTBCLEtBQTFCLENBQUgsQ0FBcEIsQ0FYMkMsdUJBWTNDLEdBQUksY0FBSixDQUFvQixtREFDbEIsUUFBUSxDQUFHLFFBQVEsQ0FBQyxNQUFULENBQWdCLENBQUMsRUFBSSxzREFBQSxDQUFBLENBQUMsQ0FBQyxRQUFGLEdBQWUsY0FBYyxDQUFDLFFBQTlCLENBQXNDLENBQTNELENBQVgsQ0FDRCxDQUZELGdDQVoyQyx3QkFnQjNDLEdBQUksUUFBUSxDQUFDLE1BQVQsR0FBb0IsQ0FBeEIsQ0FBMkIsbURBQ3pCLE9BQ0QsQ0FGRCxnQ0FJQSxLQUFNLENBQUEsS0FBSywwQkFBRyxNQUFNLENBQUMsSUFBUCxDQUFZLEtBQVosQ0FBa0IsT0FBbEIsQ0FBMEIsUUFBUSxDQUFDLENBQUQsQ0FBbEMsQ0FBSCxDQUFYLENBQ0EsS0FBTSxDQUFBLE1BQU0sMEJBQUcsQ0FBRSxNQUFNLENBQUUsTUFBQSxDQUFBLFVBQUEsQ0FBVyxHQUFyQixDQUEwQixJQUFJLENBQUUsTUFBQSxDQUFBLFFBQUEsQ0FBUyxLQUF6QyxDQUFnRCxLQUFLLENBQUUsQ0FBdkQsQ0FBSCxDQUFaLENBckIyQyx3QkFzQjNDLE1BQU8sSUFBSSxDQUFBLE1BQUEsQ0FBQSxjQUFKLENBQW1CLE1BQU0sQ0FBQyxFQUExQixDQUE4QixLQUE5QixDQUFxQyxNQUFyQyxDQUFQLENBQ0QsQ0F6QmdELEMsd0JBQW5ELE9BQUEsQ0FBQSxpQkFBQSxDQUFBLGlCQUFBLEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3Rpb24sIFBsYXllciwgU3RhdGUsIFRyYWluZXJDYXJkLCBUcmFpbmVyVHlwZSwgUGxheUNhcmRBY3Rpb24sXG4gIFBsYXllclR5cGUsIFNsb3RUeXBlLCBTdGF0ZVV0aWxzIH0gZnJvbSAnLi4vLi4vZ2FtZSc7XG5pbXBvcnQgeyBTaW1wbGVUYWN0aWMgfSBmcm9tICcuL3NpbXBsZS10YWN0aWNzJztcblxuZXhwb3J0IGNsYXNzIFBsYXlTdGFkaXVtVGFjdGljIGV4dGVuZHMgU2ltcGxlVGFjdGljIHtcblxuICBwdWJsaWMgdXNlVGFjdGljKHN0YXRlOiBTdGF0ZSwgcGxheWVyOiBQbGF5ZXIpOiBBY3Rpb24gfCB1bmRlZmluZWQge1xuICAgIC8vIERvbid0IGRpc2NhcmQgeW91ciBvd24gc3RhZGl1bSBjYXJkc1xuICAgIGlmIChwbGF5ZXIuc3RhZGl1bVBsYXllZFR1cm4gPj0gc3RhdGUudHVybiB8fCBwbGF5ZXIuc3RhZGl1bS5jYXJkcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHN0YWRpdW1zID0gcGxheWVyLmhhbmQuY2FyZHMuZmlsdGVyKGMgPT4ge1xuICAgICAgcmV0dXJuIGMgaW5zdGFuY2VvZiBUcmFpbmVyQ2FyZCAmJiBjLnRyYWluZXJUeXBlID09PSBUcmFpbmVyVHlwZS5TVEFESVVNO1xuICAgIH0pO1xuXG4gICAgLy8gRG9uJ3QgcGxheSBzdGFkaXVtcyBvZiB0aGUgc2FtZSBuYW1lIGFzIGN1cnJlbnQgc3RhZGl1bVxuICAgIGNvbnN0IGN1cnJlbnRTdGFkaXVtID0gU3RhdGVVdGlscy5nZXRTdGFkaXVtQ2FyZChzdGF0ZSk7XG4gICAgaWYgKGN1cnJlbnRTdGFkaXVtKSB7XG4gICAgICBzdGFkaXVtcyA9IHN0YWRpdW1zLmZpbHRlcihjID0+IGMuZnVsbE5hbWUgIT09IGN1cnJlbnRTdGFkaXVtLmZ1bGxOYW1lKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhZGl1bXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaW5kZXggPSBwbGF5ZXIuaGFuZC5jYXJkcy5pbmRleE9mKHN0YWRpdW1zWzBdKTtcbiAgICBjb25zdCB0YXJnZXQgPSB7IHBsYXllcjogUGxheWVyVHlwZS5BTlksIHNsb3Q6IFNsb3RUeXBlLkJPQVJELCBpbmRleDogMCB9O1xuICAgIHJldHVybiBuZXcgUGxheUNhcmRBY3Rpb24ocGxheWVyLmlkLCBpbmRleCwgdGFyZ2V0KTtcbiAgfVxuXG59XG4iXX0=