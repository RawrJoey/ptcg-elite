"use strict";function cov_fyivhtw75(){var path="/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/prompt-resolver/order-cards-prompt-resolver.ts";var hash="a985716ee358a29129ff94bb327e3946702e0134";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/prompt-resolver/order-cards-prompt-resolver.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:42}},"2":{start:{line:4,column:15},end:{line:4,column:36}},"3":{start:{line:5,column:26},end:{line:5,column:54}},"4":{start:{line:6,column:29},end:{line:6,column:83}},"5":{start:{line:9,column:8},end:{line:20,column:9}},"6":{start:{line:10,column:12},end:{line:12,column:13}},"7":{start:{line:11,column:16},end:{line:11,column:71}},"8":{start:{line:13,column:26},end:{line:16,column:14}},"9":{start:{line:14,column:30},end:{line:14,column:82}},"10":{start:{line:15,column:16},end:{line:15,column:46}},"11":{start:{line:17,column:12},end:{line:17,column:52}},"12":{start:{line:17,column:33},end:{line:17,column:50}},"13":{start:{line:18,column:27},end:{line:18,column:50}},"14":{start:{line:18,column:42},end:{line:18,column:49}},"15":{start:{line:19,column:12},end:{line:19,column:69}},"16":{start:{line:23,column:0},end:{line:23,column:60}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:8,column:4},end:{line:8,column:5}},loc:{start:{line:8,column:41},end:{line:21,column:5}},line:8},"1":{name:"(anonymous_1)",decl:{start:{line:13,column:49},end:{line:13,column:50}},loc:{start:{line:13,column:66},end:{line:16,column:13}},line:13},"2":{name:"(anonymous_2)",decl:{start:{line:17,column:23},end:{line:17,column:24}},loc:{start:{line:17,column:33},end:{line:17,column:50}},line:17},"3":{name:"(anonymous_3)",decl:{start:{line:18,column:37},end:{line:18,column:38}},loc:{start:{line:18,column:42},end:{line:18,column:49}},line:18}},branchMap:{"0":{loc:{start:{line:9,column:8},end:{line:20,column:9}},type:"if",locations:[{start:{line:9,column:8},end:{line:20,column:9}},{start:{line:9,column:8},end:{line:20,column:9}}],line:9},"1":{loc:{start:{line:10,column:12},end:{line:12,column:13}},type:"if",locations:[{start:{line:10,column:12},end:{line:12,column:13}},{start:{line:10,column:12},end:{line:12,column:13}}],line:10}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0]},inputSourceMap:{version:3,file:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/prompt-resolver/order-cards-prompt-resolver.ts",sources:["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/prompt-resolver/order-cards-prompt-resolver.ts"],names:[],mappings:";;;AAAA,qCAAgF;AAChF,uDAAmD;AACnD,oFAA+E;AAG/E,MAAa,wBAAyB,SAAQ,gCAAc;IAEnD,aAAa,CAAC,KAAY,EAAE,MAAc,EAAE,MAAmB;QACpE,IAAI,MAAM,YAAY,qCAAgB,EAAE;YACtC,IAAI,MAAM,CAAC,OAAO,CAAC,WAAW,EAAE;gBAC9B,OAAO,IAAI,0BAAmB,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;aACjD;YAED,MAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE;gBACnD,MAAM,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;gBACnE,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC;YAChC,CAAC,CAAC,CAAC;YAEH,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;YAExC,MAAM,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;YACvC,OAAO,IAAI,0BAAmB,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;SACnD;IACH,CAAC;CAEF;AApBD,4DAoBC",sourcesContent:["import { Player, State, Action, ResolvePromptAction, Prompt } from '../../game';\nimport { PromptResolver } from './prompt-resolver';\nimport { OrderCardsPrompt } from '../../game/store/prompts/order-cards-prompt';\n\n\nexport class OrderCardsPromptResolver extends PromptResolver {\n\n  public resolvePrompt(state: State, player: Player, prompt: Prompt<any>): Action | undefined {\n    if (prompt instanceof OrderCardsPrompt) {\n      if (prompt.options.allowCancel) {\n        return new ResolvePromptAction(prompt.id, null);\n      }\n\n      const cards = prompt.cards.cards.map((card, index) => {\n        const score = this.stateScore.getCardScore(state, player.id, card);\n        return { card, score, index };\n      });\n\n      cards.sort((a, b) => b.score - a.score);\n\n      const result = cards.map(c => c.index);\n      return new ResolvePromptAction(prompt.id, result);\n    }\n  }\n\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a985716ee358a29129ff94bb327e3946702e0134"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_fyivhtw75=function(){return actualCoverage;};}return actualCoverage;}cov_fyivhtw75();cov_fyivhtw75().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_fyivhtw75().s[1]++;exports.OrderCardsPromptResolver=void 0;const game_1=(cov_fyivhtw75().s[2]++,require("../../game"));const prompt_resolver_1=(cov_fyivhtw75().s[3]++,require("./prompt-resolver"));const order_cards_prompt_1=(cov_fyivhtw75().s[4]++,require("../../game/store/prompts/order-cards-prompt"));class OrderCardsPromptResolver extends(prompt_resolver_1.PromptResolver){resolvePrompt(state,player,prompt){cov_fyivhtw75().f[0]++;cov_fyivhtw75().s[5]++;if(prompt instanceof order_cards_prompt_1.OrderCardsPrompt){cov_fyivhtw75().b[0][0]++;cov_fyivhtw75().s[6]++;if(prompt.options.allowCancel){cov_fyivhtw75().b[1][0]++;cov_fyivhtw75().s[7]++;return new game_1.ResolvePromptAction(prompt.id,null);}else{cov_fyivhtw75().b[1][1]++;}const cards=(cov_fyivhtw75().s[8]++,prompt.cards.cards.map((card,index)=>{cov_fyivhtw75().f[1]++;const score=(cov_fyivhtw75().s[9]++,this.stateScore.getCardScore(state,player.id,card));cov_fyivhtw75().s[10]++;return{card,score,index};}));cov_fyivhtw75().s[11]++;cards.sort((a,b)=>{cov_fyivhtw75().f[2]++;cov_fyivhtw75().s[12]++;return b.score-a.score;});const result=(cov_fyivhtw75().s[13]++,cards.map(c=>{cov_fyivhtw75().f[3]++;cov_fyivhtw75().s[14]++;return c.index;}));cov_fyivhtw75().s[15]++;return new game_1.ResolvePromptAction(prompt.id,result);}else{cov_fyivhtw75().b[0][1]++;}}}cov_fyivhtw75().s[16]++;exports.OrderCardsPromptResolver=OrderCardsPromptResolver;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2pvZW15ZXJzY291Z2gvRG9jdW1lbnRzL0dpdEh1Yi9wdGNnLWVwc2QvcHRjZy1zZXJ2ZXIvc3JjL3NpbXBsZS1ib3QvcHJvbXB0LXJlc29sdmVyL29yZGVyLWNhcmRzLXByb21wdC1yZXNvbHZlci50cyIsInNvdXJjZXMiOlsiL1VzZXJzL2pvZW15ZXJzY291Z2gvRG9jdW1lbnRzL0dpdEh1Yi9wdGNnLWVwc2QvcHRjZy1zZXJ2ZXIvc3JjL3NpbXBsZS1ib3QvcHJvbXB0LXJlc29sdmVyL29yZGVyLWNhcmRzLXByb21wdC1yZXNvbHZlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxxQ0FBZ0Y7QUFDaEYsdURBQW1EO0FBQ25ELG9GQUErRTtBQUcvRSxNQUFhLHdCQUF5QixTQUFRLGdDQUFjO0lBRW5ELGFBQWEsQ0FBQyxLQUFZLEVBQUUsTUFBYyxFQUFFLE1BQW1CO1FBQ3BFLElBQUksTUFBTSxZQUFZLHFDQUFnQixFQUFFO1lBQ3RDLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUU7Z0JBQzlCLE9BQU8sSUFBSSwwQkFBbUIsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO2FBQ2pEO1lBRUQsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFO2dCQUNuRCxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQztnQkFDbkUsT0FBTyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLENBQUM7WUFDaEMsQ0FBQyxDQUFDLENBQUM7WUFFSCxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFeEMsTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN2QyxPQUFPLElBQUksMEJBQW1CLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQztTQUNuRDtJQUNILENBQUM7Q0FFRjtBQXBCRCw0REFvQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQbGF5ZXIsIFN0YXRlLCBBY3Rpb24sIFJlc29sdmVQcm9tcHRBY3Rpb24sIFByb21wdCB9IGZyb20gJy4uLy4uL2dhbWUnO1xuaW1wb3J0IHsgUHJvbXB0UmVzb2x2ZXIgfSBmcm9tICcuL3Byb21wdC1yZXNvbHZlcic7XG5pbXBvcnQgeyBPcmRlckNhcmRzUHJvbXB0IH0gZnJvbSAnLi4vLi4vZ2FtZS9zdG9yZS9wcm9tcHRzL29yZGVyLWNhcmRzLXByb21wdCc7XG5cblxuZXhwb3J0IGNsYXNzIE9yZGVyQ2FyZHNQcm9tcHRSZXNvbHZlciBleHRlbmRzIFByb21wdFJlc29sdmVyIHtcblxuICBwdWJsaWMgcmVzb2x2ZVByb21wdChzdGF0ZTogU3RhdGUsIHBsYXllcjogUGxheWVyLCBwcm9tcHQ6IFByb21wdDxhbnk+KTogQWN0aW9uIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAocHJvbXB0IGluc3RhbmNlb2YgT3JkZXJDYXJkc1Byb21wdCkge1xuICAgICAgaWYgKHByb21wdC5vcHRpb25zLmFsbG93Q2FuY2VsKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzb2x2ZVByb21wdEFjdGlvbihwcm9tcHQuaWQsIG51bGwpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjYXJkcyA9IHByb21wdC5jYXJkcy5jYXJkcy5tYXAoKGNhcmQsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHNjb3JlID0gdGhpcy5zdGF0ZVNjb3JlLmdldENhcmRTY29yZShzdGF0ZSwgcGxheWVyLmlkLCBjYXJkKTtcbiAgICAgICAgcmV0dXJuIHsgY2FyZCwgc2NvcmUsIGluZGV4IH07XG4gICAgICB9KTtcblxuICAgICAgY2FyZHMuc29ydCgoYSwgYikgPT4gYi5zY29yZSAtIGEuc2NvcmUpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBjYXJkcy5tYXAoYyA9PiBjLmluZGV4KTtcbiAgICAgIHJldHVybiBuZXcgUmVzb2x2ZVByb21wdEFjdGlvbihwcm9tcHQuaWQsIHJlc3VsdCk7XG4gICAgfVxuICB9XG5cbn1cbiJdfQ==
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2VteWVyc2NvdWdoL0RvY3VtZW50cy9HaXRIdWIvcHRjZy1lcHNkL3B0Y2ctc2VydmVyL3NyYy9zaW1wbGUtYm90L3Byb21wdC1yZXNvbHZlci9vcmRlci1jYXJkcy1wcm9tcHQtcmVzb2x2ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijh1SkFnQk07d09BaEJOLEtBQUEsQ0FBQSxNQUFBLHlCQUFBLE9BQUEsQ0FBQSxZQUFBLENBQUEsQ0FBQSxDQUNBLEtBQUEsQ0FBQSxpQkFBQSx5QkFBQSxPQUFBLENBQUEsbUJBQUEsQ0FBQSxDQUFBLENBQ0EsS0FBQSxDQUFBLG9CQUFBLHlCQUFBLE9BQUEsQ0FBQSw2Q0FBQSxDQUFBLENBQUEsQ0FHQSxLQUFhLENBQUEsd0JBQWIsU0FBOEMsaUJBQUEsQ0FBQSxjQUE5QyxDQUE0RCxDQUVuRCxhQUFhLENBQUMsS0FBRCxDQUFlLE1BQWYsQ0FBK0IsTUFBL0IsQ0FBa0QsK0NBQ3BFLEdBQUksTUFBTSxXQUFZLENBQUEsb0JBQUEsQ0FBQSxnQkFBdEIsQ0FBd0Msa0RBQ3RDLEdBQUksTUFBTSxDQUFDLE9BQVAsQ0FBZSxXQUFuQixDQUFnQyxrREFDOUIsTUFBTyxJQUFJLENBQUEsTUFBQSxDQUFBLG1CQUFKLENBQXdCLE1BQU0sQ0FBQyxFQUEvQixDQUFtQyxJQUFuQyxDQUFQLENBQ0QsQ0FGRCxnQ0FJQSxLQUFNLENBQUEsS0FBSyx5QkFBRyxNQUFNLENBQUMsS0FBUCxDQUFhLEtBQWIsQ0FBbUIsR0FBbkIsQ0FBdUIsQ0FBQyxJQUFELENBQU8sS0FBUCxHQUFnQix3QkFDbkQsS0FBTSxDQUFBLEtBQUsseUJBQUcsS0FBSyxVQUFMLENBQWdCLFlBQWhCLENBQTZCLEtBQTdCLENBQW9DLE1BQU0sQ0FBQyxFQUEzQyxDQUErQyxJQUEvQyxDQUFILENBQVgsQ0FEbUQsd0JBRW5ELE1BQU8sQ0FBRSxJQUFGLENBQVEsS0FBUixDQUFlLEtBQWYsQ0FBUCxDQUNELENBSGEsQ0FBSCxDQUFYLENBTHNDLHdCQVV0QyxLQUFLLENBQUMsSUFBTixDQUFXLENBQUMsQ0FBRCxDQUFJLENBQUosR0FBVSxzREFBQSxDQUFBLENBQUMsQ0FBQyxLQUFGLENBQVUsQ0FBQyxDQUFDLEtBQVosQ0FBaUIsQ0FBdEMsRUFFQSxLQUFNLENBQUEsTUFBTSwwQkFBRyxLQUFLLENBQUMsR0FBTixDQUFVLENBQUMsRUFBSSxzREFBQSxDQUFBLENBQUMsQ0FBQyxLQUFGLENBQU8sQ0FBdEIsQ0FBSCxDQUFaLENBWnNDLHdCQWF0QyxNQUFPLElBQUksQ0FBQSxNQUFBLENBQUEsbUJBQUosQ0FBd0IsTUFBTSxDQUFDLEVBQS9CLENBQW1DLE1BQW5DLENBQVAsQ0FDRCxDQWRELGdDQWVELENBbEJ5RCxDLHdCQUE1RCxPQUFBLENBQUEsd0JBQUEsQ0FBQSx3QkFBQSxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGxheWVyLCBTdGF0ZSwgQWN0aW9uLCBSZXNvbHZlUHJvbXB0QWN0aW9uLCBQcm9tcHQgfSBmcm9tICcuLi8uLi9nYW1lJztcbmltcG9ydCB7IFByb21wdFJlc29sdmVyIH0gZnJvbSAnLi9wcm9tcHQtcmVzb2x2ZXInO1xuaW1wb3J0IHsgT3JkZXJDYXJkc1Byb21wdCB9IGZyb20gJy4uLy4uL2dhbWUvc3RvcmUvcHJvbXB0cy9vcmRlci1jYXJkcy1wcm9tcHQnO1xuXG5cbmV4cG9ydCBjbGFzcyBPcmRlckNhcmRzUHJvbXB0UmVzb2x2ZXIgZXh0ZW5kcyBQcm9tcHRSZXNvbHZlciB7XG5cbiAgcHVibGljIHJlc29sdmVQcm9tcHQoc3RhdGU6IFN0YXRlLCBwbGF5ZXI6IFBsYXllciwgcHJvbXB0OiBQcm9tcHQ8YW55Pik6IEFjdGlvbiB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHByb21wdCBpbnN0YW5jZW9mIE9yZGVyQ2FyZHNQcm9tcHQpIHtcbiAgICAgIGlmIChwcm9tcHQub3B0aW9ucy5hbGxvd0NhbmNlbCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlc29sdmVQcm9tcHRBY3Rpb24ocHJvbXB0LmlkLCBudWxsKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY2FyZHMgPSBwcm9tcHQuY2FyZHMuY2FyZHMubWFwKChjYXJkLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBzY29yZSA9IHRoaXMuc3RhdGVTY29yZS5nZXRDYXJkU2NvcmUoc3RhdGUsIHBsYXllci5pZCwgY2FyZCk7XG4gICAgICAgIHJldHVybiB7IGNhcmQsIHNjb3JlLCBpbmRleCB9O1xuICAgICAgfSk7XG5cbiAgICAgIGNhcmRzLnNvcnQoKGEsIGIpID0+IGIuc2NvcmUgLSBhLnNjb3JlKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gY2FyZHMubWFwKGMgPT4gYy5pbmRleCk7XG4gICAgICByZXR1cm4gbmV3IFJlc29sdmVQcm9tcHRBY3Rpb24ocHJvbXB0LmlkLCByZXN1bHQpO1xuICAgIH1cbiAgfVxuXG59XG4iXX0=