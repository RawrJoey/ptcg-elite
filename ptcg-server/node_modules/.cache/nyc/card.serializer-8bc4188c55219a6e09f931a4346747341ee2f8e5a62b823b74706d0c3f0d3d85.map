{"version":3,"file":"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/serializer/card.serializer.ts","sources":["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/serializer/card.serializer.ts"],"names":[],"mappings":";;;AACA,6CAA0C;AAC1C,8CAA0C;AAC1C,kDAAgD;AAEhD,MAAa,cAAc;IAKzB;QAHgB,UAAK,GAAG,CAAC,MAAM,CAAC,CAAC;QACjB,YAAO,GAAG,CAAC,WAAI,CAAC,CAAC;IAEhB,CAAC;IAEX,SAAS,CAAC,IAAU;QACzB,MAAM,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC;QACtB,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;YAChB,MAAM,IAAI,sBAAS,CAAC,4BAAa,CAAC,gBAAgB,EAAE,mBAAmB,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC;SAC3F;QAED,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC;IAClC,CAAC;IAEM,WAAW,CAAC,IAAgB,EAAE,OAA0B;QAC7D,MAAM,KAAK,GAAW,IAAI,CAAC,KAAK,CAAC;QACjC,MAAM,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAClC,IAAI,IAAI,KAAK,SAAS,EAAE;YACtB,MAAM,IAAI,sBAAS,CAAC,4BAAa,CAAC,gBAAgB,EAAE,4BAA4B,KAAK,IAAI,CAAC,CAAC;SAC5F;QACD,OAAO,IAAI,CAAC;IACd,CAAC;CAEF;AAzBD,wCAyBC","sourcesContent":["import { SerializerContext, Serialized, Serializer } from './serializer.interface';\nimport { Card } from '../store/card/card';\nimport { GameError } from '../game-error';\nimport { GameCoreError } from '../game-message';\n\nexport class CardSerializer implements Serializer<Card> {\n\n  public readonly types = ['Card'];\n  public readonly classes = [Card];\n\n  constructor () { }\n\n  public serialize(card: Card): Serialized {\n    const index = card.id;\n    if (index === -1) {\n      throw new GameError(GameCoreError.ERROR_SERIALIZER, `Card not found '${card.fullName}'.`);\n    }\n\n    return { _type: 'Card', index };\n  }\n\n  public deserialize(data: Serialized, context: SerializerContext): Card {\n    const index: number = data.index;\n    const card = context.cards[index];\n    if (card === undefined) {\n      throw new GameError(GameCoreError.ERROR_SERIALIZER, `Card not found on index '${index}'.`);\n    }\n    return card;\n  }\n\n}\n"]}