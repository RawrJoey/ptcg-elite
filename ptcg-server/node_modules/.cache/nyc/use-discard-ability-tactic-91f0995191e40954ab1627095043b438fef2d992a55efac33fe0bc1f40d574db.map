{"version":3,"file":"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/simple-tactics/use-discard-ability-tactic.ts","sources":["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/simple-tactics/use-discard-ability-tactic.ts"],"names":[],"mappings":";;;AAAA,qCAC2C;AAC3C,qDAAgD;AAEhD,MAAa,uBAAwB,SAAQ,6BAAY;IAEhD,SAAS,CAAC,KAAY,EAAE,MAAc;QAC3C,IAAI,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC;QACrD,IAAI,gBAA8C,CAAC;QACnD,MAAM,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;QAE3D,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE;YAC3C,IAAI,CAAC,CAAC,IAAI,YAAY,kBAAW,CAAC,EAAE;gBAClC,OAAO;aACR;YACD,MAAM,MAAM,GAAe;gBACzB,MAAM,EAAE,iBAAU,CAAC,aAAa;gBAChC,IAAI,EAAE,eAAQ,CAAC,OAAO;gBACtB,KAAK;aACN,CAAC;YACF,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,MAAM,EAAE;gBAC/B,IAAI,KAAK,CAAC,cAAc,EAAE;oBACxB,MAAM,MAAM,GAAG,IAAI,uBAAgB,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;oBACnE,MAAM,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE,EAAE,MAAM,EAAE,aAAa,CAAC,CAAC;oBAE3E,IAAI,KAAK,KAAK,SAAS,IAAI,SAAS,GAAG,KAAK,EAAE;wBAC5C,SAAS,GAAG,KAAK,CAAC;wBAClB,gBAAgB,GAAG,MAAM,CAAC;qBAC3B;iBACF;aACF;QACH,CAAC,CAAC,CAAC;QAEH,OAAO,gBAAgB,CAAC;IAC1B,CAAC;CAEF;AAhCD,0DAgCC","sourcesContent":["import { Action, Player, State, UseAbilityAction, PlayerType, PokemonCard,\n  SlotType, CardTarget } from '../../game';\nimport { SimpleTactic } from './simple-tactics';\n\nexport class UseDiscardAbilityTactic extends SimpleTactic {\n\n  public useTactic(state: State, player: Player): Action | undefined {\n    let bestScore = this.getStateScore(state, player.id);\n    let useAbilityAction: UseAbilityAction | undefined;\n    const passTurnScore = this.options.scores.tactics.passTurn;\n\n    player.discard.cards.forEach((card, index) => {\n      if (!(card instanceof PokemonCard)) {\n        return;\n      }\n      const target: CardTarget = {\n        player: PlayerType.BOTTOM_PLAYER,\n        slot: SlotType.DISCARD,\n        index\n      };\n      for (const power of card.powers) {\n        if (power.useFromDiscard) {\n          const action = new UseAbilityAction(player.id, power.name, target);\n          const score = this.evaluateAction(state, player.id, action, passTurnScore);\n\n          if (score !== undefined && bestScore < score) {\n            bestScore = score;\n            useAbilityAction = action;\n          }\n        }\n      }\n    });\n\n    return useAbilityAction;\n  }\n\n}\n"]}