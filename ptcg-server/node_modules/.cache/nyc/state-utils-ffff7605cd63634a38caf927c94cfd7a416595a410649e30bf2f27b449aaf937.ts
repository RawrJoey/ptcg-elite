"use strict";function cov_1fqojzxps7(){var path="/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/state-utils.ts";var hash="7ad778b377c68e3cf31ed50b13404940e85dabdb";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/state-utils.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:28}},"2":{start:{line:4,column:27},end:{line:4,column:64}},"3":{start:{line:5,column:21},end:{line:5,column:49}},"4":{start:{line:6,column:21},end:{line:6,column:45}},"5":{start:{line:7,column:23},end:{line:7,column:49}},"6":{start:{line:10,column:8},end:{line:12,column:9}},"7":{start:{line:11,column:12},end:{line:11,column:24}},"8":{start:{line:13,column:25},end:{line:13,column:27}},"9":{start:{line:14,column:8},end:{line:16,column:11}},"10":{start:{line:15,column:12},end:{line:15,column:68}},"11":{start:{line:15,column:43},end:{line:15,column:66}},"12":{start:{line:17,column:24},end:{line:17,column:25}},"13":{start:{line:18,column:22},end:{line:18,column:23}},"14":{start:{line:20,column:8},end:{line:38,column:11}},"15":{start:{line:21,column:12},end:{line:37,column:13}},"16":{start:{line:24,column:20},end:{line:24,column:26}},"17":{start:{line:26,column:20},end:{line:26,column:35}},"18":{start:{line:27,column:20},end:{line:27,column:26}},"19":{start:{line:29,column:34},end:{line:29,column:83}},"20":{start:{line:29,column:63},end:{line:29,column:82}},"21":{start:{line:30,column:20},end:{line:35,column:21}},"22":{start:{line:31,column:24},end:{line:31,column:50}},"23":{start:{line:34,column:24},end:{line:34,column:37}},"24":{start:{line:40,column:8},end:{line:48,column:9}},"25":{start:{line:40,column:21},end:{line:40,column:22}},"26":{start:{line:41,column:26},end:{line:41,column:92}},"27":{start:{line:41,column:55},end:{line:41,column:91}},"28":{start:{line:42,column:12},end:{line:47,column:13}},"29":{start:{line:43,column:16},end:{line:43,column:42}},"30":{start:{line:46,column:16},end:{line:46,column:29}},"31":{start:{line:50,column:8},end:{line:50,column:44}},"32":{start:{line:53,column:21},end:{line:53,column:63}},"33":{start:{line:54,column:8},end:{line:56,column:9}},"34":{start:{line:55,column:12},end:{line:55,column:25}},"35":{start:{line:57,column:8},end:{line:64,column:9}},"36":{start:{line:57,column:21},end:{line:57,column:22}},"37":{start:{line:58,column:30},end:{line:58,column:44}},"38":{start:{line:59,column:12},end:{line:59,column:35}},"39":{start:{line:60,column:12},end:{line:60,column:67}},"40":{start:{line:61,column:12},end:{line:63,column:13}},"41":{start:{line:62,column:16},end:{line:62,column:29}},"42":{start:{line:65,column:8},end:{line:65,column:20}},"43":{start:{line:68,column:25},end:{line:68,column:68}},"44":{start:{line:68,column:49},end:{line:68,column:67}},"45":{start:{line:69,column:8},end:{line:71,column:9}},"46":{start:{line:70,column:12},end:{line:70,column:92}},"47":{start:{line:72,column:8},end:{line:72,column:24}},"48":{start:{line:75,column:8},end:{line:77,column:9}},"49":{start:{line:76,column:12},end:{line:76,column:59}},"50":{start:{line:78,column:8},end:{line:80,column:9}},"51":{start:{line:79,column:12},end:{line:79,column:33}},"52":{start:{line:81,column:8},end:{line:83,column:9}},"53":{start:{line:82,column:12},end:{line:82,column:88}},"54":{start:{line:84,column:8},end:{line:86,column:9}},"55":{start:{line:85,column:12},end:{line:85,column:88}},"56":{start:{line:87,column:8},end:{line:87,column:42}},"57":{start:{line:90,column:26},end:{line:90,column:28}},"58":{start:{line:91,column:8},end:{line:100,column:9}},"59":{start:{line:92,column:12},end:{line:92,column:42}},"60":{start:{line:93,column:12},end:{line:93,column:40}},"61":{start:{line:94,column:12},end:{line:94,column:43}},"62":{start:{line:95,column:12},end:{line:95,column:40}},"63":{start:{line:96,column:12},end:{line:96,column:43}},"64":{start:{line:97,column:12},end:{line:97,column:45}},"65":{start:{line:98,column:12},end:{line:98,column:63}},"66":{start:{line:98,column:41},end:{line:98,column:61}},"67":{start:{line:99,column:12},end:{line:99,column:64}},"68":{start:{line:99,column:42},end:{line:99,column:62}},"69":{start:{line:101,column:25},end:{line:101,column:68}},"70":{start:{line:101,column:45},end:{line:101,column:67}},"71":{start:{line:102,column:8},end:{line:104,column:9}},"72":{start:{line:103,column:12},end:{line:103,column:92}},"73":{start:{line:105,column:8},end:{line:105,column:24}},"74":{start:{line:108,column:8},end:{line:121,column:9}},"75":{start:{line:109,column:30},end:{line:109,column:32}},"76":{start:{line:110,column:12},end:{line:110,column:42}},"77":{start:{line:111,column:12},end:{line:111,column:40}},"78":{start:{line:112,column:12},end:{line:112,column:43}},"79":{start:{line:113,column:12},end:{line:113,column:40}},"80":{start:{line:114,column:12},end:{line:114,column:43}},"81":{start:{line:115,column:12},end:{line:115,column:45}},"82":{start:{line:116,column:12},end:{line:116,column:63}},"83":{start:{line:116,column:41},end:{line:116,column:61}},"84":{start:{line:117,column:12},end:{line:117,column:64}},"85":{start:{line:117,column:42},end:{line:117,column:62}},"86":{start:{line:118,column:12},end:{line:120,column:13}},"87":{start:{line:119,column:16},end:{line:119,column:30}},"88":{start:{line:122,column:8},end:{line:122,column:88}},"89":{start:{line:125,column:8},end:{line:129,column:9}},"90":{start:{line:126,column:12},end:{line:128,column:13}},"91":{start:{line:127,column:16},end:{line:127,column:47}},"92":{start:{line:130,column:8},end:{line:130,column:25}},"93":{start:{line:133,column:0},end:{line:133,column:32}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:9,column:4},end:{line:9,column:5}},loc:{start:{line:9,column:43},end:{line:51,column:5}},line:9},"1":{name:"(anonymous_1)",decl:{start:{line:14,column:23},end:{line:14,column:24}},loc:{start:{line:14,column:28},end:{line:16,column:9}},line:14},"2":{name:"(anonymous_2)",decl:{start:{line:15,column:31},end:{line:15,column:32}},loc:{start:{line:15,column:43},end:{line:15,column:66}},line:15},"3":{name:"(anonymous_3)",decl:{start:{line:20,column:21},end:{line:20,column:22}},loc:{start:{line:20,column:33},end:{line:38,column:9}},line:20},"4":{name:"(anonymous_4)",decl:{start:{line:29,column:53},end:{line:29,column:54}},loc:{start:{line:29,column:63},end:{line:29,column:82}},line:29},"5":{name:"(anonymous_5)",decl:{start:{line:41,column:45},end:{line:41,column:46}},loc:{start:{line:41,column:55},end:{line:41,column:91}},line:41},"6":{name:"(anonymous_6)",decl:{start:{line:52,column:4},end:{line:52,column:5}},loc:{start:{line:52,column:42},end:{line:66,column:5}},line:52},"7":{name:"(anonymous_7)",decl:{start:{line:67,column:4},end:{line:67,column:5}},loc:{start:{line:67,column:38},end:{line:73,column:5}},line:67},"8":{name:"(anonymous_8)",decl:{start:{line:68,column:44},end:{line:68,column:45}},loc:{start:{line:68,column:49},end:{line:68,column:67}},line:68},"9":{name:"(anonymous_9)",decl:{start:{line:74,column:4},end:{line:74,column:5}},loc:{start:{line:74,column:44},end:{line:88,column:5}},line:74},"10":{name:"(anonymous_10)",decl:{start:{line:89,column:4},end:{line:89,column:5}},loc:{start:{line:89,column:37},end:{line:106,column:5}},line:89},"11":{name:"(anonymous_11)",decl:{start:{line:98,column:33},end:{line:98,column:34}},loc:{start:{line:98,column:41},end:{line:98,column:61}},line:98},"12":{name:"(anonymous_12)",decl:{start:{line:99,column:34},end:{line:99,column:35}},loc:{start:{line:99,column:42},end:{line:99,column:62}},line:99},"13":{name:"(anonymous_13)",decl:{start:{line:101,column:40},end:{line:101,column:41}},loc:{start:{line:101,column:45},end:{line:101,column:67}},line:101},"14":{name:"(anonymous_14)",decl:{start:{line:107,column:4},end:{line:107,column:5}},loc:{start:{line:107,column:38},end:{line:123,column:5}},line:107},"15":{name:"(anonymous_15)",decl:{start:{line:116,column:33},end:{line:116,column:34}},loc:{start:{line:116,column:41},end:{line:116,column:61}},line:116},"16":{name:"(anonymous_16)",decl:{start:{line:117,column:34},end:{line:117,column:35}},loc:{start:{line:117,column:42},end:{line:117,column:62}},line:117},"17":{name:"(anonymous_17)",decl:{start:{line:124,column:4},end:{line:124,column:5}},loc:{start:{line:124,column:33},end:{line:131,column:5}},line:124}},branchMap:{"0":{loc:{start:{line:10,column:8},end:{line:12,column:9}},type:"if",locations:[{start:{line:10,column:8},end:{line:12,column:9}},{start:{line:10,column:8},end:{line:12,column:9}}],line:10},"1":{loc:{start:{line:21,column:12},end:{line:37,column:13}},type:"switch",locations:[{start:{line:22,column:16},end:{line:22,column:47}},{start:{line:23,column:16},end:{line:24,column:26}},{start:{line:25,column:16},end:{line:27,column:26}},{start:{line:28,column:16},end:{line:36,column:17}}],line:21},"2":{loc:{start:{line:30,column:20},end:{line:35,column:21}},type:"if",locations:[{start:{line:30,column:20},end:{line:35,column:21}},{start:{line:30,column:20},end:{line:35,column:21}}],line:30},"3":{loc:{start:{line:42,column:12},end:{line:47,column:13}},type:"if",locations:[{start:{line:42,column:12},end:{line:47,column:13}},{start:{line:42,column:12},end:{line:47,column:13}}],line:42},"4":{loc:{start:{line:54,column:8},end:{line:56,column:9}},type:"if",locations:[{start:{line:54,column:8},end:{line:56,column:9}},{start:{line:54,column:8},end:{line:56,column:9}}],line:54},"5":{loc:{start:{line:61,column:12},end:{line:63,column:13}},type:"if",locations:[{start:{line:61,column:12},end:{line:63,column:13}},{start:{line:61,column:12},end:{line:63,column:13}}],line:61},"6":{loc:{start:{line:69,column:8},end:{line:71,column:9}},type:"if",locations:[{start:{line:69,column:8},end:{line:71,column:9}},{start:{line:69,column:8},end:{line:71,column:9}}],line:69},"7":{loc:{start:{line:75,column:8},end:{line:77,column:9}},type:"if",locations:[{start:{line:75,column:8},end:{line:77,column:9}},{start:{line:75,column:8},end:{line:77,column:9}}],line:75},"8":{loc:{start:{line:78,column:8},end:{line:80,column:9}},type:"if",locations:[{start:{line:78,column:8},end:{line:80,column:9}},{start:{line:78,column:8},end:{line:80,column:9}}],line:78},"9":{loc:{start:{line:81,column:8},end:{line:83,column:9}},type:"if",locations:[{start:{line:81,column:8},end:{line:83,column:9}},{start:{line:81,column:8},end:{line:83,column:9}}],line:81},"10":{loc:{start:{line:84,column:8},end:{line:86,column:9}},type:"if",locations:[{start:{line:84,column:8},end:{line:86,column:9}},{start:{line:84,column:8},end:{line:86,column:9}}],line:84},"11":{loc:{start:{line:102,column:8},end:{line:104,column:9}},type:"if",locations:[{start:{line:102,column:8},end:{line:104,column:9}},{start:{line:102,column:8},end:{line:104,column:9}}],line:102},"12":{loc:{start:{line:118,column:12},end:{line:120,column:13}},type:"if",locations:[{start:{line:118,column:12},end:{line:120,column:13}},{start:{line:118,column:12},end:{line:120,column:13}}],line:118},"13":{loc:{start:{line:126,column:12},end:{line:128,column:13}},type:"if",locations:[{start:{line:126,column:12},end:{line:128,column:13}},{start:{line:126,column:12},end:{line:128,column:13}}],line:126}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},b:{"0":[0,0],"1":[0,0,0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},inputSourceMap:{version:3,file:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/state-utils.ts",sources:["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/game/store/state-utils.ts"],names:[],mappings:"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",sourcesContent:["import { Card } from './card/card';\nimport { CardList } from './state/card-list';\nimport { CardTarget, PlayerType, SlotType } from './actions/play-card-action';\nimport { CardType } from './card/card-types';\nimport { GameError } from '../game-error';\nimport { GameMessage } from '../game-message';\nimport { State } from './state/state';\nimport { Player } from './state/player';\nimport { PokemonCardList } from './state/pokemon-card-list';\nimport { EnergyMap } from './prompts/choose-energy-prompt';\n\nexport class StateUtils {\n  public static checkEnoughEnergy(energy: EnergyMap[], cost: CardType[]): boolean {\n    if (cost.length === 0) {\n      return true;\n    }\n\n    const provides: CardType[] = [];\n    energy.forEach(e => {\n      e.provides.forEach(cardType => provides.push(cardType));\n    });\n\n    let colorless = 0;\n    let rainbow = 0;\n\n    // First remove from array cards with specific energy types\n    cost.forEach(costType => {\n      switch (costType) {\n        case CardType.ANY:\n        case CardType.NONE:\n          break;\n        case CardType.COLORLESS:\n          colorless += 1;\n          break;\n        default: {\n          const index = provides.findIndex(energy => energy === costType);\n          if (index !== -1) {\n            provides.splice(index, 1);\n          } else {\n            rainbow += 1;\n          }\n        }\n      }\n    });\n\n    // Check if we have enough rainbow energies\n    for (let i = 0; i < rainbow; i++) {\n      const index = provides.findIndex(energy => energy === CardType.ANY);\n      if (index !== -1) {\n        provides.splice(index, 1);\n      } else {\n        return false;\n      }\n    }\n\n    // Rest cards can be used to pay for colorless energies\n    return provides.length >= colorless;\n  }\n\n  public static checkExactEnergy(energy: EnergyMap[], cost: CardType[]): boolean {\n    let enough = StateUtils.checkEnoughEnergy(energy, cost);\n    if (!enough) {\n      return false;\n    }\n\n    for (let i = 0; i < energy.length; i++) {\n      const tempCards = energy.slice();\n      tempCards.splice(i, 1);\n      enough = StateUtils.checkEnoughEnergy(tempCards, cost);\n      if (enough) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  public static getOpponent(state: State, player: Player): Player {\n    const opponent = state.players.find(p => p.id !== player.id);\n    if (opponent === undefined) {\n      throw new GameError(GameMessage.INVALID_GAME_STATE);\n    }\n    return opponent;\n  }\n\n  public static getTarget(state: State, player: Player, target: CardTarget): PokemonCardList {\n    if (target.player === PlayerType.TOP_PLAYER) {\n      player = StateUtils.getOpponent(state, player);\n    }\n    if (target.slot === SlotType.ACTIVE) {\n      return player.active;\n    }\n    if (target.slot !== SlotType.BENCH) {\n      throw new GameError(GameMessage.INVALID_TARGET);\n    }\n    if (player.bench[target.index] === undefined) {\n      throw new GameError(GameMessage.INVALID_TARGET);\n    }\n    return player.bench[target.index];\n  }\n\n  public static findCardList(state: State, card: Card): CardList {\n    const cardLists: CardList[] = [];\n    for (const player of state.players) {\n      cardLists.push(player.active);\n      cardLists.push(player.deck);\n      cardLists.push(player.discard);\n      cardLists.push(player.hand);\n      cardLists.push(player.stadium);\n      cardLists.push(player.supporter);\n      player.bench.forEach(item => cardLists.push(item));\n      player.prizes.forEach(item => cardLists.push(item));\n    }\n    const cardList = cardLists.find(c => c.cards.includes(card));\n    if (cardList === undefined) {\n      throw new GameError(GameMessage.INVALID_GAME_STATE);\n    }\n    return cardList;\n  }\n\n  public static findOwner(state: State, cardList: CardList): Player {\n    for (const player of state.players) {\n      const cardLists: CardList[] = [];\n      cardLists.push(player.active);\n      cardLists.push(player.deck);\n      cardLists.push(player.discard);\n      cardLists.push(player.hand);\n      cardLists.push(player.stadium);\n      cardLists.push(player.supporter);\n      player.bench.forEach(item => cardLists.push(item));\n      player.prizes.forEach(item => cardLists.push(item));\n      if (cardLists.includes(cardList)) {\n        return player;\n      }\n    }\n    throw new GameError(GameMessage.INVALID_GAME_STATE);\n  }\n\n  public static getStadiumCard(state: State): Card | undefined {\n    for (const player of state.players) {\n      if (player.stadium.cards.length > 0) {\n        return player.stadium.cards[0];\n      }\n    }\n    return undefined;\n  }\n\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7ad778b377c68e3cf31ed50b13404940e85dabdb"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1fqojzxps7=function(){return actualCoverage;};}return actualCoverage;}cov_1fqojzxps7();cov_1fqojzxps7().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_1fqojzxps7().s[1]++;exports.StateUtils=void 0;const play_card_action_1=(cov_1fqojzxps7().s[2]++,require("./actions/play-card-action"));const card_types_1=(cov_1fqojzxps7().s[3]++,require("./card/card-types"));const game_error_1=(cov_1fqojzxps7().s[4]++,require("../game-error"));const game_message_1=(cov_1fqojzxps7().s[5]++,require("../game-message"));class StateUtils{static checkEnoughEnergy(energy,cost){cov_1fqojzxps7().f[0]++;cov_1fqojzxps7().s[6]++;if(cost.length===0){cov_1fqojzxps7().b[0][0]++;cov_1fqojzxps7().s[7]++;return true;}else{cov_1fqojzxps7().b[0][1]++;}const provides=(cov_1fqojzxps7().s[8]++,[]);cov_1fqojzxps7().s[9]++;energy.forEach(e=>{cov_1fqojzxps7().f[1]++;cov_1fqojzxps7().s[10]++;e.provides.forEach(cardType=>{cov_1fqojzxps7().f[2]++;cov_1fqojzxps7().s[11]++;return provides.push(cardType);});});let colorless=(cov_1fqojzxps7().s[12]++,0);let rainbow=(cov_1fqojzxps7().s[13]++,0);// First remove from array cards with specific energy types
cov_1fqojzxps7().s[14]++;cost.forEach(costType=>{cov_1fqojzxps7().f[3]++;cov_1fqojzxps7().s[15]++;switch(costType){case card_types_1.CardType.ANY:cov_1fqojzxps7().b[1][0]++;case card_types_1.CardType.NONE:cov_1fqojzxps7().b[1][1]++;cov_1fqojzxps7().s[16]++;break;case card_types_1.CardType.COLORLESS:cov_1fqojzxps7().b[1][2]++;cov_1fqojzxps7().s[17]++;colorless+=1;cov_1fqojzxps7().s[18]++;break;default:cov_1fqojzxps7().b[1][3]++;{const index=(cov_1fqojzxps7().s[19]++,provides.findIndex(energy=>{cov_1fqojzxps7().f[4]++;cov_1fqojzxps7().s[20]++;return energy===costType;}));cov_1fqojzxps7().s[21]++;if(index!==-1){cov_1fqojzxps7().b[2][0]++;cov_1fqojzxps7().s[22]++;provides.splice(index,1);}else{cov_1fqojzxps7().b[2][1]++;cov_1fqojzxps7().s[23]++;rainbow+=1;}}}});// Check if we have enough rainbow energies
cov_1fqojzxps7().s[24]++;for(let i=(cov_1fqojzxps7().s[25]++,0);i<rainbow;i++){const index=(cov_1fqojzxps7().s[26]++,provides.findIndex(energy=>{cov_1fqojzxps7().f[5]++;cov_1fqojzxps7().s[27]++;return energy===card_types_1.CardType.ANY;}));cov_1fqojzxps7().s[28]++;if(index!==-1){cov_1fqojzxps7().b[3][0]++;cov_1fqojzxps7().s[29]++;provides.splice(index,1);}else{cov_1fqojzxps7().b[3][1]++;cov_1fqojzxps7().s[30]++;return false;}}// Rest cards can be used to pay for colorless energies
cov_1fqojzxps7().s[31]++;return provides.length>=colorless;}static checkExactEnergy(energy,cost){cov_1fqojzxps7().f[6]++;let enough=(cov_1fqojzxps7().s[32]++,StateUtils.checkEnoughEnergy(energy,cost));cov_1fqojzxps7().s[33]++;if(!enough){cov_1fqojzxps7().b[4][0]++;cov_1fqojzxps7().s[34]++;return false;}else{cov_1fqojzxps7().b[4][1]++;}cov_1fqojzxps7().s[35]++;for(let i=(cov_1fqojzxps7().s[36]++,0);i<energy.length;i++){const tempCards=(cov_1fqojzxps7().s[37]++,energy.slice());cov_1fqojzxps7().s[38]++;tempCards.splice(i,1);cov_1fqojzxps7().s[39]++;enough=StateUtils.checkEnoughEnergy(tempCards,cost);cov_1fqojzxps7().s[40]++;if(enough){cov_1fqojzxps7().b[5][0]++;cov_1fqojzxps7().s[41]++;return false;}else{cov_1fqojzxps7().b[5][1]++;}}cov_1fqojzxps7().s[42]++;return true;}static getOpponent(state,player){cov_1fqojzxps7().f[7]++;const opponent=(cov_1fqojzxps7().s[43]++,state.players.find(p=>{cov_1fqojzxps7().f[8]++;cov_1fqojzxps7().s[44]++;return p.id!==player.id;}));cov_1fqojzxps7().s[45]++;if(opponent===undefined){cov_1fqojzxps7().b[6][0]++;cov_1fqojzxps7().s[46]++;throw new game_error_1.GameError(game_message_1.GameMessage.INVALID_GAME_STATE);}else{cov_1fqojzxps7().b[6][1]++;}cov_1fqojzxps7().s[47]++;return opponent;}static getTarget(state,player,target){cov_1fqojzxps7().f[9]++;cov_1fqojzxps7().s[48]++;if(target.player===play_card_action_1.PlayerType.TOP_PLAYER){cov_1fqojzxps7().b[7][0]++;cov_1fqojzxps7().s[49]++;player=StateUtils.getOpponent(state,player);}else{cov_1fqojzxps7().b[7][1]++;}cov_1fqojzxps7().s[50]++;if(target.slot===play_card_action_1.SlotType.ACTIVE){cov_1fqojzxps7().b[8][0]++;cov_1fqojzxps7().s[51]++;return player.active;}else{cov_1fqojzxps7().b[8][1]++;}cov_1fqojzxps7().s[52]++;if(target.slot!==play_card_action_1.SlotType.BENCH){cov_1fqojzxps7().b[9][0]++;cov_1fqojzxps7().s[53]++;throw new game_error_1.GameError(game_message_1.GameMessage.INVALID_TARGET);}else{cov_1fqojzxps7().b[9][1]++;}cov_1fqojzxps7().s[54]++;if(player.bench[target.index]===undefined){cov_1fqojzxps7().b[10][0]++;cov_1fqojzxps7().s[55]++;throw new game_error_1.GameError(game_message_1.GameMessage.INVALID_TARGET);}else{cov_1fqojzxps7().b[10][1]++;}cov_1fqojzxps7().s[56]++;return player.bench[target.index];}static findCardList(state,card){cov_1fqojzxps7().f[10]++;const cardLists=(cov_1fqojzxps7().s[57]++,[]);cov_1fqojzxps7().s[58]++;for(const player of state.players){cov_1fqojzxps7().s[59]++;cardLists.push(player.active);cov_1fqojzxps7().s[60]++;cardLists.push(player.deck);cov_1fqojzxps7().s[61]++;cardLists.push(player.discard);cov_1fqojzxps7().s[62]++;cardLists.push(player.hand);cov_1fqojzxps7().s[63]++;cardLists.push(player.stadium);cov_1fqojzxps7().s[64]++;cardLists.push(player.supporter);cov_1fqojzxps7().s[65]++;player.bench.forEach(item=>{cov_1fqojzxps7().f[11]++;cov_1fqojzxps7().s[66]++;return cardLists.push(item);});cov_1fqojzxps7().s[67]++;player.prizes.forEach(item=>{cov_1fqojzxps7().f[12]++;cov_1fqojzxps7().s[68]++;return cardLists.push(item);});}const cardList=(cov_1fqojzxps7().s[69]++,cardLists.find(c=>{cov_1fqojzxps7().f[13]++;cov_1fqojzxps7().s[70]++;return c.cards.includes(card);}));cov_1fqojzxps7().s[71]++;if(cardList===undefined){cov_1fqojzxps7().b[11][0]++;cov_1fqojzxps7().s[72]++;throw new game_error_1.GameError(game_message_1.GameMessage.INVALID_GAME_STATE);}else{cov_1fqojzxps7().b[11][1]++;}cov_1fqojzxps7().s[73]++;return cardList;}static findOwner(state,cardList){cov_1fqojzxps7().f[14]++;cov_1fqojzxps7().s[74]++;for(const player of state.players){const cardLists=(cov_1fqojzxps7().s[75]++,[]);cov_1fqojzxps7().s[76]++;cardLists.push(player.active);cov_1fqojzxps7().s[77]++;cardLists.push(player.deck);cov_1fqojzxps7().s[78]++;cardLists.push(player.discard);cov_1fqojzxps7().s[79]++;cardLists.push(player.hand);cov_1fqojzxps7().s[80]++;cardLists.push(player.stadium);cov_1fqojzxps7().s[81]++;cardLists.push(player.supporter);cov_1fqojzxps7().s[82]++;player.bench.forEach(item=>{cov_1fqojzxps7().f[15]++;cov_1fqojzxps7().s[83]++;return cardLists.push(item);});cov_1fqojzxps7().s[84]++;player.prizes.forEach(item=>{cov_1fqojzxps7().f[16]++;cov_1fqojzxps7().s[85]++;return cardLists.push(item);});cov_1fqojzxps7().s[86]++;if(cardLists.includes(cardList)){cov_1fqojzxps7().b[12][0]++;cov_1fqojzxps7().s[87]++;return player;}else{cov_1fqojzxps7().b[12][1]++;}}cov_1fqojzxps7().s[88]++;throw new game_error_1.GameError(game_message_1.GameMessage.INVALID_GAME_STATE);}static getStadiumCard(state){cov_1fqojzxps7().f[17]++;cov_1fqojzxps7().s[89]++;for(const player of state.players){cov_1fqojzxps7().s[90]++;if(player.stadium.cards.length>0){cov_1fqojzxps7().b[13][0]++;cov_1fqojzxps7().s[91]++;return player.stadium.cards[0];}else{cov_1fqojzxps7().b[13][1]++;}}cov_1fqojzxps7().s[92]++;return undefined;}}cov_1fqojzxps7().s[93]++;exports.StateUtils=StateUtils;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2pvZW15ZXJzY291Z2gvRG9jdW1lbnRzL0dpdEh1Yi9wdGNnLWVwc2QvcHRjZy1zZXJ2ZXIvc3JjL2dhbWUvc3RvcmUvc3RhdGUtdXRpbHMudHMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2VteWVyc2NvdWdoL0RvY3VtZW50cy9HaXRIdWIvcHRjZy1lcHNkL3B0Y2ctc2VydmVyL3NyYy9nYW1lL3N0b3JlL3N0YXRlLXV0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBLGlFQUE4RTtBQUM5RSxrREFBNkM7QUFDN0MsOENBQTBDO0FBQzFDLGtEQUE4QztBQU05QyxNQUFhLFVBQVU7SUFDZCxNQUFNLENBQUMsaUJBQWlCLENBQUMsTUFBbUIsRUFBRSxJQUFnQjtRQUNuRSxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ3JCLE9BQU8sSUFBSSxDQUFDO1NBQ2I7UUFFRCxNQUFNLFFBQVEsR0FBZSxFQUFFLENBQUM7UUFDaEMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUNqQixDQUFDLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztRQUMxRCxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksU0FBUyxHQUFHLENBQUMsQ0FBQztRQUNsQixJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUM7UUFFaEIsMkRBQTJEO1FBQzNELElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFDdEIsUUFBUSxRQUFRLEVBQUU7Z0JBQ2hCLEtBQUsscUJBQVEsQ0FBQyxHQUFHLENBQUM7Z0JBQ2xCLEtBQUsscUJBQVEsQ0FBQyxJQUFJO29CQUNoQixNQUFNO2dCQUNSLEtBQUsscUJBQVEsQ0FBQyxTQUFTO29CQUNyQixTQUFTLElBQUksQ0FBQyxDQUFDO29CQUNmLE1BQU07Z0JBQ1IsT0FBTyxDQUFDLENB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S0FBSyxNQUFNLE1BQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxFQUFFO1lBQ2xDLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQkFDbkMsT0FBTyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNoQztTQUNGO1FBQ0QsT0FBTyxTQUFTLENBQUM7SUFDbkIsQ0FBQztDQUVGO0FBdklELGdDQXVJQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENhcmQgfSBmcm9tICcuL2NhcmQvY2FyZCc7XG5pbXBvcnQgeyBDYXJkTGlzdCB9IGZyb20gJy4vc3RhdGUvY2FyZC1saXN0JztcbmltcG9ydCB7IENhcmRUYXJnZXQsIFBsYXllclR5cGUsIFNsb3RUeXBlIH0gZnJvbSAnLi9hY3Rpb25zL3BsYXktY2FyZC1hY3Rpb24nO1xuaW1wb3J0IHsgQ2FyZFR5cGUgfSBmcm9tICcuL2NhcmQvY2FyZC10eXBlcyc7XG5pbXBvcnQgeyBHYW1lRXJyb3IgfSBmcm9tICcuLi9nYW1lLWVycm9yJztcbmltcG9ydCB7IEdhbWVNZXNzYWdlIH0gZnJvbSAnLi4vZ2FtZS1tZXNzYWdlJztcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSAnLi9zdGF0ZS9zdGF0ZSc7XG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tICcuL3N0YXRlL3BsYXllcic7XG5pbXBvcnQgeyBQb2tlbW9uQ2FyZExpc3QgfSBmcm9tICcuL3N0YXRlL3Bva2Vtb24tY2FyZC1saXN0JztcbmltcG9ydCB7IEVuZXJneU1hcCB9IGZyb20gJy4vcHJvbXB0cy9jaG9vc2UtZW5lcmd5LXByb21wdCc7XG5cbmV4cG9ydCBjbGFzcyBTdGF0ZVV0aWxzIHtcbiAgcHVibGljIHN0YXRpYyBjaGVja0Vub3VnaEVuZXJneShlbmVyZ3k6IEVuZXJneU1hcFtdLCBjb3N0OiBDYXJkVHlwZVtdKTogYm9vbGVhbiB7XG4gICAgaWYgKGNvc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb25zdCBwcm92aWRlczogQ2FyZFR5cGVbXSA9IFtdO1xuICAgIGVuZXJneS5mb3JFYWNoKGUgPT4ge1xuICAgICAgZS5wcm92aWRlcy5mb3JFYWNoKGNhcmRUeXBlID0+IHByb3ZpZGVzLnB1c2goY2FyZFR5cGUpKTtcbiAgICB9KTtcblxuICAgIGxldCBjb2xvcmxlc3MgPSAwO1xuICAgIGxldCByYWluYm93ID0gMDtcblxuICAgIC8vIEZpcnN0IHJlbW92ZSBmcm9tIGFycmF5IGNhcmRzIHdpdGggc3BlY2lmaWMgZW5lcmd5IHR5cGVzXG4gICAgY29zdC5mb3JFYWNoKGNvc3RUeXBlID0+IHtcbiAgICAgIHN3aXRjaCAoY29zdFR5cGUpIHtcbiAgICAgICAgY2FzZSBDYXJkVHlwZS5BTlk6XG4gICAgICAgIGNhc2UgQ2FyZFR5cGUuTk9ORTpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDYXJkVHlwZS5DT0xPUkxFU1M6XG4gICAgICAgICAgY29sb3JsZXNzICs9IDE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICBjb25zdCBpbmRleCA9IHByb3ZpZGVzLmZpbmRJbmRleChlbmVyZ3kgPT4gZW5lcmd5ID09PSBjb3N0VHlwZSk7XG4gICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgcHJvdmlkZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmFpbmJvdyArPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBlbm91Z2ggcmFpbmJvdyBlbmVyZ2llc1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmFpbmJvdzsgaSsrKSB7XG4gICAgICBjb25zdCBpbmRleCA9IHByb3ZpZGVzLmZpbmRJbmRleChlbmVyZ3kgPT4gZW5lcmd5ID09PSBDYXJkVHlwZS5BTlkpO1xuICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICBwcm92aWRlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlc3QgY2FyZHMgY2FuIGJlIHVzZWQgdG8gcGF5IGZvciBjb2xvcmxlc3MgZW5lcmdpZXNcbiAgICByZXR1cm4gcHJvdmlkZXMubGVuZ3RoID49IGNvbG9ybGVzcztcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgY2hlY2tFeGFjdEVuZXJneShlbmVyZ3k6IEVuZXJneU1hcFtdLCBjb3N0OiBDYXJkVHlwZVtdKTogYm9vbGVhbiB7XG4gICAgbGV0IGVub3VnaCA9IFN0YXRlVXRpbHMuY2hlY2tFbm91Z2hFbmVyZ3koZW5lcmd5LCBjb3N0KTtcbiAgICBpZiAoIWVub3VnaCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW5lcmd5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB0ZW1wQ2FyZHMgPSBlbmVyZ3kuc2xpY2UoKTtcbiAgICAgIHRlbXBDYXJkcy5zcGxpY2UoaSwgMSk7XG4gICAgICBlbm91Z2ggPSBTdGF0ZVV0aWxzLmNoZWNrRW5vdWdoRW5lcmd5KHRlbXBDYXJkcywgY29zdCk7XG4gICAgICBpZiAoZW5vdWdoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGdldE9wcG9uZW50KHN0YXRlOiBTdGF0ZSwgcGxheWVyOiBQbGF5ZXIpOiBQbGF5ZXIge1xuICAgIGNvbnN0IG9wcG9uZW50ID0gc3RhdGUucGxheWVycy5maW5kKHAgPT4gcC5pZCAhPT0gcGxheWVyLmlkKTtcbiAgICBpZiAob3Bwb25lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEdhbWVFcnJvcihHYW1lTWVzc2FnZS5JTlZBTElEX0dBTUVfU1RBVEUpO1xuICAgIH1cbiAgICByZXR1cm4gb3Bwb25lbnQ7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGdldFRhcmdldChzdGF0ZTogU3RhdGUsIHBsYXllcjogUGxheWVyLCB0YXJnZXQ6IENhcmRUYXJnZXQpOiBQb2tlbW9uQ2FyZExpc3Qge1xuICAgIGlmICh0YXJnZXQucGxheWVyID09PSBQbGF5ZXJUeXBlLlRPUF9QTEFZRVIpIHtcbiAgICAgIHBsYXllciA9IFN0YXRlVXRpbHMuZ2V0T3Bwb25lbnQoc3RhdGUsIHBsYXllcik7XG4gICAgfVxuICAgIGlmICh0YXJnZXQuc2xvdCA9PT0gU2xvdFR5cGUuQUNUSVZFKSB7XG4gICAgICByZXR1cm4gcGxheWVyLmFjdGl2ZTtcbiAgICB9XG4gICAgaWYgKHRhcmdldC5zbG90ICE9PSBTbG90VHlwZS5CRU5DSCkge1xuICAgICAgdGhyb3cgbmV3IEdhbWVFcnJvcihHYW1lTWVzc2FnZS5JTlZBTElEX1RBUkdFVCk7XG4gICAgfVxuICAgIGlmIChwbGF5ZXIuYmVuY2hbdGFyZ2V0LmluZGV4XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgR2FtZUVycm9yKEdhbWVNZXNzYWdlLklOVkFMSURfVEFSR0VUKTtcbiAgICB9XG4gICAgcmV0dXJuIHBsYXllci5iZW5jaFt0YXJnZXQuaW5kZXhdO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBmaW5kQ2FyZExpc3Qoc3RhdGU6IFN0YXRlLCBjYXJkOiBDYXJkKTogQ2FyZExpc3Qge1xuICAgIGNvbnN0IGNhcmRMaXN0czogQ2FyZExpc3RbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgcGxheWVyIG9mIHN0YXRlLnBsYXllcnMpIHtcbiAgICAgIGNhcmRMaXN0cy5wdXNoKHBsYXllci5hY3RpdmUpO1xuICAgICAgY2FyZExpc3RzLnB1c2gocGxheWVyLmRlY2spO1xuICAgICAgY2FyZExpc3RzLnB1c2gocGxheWVyLmRpc2NhcmQpO1xuICAgICAgY2FyZExpc3RzLnB1c2gocGxheWVyLmhhbmQpO1xuICAgICAgY2FyZExpc3RzLnB1c2gocGxheWVyLnN0YWRpdW0pO1xuICAgICAgY2FyZExpc3RzLnB1c2gocGxheWVyLnN1cHBvcnRlcik7XG4gICAgICBwbGF5ZXIuYmVuY2guZm9yRWFjaChpdGVtID0+IGNhcmRMaXN0cy5wdXNoKGl0ZW0pKTtcbiAgICAgIHBsYXllci5wcml6ZXMuZm9yRWFjaChpdGVtID0+IGNhcmRMaXN0cy5wdXNoKGl0ZW0pKTtcbiAgICB9XG4gICAgY29uc3QgY2FyZExpc3QgPSBjYXJkTGlzdHMuZmluZChjID0+IGMuY2FyZHMuaW5jbHVkZXMoY2FyZCkpO1xuICAgIGlmIChjYXJkTGlzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgR2FtZUVycm9yKEdhbWVNZXNzYWdlLklOVkFMSURfR0FNRV9TVEFURSk7XG4gICAgfVxuICAgIHJldHVybiBjYXJkTGlzdDtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZmluZE93bmVyKHN0YXRlOiBTdGF0ZSwgY2FyZExpc3Q6IENhcmRMaXN0KTogUGxheWVyIHtcbiAgICBmb3IgKGNvbnN0IHBsYXllciBvZiBzdGF0ZS5wbGF5ZXJzKSB7XG4gICAgICBjb25zdCBjYXJkTGlzdHM6IENhcmRMaXN0W10gPSBbXTtcbiAgICAgIGNhcmRMaXN0cy5wdXNoKHBsYXllci5hY3RpdmUpO1xuICAgICAgY2FyZExpc3RzLnB1c2gocGxheWVyLmRlY2spO1xuICAgICAgY2FyZExpc3RzLnB1c2gocGxheWVyLmRpc2NhcmQpO1xuICAgICAgY2FyZExpc3RzLnB1c2gocGxheWVyLmhhbmQpO1xuICAgICAgY2FyZExpc3RzLnB1c2gocGxheWVyLnN0YWRpdW0pO1xuICAgICAgY2FyZExpc3RzLnB1c2gocGxheWVyLnN1cHBvcnRlcik7XG4gICAgICBwbGF5ZXIuYmVuY2guZm9yRWFjaChpdGVtID0+IGNhcmRMaXN0cy5wdXNoKGl0ZW0pKTtcbiAgICAgIHBsYXllci5wcml6ZXMuZm9yRWFjaChpdGVtID0+IGNhcmRMaXN0cy5wdXNoKGl0ZW0pKTtcbiAgICAgIGlmIChjYXJkTGlzdHMuaW5jbHVkZXMoY2FyZExpc3QpKSB7XG4gICAgICAgIHJldHVybiBwbGF5ZXI7XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBHYW1lRXJyb3IoR2FtZU1lc3NhZ2UuSU5WQUxJRF9HQU1FX1NUQVRFKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZ2V0U3RhZGl1bUNhcmQoc3RhdGU6IFN0YXRlKTogQ2FyZCB8IHVuZGVmaW5lZCB7XG4gICAgZm9yIChjb25zdCBwbGF5ZXIgb2Ygc3RhdGUucGxheWVycykge1xuICAgICAgaWYgKHBsYXllci5zdGFkaXVtLmNhcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHBsYXllci5zdGFkaXVtLmNhcmRzWzBdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbn1cbiJdfQ==
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2VteWVyc2NvdWdoL0RvY3VtZW50cy9HaXRIdWIvcHRjZy1lcHNkL3B0Y2ctc2VydmVyL3NyYy9nYW1lL3N0b3JlL3N0YXRlLXV0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI0M3FCQW9CTzs4TkFsQlAsS0FBQSxDQUFBLGtCQUFBLDBCQUFBLE9BQUEsQ0FBQSw0QkFBQSxDQUFBLENBQUEsQ0FDQSxLQUFBLENBQUEsWUFBQSwwQkFBQSxPQUFBLENBQUEsbUJBQUEsQ0FBQSxDQUFBLENBQ0EsS0FBQSxDQUFBLFlBQUEsMEJBQUEsT0FBQSxDQUFBLGVBQUEsQ0FBQSxDQUFBLENBQ0EsS0FBQSxDQUFBLGNBQUEsMEJBQUEsT0FBQSxDQUFBLGlCQUFBLENBQUEsQ0FBQSxDQU1BLEtBQWEsQ0FBQSxVQUFVLENBQ1UsTUFBakIsQ0FBQSxpQkFBaUIsQ0FBQyxNQUFELENBQXNCLElBQXRCLENBQXNDLGlEQUNuRSxHQUFJLElBQUksQ0FBQyxNQUFMLEdBQWdCLENBQXBCLENBQXVCLG9EQUNyQixNQUFPLEtBQVAsQ0FDRCxDQUZELGlDQUlBLEtBQU0sQ0FBQSxRQUFRLDBCQUFlLEVBQWYsQ0FBZCxDQUxtRSx3QkFNbkUsTUFBTSxDQUFDLE9BQVAsQ0FBZSxDQUFDLEVBQUcsa0RBQ2pCLENBQUMsQ0FBQyxRQUFGLENBQVcsT0FBWCxDQUFtQixRQUFRLEVBQUksd0RBQUEsQ0FBQSxRQUFRLENBQUMsSUFBVCxDQUFjLFFBQWQsRUFBdUIsQ0FBdEQsRUFDRCxDQUZELEVBSUEsR0FBSSxDQUFBLFNBQVMsMkJBQUcsQ0FBSCxDQUFiLENBQ0EsR0FBSSxDQUFBLE9BQU8sMkJBQUcsQ0FBSCxDQUFYLENBRUE7QUFibUUseUJBY25FLElBQUksQ0FBQyxPQUFMLENBQWEsUUFBUSxFQUFHLGtEQUN0QixPQUFRLFFBQVIsRUFDRSxJQUFLLENBQUEsWUFBQSxDQUFBLFFBQUEsQ0FBUyxHQUFkLDRCQUNBLElBQUssQ0FBQSxZQUFBLENBQUEsUUFBQSxDQUFT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ZExpc3QgfSBmcm9tICcuL3N0YXRlL2NhcmQtbGlzdCc7XG5pbXBvcnQgeyBDYXJkVGFyZ2V0LCBQbGF5ZXJUeXBlLCBTbG90VHlwZSB9IGZyb20gJy4vYWN0aW9ucy9wbGF5LWNhcmQtYWN0aW9uJztcbmltcG9ydCB7IENhcmRUeXBlIH0gZnJvbSAnLi9jYXJkL2NhcmQtdHlwZXMnO1xuaW1wb3J0IHsgR2FtZUVycm9yIH0gZnJvbSAnLi4vZ2FtZS1lcnJvcic7XG5pbXBvcnQgeyBHYW1lTWVzc2FnZSB9IGZyb20gJy4uL2dhbWUtbWVzc2FnZSc7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4vc3RhdGUvc3RhdGUnO1xuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi9zdGF0ZS9wbGF5ZXInO1xuaW1wb3J0IHsgUG9rZW1vbkNhcmRMaXN0IH0gZnJvbSAnLi9zdGF0ZS9wb2tlbW9uLWNhcmQtbGlzdCc7XG5pbXBvcnQgeyBFbmVyZ3lNYXAgfSBmcm9tICcuL3Byb21wdHMvY2hvb3NlLWVuZXJneS1wcm9tcHQnO1xuXG5leHBvcnQgY2xhc3MgU3RhdGVVdGlscyB7XG4gIHB1YmxpYyBzdGF0aWMgY2hlY2tFbm91Z2hFbmVyZ3koZW5lcmd5OiBFbmVyZ3lNYXBbXSwgY29zdDogQ2FyZFR5cGVbXSk6IGJvb2xlYW4ge1xuICAgIGlmIChjb3N0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvdmlkZXM6IENhcmRUeXBlW10gPSBbXTtcbiAgICBlbmVyZ3kuZm9yRWFjaChlID0+IHtcbiAgICAgIGUucHJvdmlkZXMuZm9yRWFjaChjYXJkVHlwZSA9PiBwcm92aWRlcy5wdXNoKGNhcmRUeXBlKSk7XG4gICAgfSk7XG5cbiAgICBsZXQgY29sb3JsZXNzID0gMDtcbiAgICBsZXQgcmFpbmJvdyA9IDA7XG5cbiAgICAvLyBGaXJzdCByZW1vdmUgZnJvbSBhcnJheSBjYXJkcyB3aXRoIHNwZWNpZmljIGVuZXJneSB0eXBlc1xuICAgIGNvc3QuZm9yRWFjaChjb3N0VHlwZSA9PiB7XG4gICAgICBzd2l0Y2ggKGNvc3RUeXBlKSB7XG4gICAgICAgIGNhc2UgQ2FyZFR5cGUuQU5ZOlxuICAgICAgICBjYXNlIENhcmRUeXBlLk5PTkU6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ2FyZFR5cGUuQ09MT1JMRVNTOlxuICAgICAgICAgIGNvbG9ybGVzcyArPSAxO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBwcm92aWRlcy5maW5kSW5kZXgoZW5lcmd5ID0+IGVuZXJneSA9PT0gY29zdFR5cGUpO1xuICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHByb3ZpZGVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJhaW5ib3cgKz0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgZW5vdWdoIHJhaW5ib3cgZW5lcmdpZXNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhaW5ib3c7IGkrKykge1xuICAgICAgY29uc3QgaW5kZXggPSBwcm92aWRlcy5maW5kSW5kZXgoZW5lcmd5ID0+IGVuZXJneSA9PT0gQ2FyZFR5cGUuQU5ZKTtcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgcHJvdmlkZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXN0IGNhcmRzIGNhbiBiZSB1c2VkIHRvIHBheSBmb3IgY29sb3JsZXNzIGVuZXJnaWVzXG4gICAgcmV0dXJuIHByb3ZpZGVzLmxlbmd0aCA+PSBjb2xvcmxlc3M7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGNoZWNrRXhhY3RFbmVyZ3koZW5lcmd5OiBFbmVyZ3lNYXBbXSwgY29zdDogQ2FyZFR5cGVbXSk6IGJvb2xlYW4ge1xuICAgIGxldCBlbm91Z2ggPSBTdGF0ZVV0aWxzLmNoZWNrRW5vdWdoRW5lcmd5KGVuZXJneSwgY29zdCk7XG4gICAgaWYgKCFlbm91Z2gpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVuZXJneS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdGVtcENhcmRzID0gZW5lcmd5LnNsaWNlKCk7XG4gICAgICB0ZW1wQ2FyZHMuc3BsaWNlKGksIDEpO1xuICAgICAgZW5vdWdoID0gU3RhdGVVdGlscy5jaGVja0Vub3VnaEVuZXJneSh0ZW1wQ2FyZHMsIGNvc3QpO1xuICAgICAgaWYgKGVub3VnaCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBnZXRPcHBvbmVudChzdGF0ZTogU3RhdGUsIHBsYXllcjogUGxheWVyKTogUGxheWVyIHtcbiAgICBjb25zdCBvcHBvbmVudCA9IHN0YXRlLnBsYXllcnMuZmluZChwID0+IHAuaWQgIT09IHBsYXllci5pZCk7XG4gICAgaWYgKG9wcG9uZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBHYW1lRXJyb3IoR2FtZU1lc3NhZ2UuSU5WQUxJRF9HQU1FX1NUQVRFKTtcbiAgICB9XG4gICAgcmV0dXJuIG9wcG9uZW50O1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBnZXRUYXJnZXQoc3RhdGU6IFN0YXRlLCBwbGF5ZXI6IFBsYXllciwgdGFyZ2V0OiBDYXJkVGFyZ2V0KTogUG9rZW1vbkNhcmRMaXN0IHtcbiAgICBpZiAodGFyZ2V0LnBsYXllciA9PT0gUGxheWVyVHlwZS5UT1BfUExBWUVSKSB7XG4gICAgICBwbGF5ZXIgPSBTdGF0ZVV0aWxzLmdldE9wcG9uZW50KHN0YXRlLCBwbGF5ZXIpO1xuICAgIH1cbiAgICBpZiAodGFyZ2V0LnNsb3QgPT09IFNsb3RUeXBlLkFDVElWRSkge1xuICAgICAgcmV0dXJuIHBsYXllci5hY3RpdmU7XG4gICAgfVxuICAgIGlmICh0YXJnZXQuc2xvdCAhPT0gU2xvdFR5cGUuQkVOQ0gpIHtcbiAgICAgIHRocm93IG5ldyBHYW1lRXJyb3IoR2FtZU1lc3NhZ2UuSU5WQUxJRF9UQVJHRVQpO1xuICAgIH1cbiAgICBpZiAocGxheWVyLmJlbmNoW3RhcmdldC5pbmRleF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEdhbWVFcnJvcihHYW1lTWVzc2FnZS5JTlZBTElEX1RBUkdFVCk7XG4gICAgfVxuICAgIHJldHVybiBwbGF5ZXIuYmVuY2hbdGFyZ2V0LmluZGV4XTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZmluZENhcmRMaXN0KHN0YXRlOiBTdGF0ZSwgY2FyZDogQ2FyZCk6IENhcmRMaXN0IHtcbiAgICBjb25zdCBjYXJkTGlzdHM6IENhcmRMaXN0W10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHBsYXllciBvZiBzdGF0ZS5wbGF5ZXJzKSB7XG4gICAgICBjYXJkTGlzdHMucHVzaChwbGF5ZXIuYWN0aXZlKTtcbiAgICAgIGNhcmRMaXN0cy5wdXNoKHBsYXllci5kZWNrKTtcbiAgICAgIGNhcmRMaXN0cy5wdXNoKHBsYXllci5kaXNjYXJkKTtcbiAgICAgIGNhcmRMaXN0cy5wdXNoKHBsYXllci5oYW5kKTtcbiAgICAgIGNhcmRMaXN0cy5wdXNoKHBsYXllci5zdGFkaXVtKTtcbiAgICAgIGNhcmRMaXN0cy5wdXNoKHBsYXllci5zdXBwb3J0ZXIpO1xuICAgICAgcGxheWVyLmJlbmNoLmZvckVhY2goaXRlbSA9PiBjYXJkTGlzdHMucHVzaChpdGVtKSk7XG4gICAgICBwbGF5ZXIucHJpemVzLmZvckVhY2goaXRlbSA9PiBjYXJkTGlzdHMucHVzaChpdGVtKSk7XG4gICAgfVxuICAgIGNvbnN0IGNhcmRMaXN0ID0gY2FyZExpc3RzLmZpbmQoYyA9PiBjLmNhcmRzLmluY2x1ZGVzKGNhcmQpKTtcbiAgICBpZiAoY2FyZExpc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEdhbWVFcnJvcihHYW1lTWVzc2FnZS5JTlZBTElEX0dBTUVfU1RBVEUpO1xuICAgIH1cbiAgICByZXR1cm4gY2FyZExpc3Q7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGZpbmRPd25lcihzdGF0ZTogU3RhdGUsIGNhcmRMaXN0OiBDYXJkTGlzdCk6IFBsYXllciB7XG4gICAgZm9yIChjb25zdCBwbGF5ZXIgb2Ygc3RhdGUucGxheWVycykge1xuICAgICAgY29uc3QgY2FyZExpc3RzOiBDYXJkTGlzdFtdID0gW107XG4gICAgICBjYXJkTGlzdHMucHVzaChwbGF5ZXIuYWN0aXZlKTtcbiAgICAgIGNhcmRMaXN0cy5wdXNoKHBsYXllci5kZWNrKTtcbiAgICAgIGNhcmRMaXN0cy5wdXNoKHBsYXllci5kaXNjYXJkKTtcbiAgICAgIGNhcmRMaXN0cy5wdXNoKHBsYXllci5oYW5kKTtcbiAgICAgIGNhcmRMaXN0cy5wdXNoKHBsYXllci5zdGFkaXVtKTtcbiAgICAgIGNhcmRMaXN0cy5wdXNoKHBsYXllci5zdXBwb3J0ZXIpO1xuICAgICAgcGxheWVyLmJlbmNoLmZvckVhY2goaXRlbSA9PiBjYXJkTGlzdHMucHVzaChpdGVtKSk7XG4gICAgICBwbGF5ZXIucHJpemVzLmZvckVhY2goaXRlbSA9PiBjYXJkTGlzdHMucHVzaChpdGVtKSk7XG4gICAgICBpZiAoY2FyZExpc3RzLmluY2x1ZGVzKGNhcmRMaXN0KSkge1xuICAgICAgICByZXR1cm4gcGxheWVyO1xuICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgR2FtZUVycm9yKEdhbWVNZXNzYWdlLklOVkFMSURfR0FNRV9TVEFURSk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGdldFN0YWRpdW1DYXJkKHN0YXRlOiBTdGF0ZSk6IENhcmQgfCB1bmRlZmluZWQge1xuICAgIGZvciAoY29uc3QgcGxheWVyIG9mIHN0YXRlLnBsYXllcnMpIHtcbiAgICAgIGlmIChwbGF5ZXIuc3RhZGl1bS5jYXJkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBwbGF5ZXIuc3RhZGl1bS5jYXJkc1swXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG59XG4iXX0=