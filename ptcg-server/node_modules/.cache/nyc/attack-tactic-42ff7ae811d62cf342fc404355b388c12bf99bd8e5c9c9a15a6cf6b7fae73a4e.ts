"use strict";function cov_1vvqprnep3(){var path="/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/simple-tactics/attack-tactic.ts";var hash="ade0f15f333697c237fefb6b206392e00cd7dc6f";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/simple-tactics/attack-tactic.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:30}},"2":{start:{line:4,column:15},end:{line:4,column:36}},"3":{start:{line:5,column:25},end:{line:5,column:52}},"4":{start:{line:8,column:19},end:{line:8,column:50}},"5":{start:{line:9,column:8},end:{line:11,column:9}},"6":{start:{line:10,column:12},end:{line:10,column:29}},"7":{start:{line:12,column:23},end:{line:12,column:53}},"8":{start:{line:13,column:8},end:{line:15,column:9}},"9":{start:{line:14,column:12},end:{line:14,column:29}},"10":{start:{line:16,column:28},end:{line:16,column:67}},"11":{start:{line:17,column:24},end:{line:17,column:74}},"12":{start:{line:19,column:8},end:{line:26,column:11}},"13":{start:{line:20,column:27},end:{line:20,column:74}},"14":{start:{line:21,column:26},end:{line:21,column:71}},"15":{start:{line:22,column:12},end:{line:25,column:13}},"16":{start:{line:23,column:16},end:{line:23,column:34}},"17":{start:{line:24,column:16},end:{line:24,column:38}},"18":{start:{line:27,column:8},end:{line:27,column:28}},"19":{start:{line:30,column:0},end:{line:30,column:36}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:29},end:{line:28,column:5}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:19,column:31},end:{line:19,column:32}},loc:{start:{line:19,column:41},end:{line:26,column:9}},line:19}},branchMap:{"0":{loc:{start:{line:9,column:8},end:{line:11,column:9}},type:"if",locations:[{start:{line:9,column:8},end:{line:11,column:9}},{start:{line:9,column:8},end:{line:11,column:9}}],line:9},"1":{loc:{start:{line:9,column:12},end:{line:9,column:105}},type:"binary-expr",locations:[{start:{line:9,column:12},end:{line:9,column:58}},{start:{line:9,column:62},end:{line:9,column:105}}],line:9},"2":{loc:{start:{line:13,column:8},end:{line:15,column:9}},type:"if",locations:[{start:{line:13,column:8},end:{line:15,column:9}},{start:{line:13,column:8},end:{line:15,column:9}}],line:13},"3":{loc:{start:{line:22,column:12},end:{line:25,column:13}},type:"if",locations:[{start:{line:22,column:12},end:{line:25,column:13}},{start:{line:22,column:12},end:{line:25,column:13}}],line:22},"4":{loc:{start:{line:22,column:16},end:{line:22,column:56}},type:"binary-expr",locations:[{start:{line:22,column:16},end:{line:22,column:35}},{start:{line:22,column:39},end:{line:22,column:56}}],line:22}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},inputSourceMap:{version:3,file:"/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/simple-tactics/attack-tactic.ts",sources:["/Users/joemyerscough/Documents/GitHub/ptcg-epsd/ptcg-server/src/simple-bot/simple-tactics/attack-tactic.ts"],names:[],mappings:";;;AAAA,qCAAmF;AACnF,qDAAgD;AAEhD,MAAa,YAAa,SAAQ,6BAAY;IAErC,SAAS,CAAC,KAAY,EAAE,MAAc;QAC3C,MAAM,EAAE,GAAG,MAAM,CAAC,MAAM,CAAC,iBAAiB,CAAC;QAC3C,IAAI,EAAE,CAAC,QAAQ,CAAC,uBAAgB,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC,uBAAgB,CAAC,MAAM,CAAC,EAAE;YACnF,OAAO,SAAS,CAAC;SAClB;QAED,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC;QAC9C,IAAI,CAAC,MAAM,EAAE;YACX,OAAO,SAAS,CAAC;SAClB;QAED,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC;QAC5D,IAAI,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC;QACnE,IAAI,YAAsC,CAAC;QAE3C,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YAC9B,MAAM,MAAM,GAAG,IAAI,mBAAY,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC;YACxD,MAAM,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;YAE5D,IAAI,KAAK,KAAK,SAAS,IAAI,SAAS,GAAG,KAAK,EAAE;gBAC5C,SAAS,GAAG,KAAK,CAAC;gBAClB,YAAY,GAAG,MAAM,CAAC;aACvB;QACH,CAAC,CAAC,CAAC;QAEH,OAAO,YAAY,CAAC;IACtB,CAAC;CAEF;AA9BD,oCA8BC",sourcesContent:["import { Action, Player, State, SpecialCondition, AttackAction } from '../../game';\nimport { SimpleTactic } from './simple-tactics';\n\nexport class AttackTactic extends SimpleTactic {\n\n  public useTactic(state: State, player: Player): Action | undefined {\n    const sp = player.active.specialConditions;\n    if (sp.includes(SpecialCondition.PARALYZED) || sp.includes(SpecialCondition.ASLEEP)) {\n      return undefined;\n    }\n\n    const active = player.active.getPokemonCard();\n    if (!active) {\n      return undefined;\n    }\n\n    const attackBonus = this.options.scores.tactics.attackBonus;\n    let bestScore = this.getStateScore(state, player.id) - attackBonus;\n    let attackAction: AttackAction | undefined;\n\n    active.attacks.forEach(attack => {\n      const action = new AttackAction(player.id, attack.name);\n      const score = this.evaluateAction(state, player.id, action);\n\n      if (score !== undefined && bestScore < score) {\n        bestScore = score;\n        attackAction = action;\n      }\n    });\n\n    return attackAction;\n  }\n\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ade0f15f333697c237fefb6b206392e00cd7dc6f"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1vvqprnep3=function(){return actualCoverage;};}return actualCoverage;}cov_1vvqprnep3();cov_1vvqprnep3().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_1vvqprnep3().s[1]++;exports.AttackTactic=void 0;const game_1=(cov_1vvqprnep3().s[2]++,require("../../game"));const simple_tactics_1=(cov_1vvqprnep3().s[3]++,require("./simple-tactics"));class AttackTactic extends(simple_tactics_1.SimpleTactic){useTactic(state,player){cov_1vvqprnep3().f[0]++;const sp=(cov_1vvqprnep3().s[4]++,player.active.specialConditions);cov_1vvqprnep3().s[5]++;if((cov_1vvqprnep3().b[1][0]++,sp.includes(game_1.SpecialCondition.PARALYZED))||(cov_1vvqprnep3().b[1][1]++,sp.includes(game_1.SpecialCondition.ASLEEP))){cov_1vvqprnep3().b[0][0]++;cov_1vvqprnep3().s[6]++;return undefined;}else{cov_1vvqprnep3().b[0][1]++;}const active=(cov_1vvqprnep3().s[7]++,player.active.getPokemonCard());cov_1vvqprnep3().s[8]++;if(!active){cov_1vvqprnep3().b[2][0]++;cov_1vvqprnep3().s[9]++;return undefined;}else{cov_1vvqprnep3().b[2][1]++;}const attackBonus=(cov_1vvqprnep3().s[10]++,this.options.scores.tactics.attackBonus);let bestScore=(cov_1vvqprnep3().s[11]++,this.getStateScore(state,player.id)-attackBonus);let attackAction;cov_1vvqprnep3().s[12]++;active.attacks.forEach(attack=>{cov_1vvqprnep3().f[1]++;const action=(cov_1vvqprnep3().s[13]++,new game_1.AttackAction(player.id,attack.name));const score=(cov_1vvqprnep3().s[14]++,this.evaluateAction(state,player.id,action));cov_1vvqprnep3().s[15]++;if((cov_1vvqprnep3().b[4][0]++,score!==undefined)&&(cov_1vvqprnep3().b[4][1]++,bestScore<score)){cov_1vvqprnep3().b[3][0]++;cov_1vvqprnep3().s[16]++;bestScore=score;cov_1vvqprnep3().s[17]++;attackAction=action;}else{cov_1vvqprnep3().b[3][1]++;}});cov_1vvqprnep3().s[18]++;return attackAction;}}cov_1vvqprnep3().s[19]++;exports.AttackTactic=AttackTactic;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2pvZW15ZXJzY291Z2gvRG9jdW1lbnRzL0dpdEh1Yi9wdGNnLWVwc2QvcHRjZy1zZXJ2ZXIvc3JjL3NpbXBsZS1ib3Qvc2ltcGxlLXRhY3RpY3MvYXR0YWNrLXRhY3RpYy50cyIsInNvdXJjZXMiOlsiL1VzZXJzL2pvZW15ZXJzY291Z2gvRG9jdW1lbnRzL0dpdEh1Yi9wdGNnLWVwc2QvcHRjZy1zZXJ2ZXIvc3JjL3NpbXBsZS1ib3Qvc2ltcGxlLXRhY3RpY3MvYXR0YWNrLXRhY3RpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxxQ0FBbUY7QUFDbkYscURBQWdEO0FBRWhELE1BQWEsWUFBYSxTQUFRLDZCQUFZO0lBRXJDLFNBQVMsQ0FBQyxLQUFZLEVBQUUsTUFBYztRQUMzQyxNQUFNLEVBQUUsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDO1FBQzNDLElBQUksRUFBRSxDQUFDLFFBQVEsQ0FBQyx1QkFBZ0IsQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUMsUUFBUSxDQUFDLHVCQUFnQixDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQ25GLE9BQU8sU0FBUyxDQUFDO1NBQ2xCO1FBRUQsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUM5QyxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ1gsT0FBTyxTQUFTLENBQUM7U0FDbEI7UUFFRCxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDO1FBQzVELElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxXQUFXLENBQUM7UUFDbkUsSUFBSSxZQUFzQyxDQUFDO1FBRTNDLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQzlCLE1BQU0sTUFBTSxHQUFHLElBQUksbUJBQVksQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN4RCxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBRTVELElBQUksS0FBSyxLQUFLLFNBQVMsSUFBSSxTQUFTLEdBQUcsS0FBSyxFQUFFO2dCQUM1QyxTQUFTLEdBQUcsS0FBSyxDQUFDO2dCQUNsQixZQUFZLEdBQUcsTUFBTSxDQUFDO2FBQ3ZCO1FBQ0gsQ0FBQyxDQUFDLENBQUM7UUFFSCxPQUFPLFlBQVksQ0FBQztJQUN0QixDQUFDO0NBRUY7QUE5QkQsb0NBOEJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWN0aW9uLCBQbGF5ZXIsIFN0YXRlLCBTcGVjaWFsQ29uZGl0aW9uLCBBdHRhY2tBY3Rpb24gfSBmcm9tICcuLi8uLi9nYW1lJztcbmltcG9ydCB7IFNpbXBsZVRhY3RpYyB9IGZyb20gJy4vc2ltcGxlLXRhY3RpY3MnO1xuXG5leHBvcnQgY2xhc3MgQXR0YWNrVGFjdGljIGV4dGVuZHMgU2ltcGxlVGFjdGljIHtcblxuICBwdWJsaWMgdXNlVGFjdGljKHN0YXRlOiBTdGF0ZSwgcGxheWVyOiBQbGF5ZXIpOiBBY3Rpb24gfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IHNwID0gcGxheWVyLmFjdGl2ZS5zcGVjaWFsQ29uZGl0aW9ucztcbiAgICBpZiAoc3AuaW5jbHVkZXMoU3BlY2lhbENvbmRpdGlvbi5QQVJBTFlaRUQpIHx8IHNwLmluY2x1ZGVzKFNwZWNpYWxDb25kaXRpb24uQVNMRUVQKSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBjb25zdCBhY3RpdmUgPSBwbGF5ZXIuYWN0aXZlLmdldFBva2Vtb25DYXJkKCk7XG4gICAgaWYgKCFhY3RpdmUpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgY29uc3QgYXR0YWNrQm9udXMgPSB0aGlzLm9wdGlvbnMuc2NvcmVzLnRhY3RpY3MuYXR0YWNrQm9udXM7XG4gICAgbGV0IGJlc3RTY29yZSA9IHRoaXMuZ2V0U3RhdGVTY29yZShzdGF0ZSwgcGxheWVyLmlkKSAtIGF0dGFja0JvbnVzO1xuICAgIGxldCBhdHRhY2tBY3Rpb246IEF0dGFja0FjdGlvbiB8IHVuZGVmaW5lZDtcblxuICAgIGFjdGl2ZS5hdHRhY2tzLmZvckVhY2goYXR0YWNrID0+IHtcbiAgICAgIGNvbnN0IGFjdGlvbiA9IG5ldyBBdHRhY2tBY3Rpb24ocGxheWVyLmlkLCBhdHRhY2submFtZSk7XG4gICAgICBjb25zdCBzY29yZSA9IHRoaXMuZXZhbHVhdGVBY3Rpb24oc3RhdGUsIHBsYXllci5pZCwgYWN0aW9uKTtcblxuICAgICAgaWYgKHNjb3JlICE9PSB1bmRlZmluZWQgJiYgYmVzdFNjb3JlIDwgc2NvcmUpIHtcbiAgICAgICAgYmVzdFNjb3JlID0gc2NvcmU7XG4gICAgICAgIGF0dGFja0FjdGlvbiA9IGFjdGlvbjtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBhdHRhY2tBY3Rpb247XG4gIH1cblxufVxuIl19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2VteWVyc2NvdWdoL0RvY3VtZW50cy9HaXRIdWIvcHRjZy1lcHNkL3B0Y2ctc2VydmVyL3NyYy9zaW1wbGUtYm90L3NpbXBsZS10YWN0aWNzL2F0dGFjay10YWN0aWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjgrS0FnQkk7Z09BaEJKLEtBQUEsQ0FBQSxNQUFBLDBCQUFBLE9BQUEsQ0FBQSxZQUFBLENBQUEsQ0FBQSxDQUNBLEtBQUEsQ0FBQSxnQkFBQSwwQkFBQSxPQUFBLENBQUEsa0JBQUEsQ0FBQSxDQUFBLENBRUEsS0FBYSxDQUFBLFlBQWIsU0FBa0MsZ0JBQUEsQ0FBQSxZQUFsQyxDQUE4QyxDQUVyQyxTQUFTLENBQUMsS0FBRCxDQUFlLE1BQWYsQ0FBNkIseUJBQzNDLEtBQU0sQ0FBQSxFQUFFLDBCQUFHLE1BQU0sQ0FBQyxNQUFQLENBQWMsaUJBQWpCLENBQVIsQ0FEMkMsd0JBRTNDLEdBQUksNEJBQUEsRUFBRSxDQUFDLFFBQUgsQ0FBWSxNQUFBLENBQUEsZ0JBQUEsQ0FBaUIsU0FBN0IsZ0NBQTJDLEVBQUUsQ0FBQyxRQUFILENBQVksTUFBQSxDQUFBLGdCQUFBLENBQWlCLE1BQTdCLENBQTNDLENBQUosQ0FBcUYsb0RBQ25GLE1BQU8sQ0FBQSxTQUFQLENBQ0QsQ0FGRCxpQ0FJQSxLQUFNLENBQUEsTUFBTSwwQkFBRyxNQUFNLENBQUMsTUFBUCxDQUFjLGNBQWQsRUFBSCxDQUFaLENBTjJDLHdCQU8zQyxHQUFJLENBQUMsTUFBTCxDQUFhLG9EQUNYLE1BQU8sQ0FBQSxTQUFQLENBQ0QsQ0FGRCxpQ0FJQSxLQUFNLENBQUEsV0FBVywyQkFBRyxLQUFLLE9BQUwsQ0FBYSxNQUFiLENBQW9CLE9BQXBCLENBQTRCLFdBQS9CLENBQWpCLENBQ0EsR0FBSSxDQUFBLFNBQVMsMkJBQUcsS0FBSyxhQUFMLENBQW1CLEtBQW5CLENBQTBCLE1BQU0sQ0FBQyxFQUFqQyxFQUF1QyxXQUExQyxDQUFiLENBQ0EsR0FBSSxDQUFBLFlBQUosQ0FiMkMseUJBZTNDLE1BQU0sQ0FBQyxPQUFQLENBQWUsT0FBZixDQUF1QixNQUFNLEVBQUcseUJBQzlCLEtBQU0sQ0FBQSxNQUFNLDJCQUFHLEdBQUksQ0FBQSxNQUFBLENBQUEsWUFBSixDQUFpQixNQUFNLENBQUMsRUFBeEIsQ0FBNEIsTUFBTSxDQUFDLElBQW5DLENBQUgsQ0FBWixDQUNBLEtBQU0sQ0FBQSxLQUFLLDJCQUFHLEtBQUssY0FBTCxDQUFvQixLQUFwQixDQUEyQixNQUFNLENBQUMsRUFBbEMsQ0FBc0MsTUFBdEMsQ0FBSCxDQUFYLENBRjhCLHlCQUk5QixHQUFJLDRCQUFBLEtBQUssR0FBSyxTQUFWLCtCQUF1QixTQUFTLENBQUcsS0FBbkMsQ0FBSixDQUE4QyxxREFDNUMsU0FBUyxDQUFHLEtBQVosQ0FENEMseUJBRTVDLFlBQVksQ0FBRyxNQUFmLENBQ0QsQ0FIRCxpQ0FJRCxDQVJELEVBZjJDLHlCQXlCM0MsTUFBTyxDQUFBLFlBQVAsQ0FDRCxDQTVCMkMsQyx5QkFBOUMsT0FBQSxDQUFBLFlBQUEsQ0FBQSxZQUFBLEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3Rpb24sIFBsYXllciwgU3RhdGUsIFNwZWNpYWxDb25kaXRpb24sIEF0dGFja0FjdGlvbiB9IGZyb20gJy4uLy4uL2dhbWUnO1xuaW1wb3J0IHsgU2ltcGxlVGFjdGljIH0gZnJvbSAnLi9zaW1wbGUtdGFjdGljcyc7XG5cbmV4cG9ydCBjbGFzcyBBdHRhY2tUYWN0aWMgZXh0ZW5kcyBTaW1wbGVUYWN0aWMge1xuXG4gIHB1YmxpYyB1c2VUYWN0aWMoc3RhdGU6IFN0YXRlLCBwbGF5ZXI6IFBsYXllcik6IEFjdGlvbiB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3Qgc3AgPSBwbGF5ZXIuYWN0aXZlLnNwZWNpYWxDb25kaXRpb25zO1xuICAgIGlmIChzcC5pbmNsdWRlcyhTcGVjaWFsQ29uZGl0aW9uLlBBUkFMWVpFRCkgfHwgc3AuaW5jbHVkZXMoU3BlY2lhbENvbmRpdGlvbi5BU0xFRVApKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGNvbnN0IGFjdGl2ZSA9IHBsYXllci5hY3RpdmUuZ2V0UG9rZW1vbkNhcmQoKTtcbiAgICBpZiAoIWFjdGl2ZSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBjb25zdCBhdHRhY2tCb251cyA9IHRoaXMub3B0aW9ucy5zY29yZXMudGFjdGljcy5hdHRhY2tCb251cztcbiAgICBsZXQgYmVzdFNjb3JlID0gdGhpcy5nZXRTdGF0ZVNjb3JlKHN0YXRlLCBwbGF5ZXIuaWQpIC0gYXR0YWNrQm9udXM7XG4gICAgbGV0IGF0dGFja0FjdGlvbjogQXR0YWNrQWN0aW9uIHwgdW5kZWZpbmVkO1xuXG4gICAgYWN0aXZlLmF0dGFja3MuZm9yRWFjaChhdHRhY2sgPT4ge1xuICAgICAgY29uc3QgYWN0aW9uID0gbmV3IEF0dGFja0FjdGlvbihwbGF5ZXIuaWQsIGF0dGFjay5uYW1lKTtcbiAgICAgIGNvbnN0IHNjb3JlID0gdGhpcy5ldmFsdWF0ZUFjdGlvbihzdGF0ZSwgcGxheWVyLmlkLCBhY3Rpb24pO1xuXG4gICAgICBpZiAoc2NvcmUgIT09IHVuZGVmaW5lZCAmJiBiZXN0U2NvcmUgPCBzY29yZSkge1xuICAgICAgICBiZXN0U2NvcmUgPSBzY29yZTtcbiAgICAgICAgYXR0YWNrQWN0aW9uID0gYWN0aW9uO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGF0dGFja0FjdGlvbjtcbiAgfVxuXG59XG4iXX0=